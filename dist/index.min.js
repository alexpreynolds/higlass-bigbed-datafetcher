var oc=Object.create;var Gr=Object.defineProperty;var ac=Object.getOwnPropertyDescriptor;var sc=Object.getOwnPropertyNames;var fc=Object.getPrototypeOf,uc=Object.prototype.hasOwnProperty;var J=(r,t)=>()=>(r&&(t=r(r=0)),t);var me=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),Ca=(r,t)=>{for(var e in t)Gr(r,e,{get:t[e],enumerable:!0})},ka=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of sc(t))!uc.call(r,i)&&i!==e&&Gr(r,i,{get:()=>t[i],enumerable:!(n=ac(t,i))||n.enumerable});return r};var ke=(r,t,e)=>(e=r!=null?oc(fc(r)):{},ka(t||!r||!r.__esModule?Gr(e,"default",{value:r,enumerable:!0}):e,r)),lc=r=>ka(Gr({},"__esModule",{value:!0}),r);function $a(){throw new Error("setTimeout has not been defined")}function Ia(){throw new Error("clearTimeout has not been defined")}function Na(r){if(rt===setTimeout)return setTimeout(r,0);if((rt===$a||!rt)&&setTimeout)return rt=setTimeout,setTimeout(r,0);try{return rt(r,0)}catch(t){try{return rt.call(null,r,0)}catch(e){return rt.call(this,r,0)}}}function cc(r){if(nt===clearTimeout)return clearTimeout(r);if((nt===Ia||!nt)&&clearTimeout)return nt=clearTimeout,clearTimeout(r);try{return nt(r)}catch(t){try{return nt.call(null,r)}catch(e){return nt.call(this,r)}}}function hc(){!Dt||!pt||(Dt=!1,pt.length?qe=pt.concat(qe):Wr=-1,qe.length&&Fa())}function Fa(){if(!Dt){var r=Na(hc);Dt=!0;for(var t=qe.length;t;){for(pt=qe,qe=[];++Wr<t;)pt&&pt[Wr].run();Wr=-1,t=qe.length}pt=null,Dt=!1,cc(r)}}function pc(r){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];qe.push(new Ba(r,t)),qe.length===1&&!Dt&&Na(Fa)}function Ba(r,t){this.fun=r,this.array=t}function dt(){}function $c(r){throw new Error("process.binding is not supported")}function Ic(){return"/"}function Nc(r){throw new Error("process.chdir is not supported")}function Fc(){return 0}function Oc(r){var t=Bc.call(Pt)*.001,e=Math.floor(t),n=Math.floor(t%1*1e9);return r&&(e=e-r[0],n=n-r[1],n<0&&(e--,n+=1e9)),[e,n]}function Pc(){var r=new Date,t=r-Uc;return t/1e3}var rt,nt,qe,Dt,pt,Wr,dc,mc,gc,bc,wc,_c,yc,xc,vc,Ec,Sc,Ac,Tc,Cc,kc,Rc,Pt,Bc,Uc,v,Ra,d=J(()=>{rt=$a,nt=Ia;typeof globalThis.setTimeout=="function"&&(rt=setTimeout);typeof globalThis.clearTimeout=="function"&&(nt=clearTimeout);qe=[],Dt=!1,Wr=-1;Ba.prototype.run=function(){this.fun.apply(null,this.array)};dc="browser",mc="browser",gc=!0,bc={},wc=[],_c="",yc={},xc={},vc={};Ec=dt,Sc=dt,Ac=dt,Tc=dt,Cc=dt,kc=dt,Rc=dt;Pt=globalThis.performance||{},Bc=Pt.now||Pt.mozNow||Pt.msNow||Pt.oNow||Pt.webkitNow||function(){return new Date().getTime()};Uc=new Date;v={nextTick:pc,title:dc,browser:gc,env:bc,argv:wc,version:_c,versions:yc,on:Ec,addListener:Sc,once:Ac,off:Tc,removeListener:Cc,removeAllListeners:kc,emit:Rc,binding:$c,cwd:Ic,chdir:Nc,umask:Fc,hrtime:Oc,platform:mc,release:xc,config:vc,uptime:Pc},Ra={};Object.keys(Ra).forEach(r=>{let t=r.split("."),e=v;for(let n=0;n<t.length;n++){let i=t[n];n===t.length-1?e[i]=Ra[r]:e=e[i]||(e[i]={})}})});function Da(){ci=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,e=r.length;t<e;++t)Be[t]=r[t],ye[r.charCodeAt(t)]=t;ye["-".charCodeAt(0)]=62,ye["_".charCodeAt(0)]=63}function zc(r){ci||Da();var t,e,n,i,o,a,s=r.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=r[s-2]==="="?2:r[s-1]==="="?1:0,a=new Dc(s*3/4-o),n=o>0?s-4:s;var l=0;for(t=0,e=0;t<n;t+=4,e+=3)i=ye[r.charCodeAt(t)]<<18|ye[r.charCodeAt(t+1)]<<12|ye[r.charCodeAt(t+2)]<<6|ye[r.charCodeAt(t+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=i&255;return o===2?(i=ye[r.charCodeAt(t)]<<2|ye[r.charCodeAt(t+1)]>>4,a[l++]=i&255):o===1&&(i=ye[r.charCodeAt(t)]<<10|ye[r.charCodeAt(t+1)]<<4|ye[r.charCodeAt(t+2)]>>2,a[l++]=i>>8&255,a[l++]=i&255),a}function Lc(r){return Be[r>>18&63]+Be[r>>12&63]+Be[r>>6&63]+Be[r&63]}function Mc(r,t,e){for(var n,i=[],o=t;o<e;o+=3)n=(r[o]<<16)+(r[o+1]<<8)+r[o+2],i.push(Lc(n));return i.join("")}function Oa(r){ci||Da();for(var t,e=r.length,n=e%3,i="",o=[],a=16383,s=0,l=e-n;s<l;s+=a)o.push(Mc(r,s,s+a>l?l:s+a));return n===1?(t=r[e-1],i+=Be[t>>2],i+=Be[t<<4&63],i+="=="):n===2&&(t=(r[e-2]<<8)+r[e-1],i+=Be[t>>10],i+=Be[t>>4&63],i+=Be[t<<2&63],i+="="),o.push(i),o.join("")}function Xr(){return b.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function je(r,t){if(Xr()<t)throw new RangeError("Invalid typed array length");return b.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=b.prototype):(r===null&&(r=new b(t)),r.length=t),r}function b(r,t,e){if(!b.TYPED_ARRAY_SUPPORT&&!(this instanceof b))return new b(r,t,e);if(typeof r=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return hi(this,r)}return za(this,r,t,e)}function za(r,t,e,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer?Yc(r,t,e,n):typeof t=="string"?Zc(r,t,e):Hc(r,t)}function La(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function Vc(r,t,e,n){return La(t),t<=0?je(r,t):e!==void 0?typeof n=="string"?je(r,t).fill(e,n):je(r,t).fill(e):je(r,t)}function hi(r,t){if(La(t),r=je(r,t<0?0:pi(t)|0),!b.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)r[e]=0;return r}function Zc(r,t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!b.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=Ma(t,e)|0;r=je(r,n);var i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}function li(r,t){var e=t.length<0?0:pi(t.length)|0;r=je(r,e);for(var n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Yc(r,t,e,n){if(t.byteLength,e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return e===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,e):t=new Uint8Array(t,e,n),b.TYPED_ARRAY_SUPPORT?(r=t,r.__proto__=b.prototype):r=li(r,t),r}function Hc(r,t){if(Oe(t)){var e=pi(t.length)|0;return r=je(r,e),r.length===0||t.copy(r,0,0,e),r}if(t){if(typeof ArrayBuffer!="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||lh(t.length)?je(r,0):li(r,t);if(t.type==="Buffer"&&Array.isArray(t.data))return li(r,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function pi(r){if(r>=Xr())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Xr().toString(16)+" bytes");return r|0}function Oe(r){return!!(r!=null&&r._isBuffer)}function Ma(r,t){if(Oe(r))return r.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var e=r.length;if(e===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return Kr(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return Ga(r).length;default:if(n)return Kr(r).length;t=(""+t).toLowerCase(),n=!0}}function qc(r,t,e){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return rh(this,t,e);case"utf8":case"utf-8":return Ya(this,t,e);case"ascii":return eh(this,t,e);case"latin1":case"binary":return th(this,t,e);case"base64":return Jc(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return nh(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}function mt(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}function Va(r,t,e,n,i){if(r.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(i)return-1;e=r.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof t=="string"&&(t=b.from(t,n)),Oe(t))return t.length===0?-1:Ua(r,t,e,n,i);if(typeof t=="number")return t=t&255,b.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):Ua(r,[t],e,n,i);throw new TypeError("val must be string, number or Buffer")}function Ua(r,t,e,n,i){var o=1,a=r.length,s=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||t.length<2)return-1;o=2,a/=2,s/=2,e/=2}function l(h,_){return o===1?h[_]:h.readUInt16BE(_*o)}var f;if(i){var u=-1;for(f=e;f<a;f++)if(l(r,f)===l(t,u===-1?0:f-u)){if(u===-1&&(u=f),f-u+1===s)return u*o}else u!==-1&&(f-=f-u),u=-1}else for(e+s>a&&(e=a-s),f=e;f>=0;f--){for(var p=!0,g=0;g<s;g++)if(l(r,f+g)!==l(t,g)){p=!1;break}if(p)return f}return-1}function jc(r,t,e,n){e=Number(e)||0;var i=r.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(a*2,2),16);if(isNaN(s))return a;r[e+a]=s}return a}function Gc(r,t,e,n){return en(Kr(t,r.length-e),r,e,n)}function Za(r,t,e,n){return en(fh(t),r,e,n)}function Wc(r,t,e,n){return Za(r,t,e,n)}function Xc(r,t,e,n){return en(Ga(t),r,e,n)}function Kc(r,t,e,n){return en(uh(t,r.length-e),r,e,n)}function Jc(r,t,e){return t===0&&e===r.length?Oa(r):Oa(r.slice(t,e))}function Ya(r,t,e){e=Math.min(r.length,e);for(var n=[],i=t;i<e;){var o=r[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=e){var l,f,u,p;switch(s){case 1:o<128&&(a=o);break;case 2:l=r[i+1],(l&192)===128&&(p=(o&31)<<6|l&63,p>127&&(a=p));break;case 3:l=r[i+1],f=r[i+2],(l&192)===128&&(f&192)===128&&(p=(o&15)<<12|(l&63)<<6|f&63,p>2047&&(p<55296||p>57343)&&(a=p));break;case 4:l=r[i+1],f=r[i+2],u=r[i+3],(l&192)===128&&(f&192)===128&&(u&192)===128&&(p=(o&15)<<18|(l&63)<<12|(f&63)<<6|u&63,p>65535&&p<1114112&&(a=p))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s}return Qc(n)}function Qc(r){var t=r.length;if(t<=Pa)return String.fromCharCode.apply(String,r);for(var e="",n=0;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=Pa));return e}function eh(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]&127);return n}function th(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]);return n}function rh(r,t,e){var n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=t;o<e;++o)i+=sh(r[o]);return i}function nh(r,t,e){for(var n=r.slice(t,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}function Q(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}function le(r,t,e,n,i,o){if(!Oe(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(e+n>r.length)throw new RangeError("Index out of range")}function Jr(r,t,e,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(r.length-e,2);i<o;++i)r[e+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function Qr(r,t,e,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(r.length-e,4);i<o;++i)r[e+i]=t>>>(n?i:3-i)*8&255}function Ha(r,t,e,n,i,o){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function qa(r,t,e,n,i){return i||Ha(r,t,e,4,34028234663852886e22,-34028234663852886e22),Xa(r,t,e,n,23,4),e+4}function ja(r,t,e,n,i){return i||Ha(r,t,e,8,17976931348623157e292,-17976931348623157e292),Xa(r,t,e,n,52,8),e+8}function oh(r){if(r=ah(r).replace(ih,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function ah(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function sh(r){return r<16?"0"+r.toString(16):r.toString(16)}function Kr(r,t){t=t||1/0;for(var e,n=r.length,i=null,o=[],a=0;a<n;++a){if(e=r.charCodeAt(a),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}function fh(r){for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function uh(r,t){for(var e,n,i,o=[],a=0;a<r.length&&!((t-=2)<0);++a)e=r.charCodeAt(a),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function Ga(r){return zc(oh(r))}function en(r,t,e,n){for(var i=0;i<n&&!(i+e>=t.length||i>=r.length);++i)t[i+e]=r[i];return i}function lh(r){return r!==r}function ch(r){return r!=null&&(!!r._isBuffer||Wa(r)||hh(r))}function Wa(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function hh(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&Wa(r.slice(0,0))}function tn(r,t,e,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,f=l>>1,u=-7,p=e?i-1:0,g=e?-1:1,h=r[t+p];for(p+=g,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=o*256+r[t+p],p+=g,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=a*256+r[t+p],p+=g,u-=8);if(o===0)o=1-f;else{if(o===l)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-f}return(h?-1:1)*a*Math.pow(2,o-n)}function Xa(r,t,e,n,i,o){var a,s,l,f=o*8-i-1,u=(1<<f)-1,p=u>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,_=n?1:-1,x=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+p>=1?t+=g/l:t+=g*Math.pow(2,1-p),t*l>=2&&(a++,l/=2),a+p>=u?(s=0,a=u):a+p>=1?(s=(t*l-1)*Math.pow(2,i),a=a+p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;r[e+h]=s&255,h+=_,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;r[e+h]=a&255,h+=_,a/=256,f-=8);r[e+h-_]|=x*128}var Be,ye,Dc,ci,Pa,ih,Ka=J(()=>{d();m();Be=[],ye=[],Dc=typeof Uint8Array!="undefined"?Uint8Array:Array,ci=!1;b.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;b.poolSize=8192;b._augment=function(r){return r.__proto__=b.prototype,r};b.from=function(r,t,e){return za(null,r,t,e)};b.kMaxLength=Xr();b.TYPED_ARRAY_SUPPORT&&(b.prototype.__proto__=Uint8Array.prototype,b.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&b[Symbol.species]);b.alloc=function(r,t,e){return Vc(null,r,t,e)};b.allocUnsafe=function(r){return hi(null,r)};b.allocUnsafeSlow=function(r){return hi(null,r)};b.isBuffer=ch;b.compare=function(t,e){if(!Oe(t)||!Oe(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0};b.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};b.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return b.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=b.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!Oe(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i};b.byteLength=Ma;b.prototype._isBuffer=!0;b.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)mt(this,e,e+1);return this};b.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)mt(this,e,e+3),mt(this,e+1,e+2);return this};b.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)mt(this,e,e+7),mt(this,e+1,e+6),mt(this,e+2,e+5),mt(this,e+3,e+4);return this};b.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?Ya(this,0,t):qc.apply(this,arguments)};b.prototype.equals=function(t){if(!Oe(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:b.compare(this,t)===0};b.prototype.compare=function(t,e,n,i,o){if(!Oe(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var a=o-i,s=n-e,l=Math.min(a,s),f=this.slice(i,o),u=t.slice(e,n),p=0;p<l;++p)if(f[p]!==u[p]){a=f[p],s=u[p];break}return a<s?-1:s<a?1:0};b.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};b.prototype.indexOf=function(t,e,n){return Va(this,t,e,n,!0)};b.prototype.lastIndexOf=function(t,e,n){return Va(this,t,e,n,!1)};b.prototype.write=function(t,e,n,i){if(e===void 0)i="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")i=e,n=this.length,e=0;else if(isFinite(e))e=e|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-e;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return jc(this,t,e,n);case"utf8":case"utf-8":return Gc(this,t,e,n);case"ascii":return Za(this,t,e,n);case"latin1":case"binary":return Wc(this,t,e,n);case"base64":return Xc(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Kc(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};Pa=4096;b.prototype.slice=function(t,e){var n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var i;if(b.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=b.prototype;else{var o=e-t;i=new b(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+t]}return i};b.prototype.readUIntLE=function(t,e,n){t=t|0,e=e|0,n||Q(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return i};b.prototype.readUIntBE=function(t,e,n){t=t|0,e=e|0,n||Q(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i};b.prototype.readUInt8=function(t,e){return e||Q(t,1,this.length),this[t]};b.prototype.readUInt16LE=function(t,e){return e||Q(t,2,this.length),this[t]|this[t+1]<<8};b.prototype.readUInt16BE=function(t,e){return e||Q(t,2,this.length),this[t]<<8|this[t+1]};b.prototype.readUInt32LE=function(t,e){return e||Q(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};b.prototype.readUInt32BE=function(t,e){return e||Q(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};b.prototype.readIntLE=function(t,e,n){t=t|0,e=e|0,n||Q(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i};b.prototype.readIntBE=function(t,e,n){t=t|0,e=e|0,n||Q(t,e,this.length);for(var i=e,o=1,a=this[t+--i];i>0&&(o*=256);)a+=this[t+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*e)),a};b.prototype.readInt8=function(t,e){return e||Q(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};b.prototype.readInt16LE=function(t,e){e||Q(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};b.prototype.readInt16BE=function(t,e){e||Q(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};b.prototype.readInt32LE=function(t,e){return e||Q(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};b.prototype.readInt32BE=function(t,e){return e||Q(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};b.prototype.readFloatLE=function(t,e){return e||Q(t,4,this.length),tn(this,t,!0,23,4)};b.prototype.readFloatBE=function(t,e){return e||Q(t,4,this.length),tn(this,t,!1,23,4)};b.prototype.readDoubleLE=function(t,e){return e||Q(t,8,this.length),tn(this,t,!0,52,8)};b.prototype.readDoubleBE=function(t,e){return e||Q(t,8,this.length),tn(this,t,!1,52,8)};b.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;le(this,t,e,n,o,0)}var a=1,s=0;for(this[e]=t&255;++s<n&&(a*=256);)this[e+s]=t/a&255;return e+n};b.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;le(this,t,e,n,o,0)}var a=n-1,s=1;for(this[e+a]=t&255;--a>=0&&(s*=256);)this[e+a]=t/s&255;return e+n};b.prototype.writeUInt8=function(t,e,n){return t=+t,e=e|0,n||le(this,t,e,1,255,0),b.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t&255,e+1};b.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e|0,n||le(this,t,e,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):Jr(this,t,e,!0),e+2};b.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e|0,n||le(this,t,e,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):Jr(this,t,e,!1),e+2};b.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e|0,n||le(this,t,e,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255):Qr(this,t,e,!0),e+4};b.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e|0,n||le(this,t,e,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):Qr(this,t,e,!1),e+4};b.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=e|0,!i){var o=Math.pow(2,8*n-1);le(this,t,e,n,o-1,-o)}var a=0,s=1,l=0;for(this[e]=t&255;++a<n&&(s*=256);)t<0&&l===0&&this[e+a-1]!==0&&(l=1),this[e+a]=(t/s>>0)-l&255;return e+n};b.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=e|0,!i){var o=Math.pow(2,8*n-1);le(this,t,e,n,o-1,-o)}var a=n-1,s=1,l=0;for(this[e+a]=t&255;--a>=0&&(s*=256);)t<0&&l===0&&this[e+a+1]!==0&&(l=1),this[e+a]=(t/s>>0)-l&255;return e+n};b.prototype.writeInt8=function(t,e,n){return t=+t,e=e|0,n||le(this,t,e,1,127,-128),b.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=t&255,e+1};b.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e|0,n||le(this,t,e,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):Jr(this,t,e,!0),e+2};b.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e|0,n||le(this,t,e,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):Jr(this,t,e,!1),e+2};b.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e|0,n||le(this,t,e,4,2147483647,-2147483648),b.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Qr(this,t,e,!0),e+4};b.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e|0,n||le(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),b.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):Qr(this,t,e,!1),e+4};b.prototype.writeFloatLE=function(t,e,n){return qa(this,t,e,!0,n)};b.prototype.writeFloatBE=function(t,e,n){return qa(this,t,e,!1,n)};b.prototype.writeDoubleLE=function(t,e,n){return ja(this,t,e,!0,n)};b.prototype.writeDoubleBE=function(t,e,n){return ja(this,t,e,!1,n)};b.prototype.copy=function(t,e,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n,a;if(this===t&&n<e&&e<i)for(a=o-1;a>=0;--a)t[a+e]=this[a+n];else if(o<1e3||!b.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o};b.prototype.fill=function(t,e,n,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),t.length===1){var o=t.charCodeAt(0);o<256&&(t=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!b.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof t=="number"&&(t=t&255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var a;if(typeof t=="number")for(a=e;a<n;++a)this[a]=t;else{var s=Oe(t)?t:Kr(new b(t,i).toString()),l=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%l]}return this};ih=/[^+\/0-9A-Za-z-_]/g});var m=J(()=>{Ka()});function ar(){if(!rn&&(rn=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!rn))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return rn(ph)}var rn,ph,di=J(()=>{d();m();ph=new Uint8Array(16)});var Ja,Qa=J(()=>{d();m();Ja=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function dh(r){return typeof r=="string"&&Ja.test(r)}var it,sr=J(()=>{d();m();Qa();it=dh});function mh(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(re[r[t+0]]+re[r[t+1]]+re[r[t+2]]+re[r[t+3]]+"-"+re[r[t+4]]+re[r[t+5]]+"-"+re[r[t+6]]+re[r[t+7]]+"-"+re[r[t+8]]+re[r[t+9]]+"-"+re[r[t+10]]+re[r[t+11]]+re[r[t+12]]+re[r[t+13]]+re[r[t+14]]+re[r[t+15]]).toLowerCase();if(!it(e))throw TypeError("Stringified UUID is invalid");return e}var re,nn,ot,fr=J(()=>{d();m();sr();re=[];for(nn=0;nn<256;++nn)re.push((nn+256).toString(16).substr(1));ot=mh});function gh(r,t,e){var n=t&&e||0,i=t||new Array(16);r=r||{};var o=r.node||es,a=r.clockseq!==void 0?r.clockseq:mi;if(o==null||a==null){var s=r.random||(r.rng||ar)();o==null&&(o=es=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=mi=(s[6]<<8|s[7])&16383)}var l=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:bi+1,u=l-gi+(f-bi)/1e4;if(u<0&&r.clockseq===void 0&&(a=a+1&16383),(u<0||l>gi)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");gi=l,bi=f,mi=a,l+=122192928e5;var p=((l&268435455)*1e4+f)%4294967296;i[n++]=p>>>24&255,i[n++]=p>>>16&255,i[n++]=p>>>8&255,i[n++]=p&255;var g=l/4294967296*1e4&268435455;i[n++]=g>>>8&255,i[n++]=g&255,i[n++]=g>>>24&15|16,i[n++]=g>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var h=0;h<6;++h)i[n+h]=o[h];return t||ot(i)}var es,mi,gi,bi,ts,rs=J(()=>{d();m();di();fr();gi=0,bi=0;ts=gh});function bh(r){if(!it(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}var on,wi=J(()=>{d();m();sr();on=bh});function wh(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}function an(r,t,e){function n(i,o,a,s){if(typeof i=="string"&&(i=wh(i)),typeof o=="string"&&(o=on(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=e(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=l[f];return a}return ot(l)}try{n.name=r}catch(i){}return n.DNS=_h,n.URL=yh,n}var _h,yh,_i=J(()=>{d();m();fr();wi();_h="6ba7b810-9dad-11d1-80b4-00c04fd430c8",yh="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function xh(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return vh(Eh(Sh(r),r.length*8))}function vh(r){for(var t=[],e=r.length*32,n="0123456789abcdef",i=0;i<e;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(a)}return t}function ns(r){return(r+64>>>9<<4)+14+1}function Eh(r,t){r[t>>5]|=128<<t%32,r[ns(t)-1]=t;for(var e=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=e,l=n,f=i,u=o;e=ie(e,n,i,o,r[a],7,-680876936),o=ie(o,e,n,i,r[a+1],12,-389564586),i=ie(i,o,e,n,r[a+2],17,606105819),n=ie(n,i,o,e,r[a+3],22,-1044525330),e=ie(e,n,i,o,r[a+4],7,-176418897),o=ie(o,e,n,i,r[a+5],12,1200080426),i=ie(i,o,e,n,r[a+6],17,-1473231341),n=ie(n,i,o,e,r[a+7],22,-45705983),e=ie(e,n,i,o,r[a+8],7,1770035416),o=ie(o,e,n,i,r[a+9],12,-1958414417),i=ie(i,o,e,n,r[a+10],17,-42063),n=ie(n,i,o,e,r[a+11],22,-1990404162),e=ie(e,n,i,o,r[a+12],7,1804603682),o=ie(o,e,n,i,r[a+13],12,-40341101),i=ie(i,o,e,n,r[a+14],17,-1502002290),n=ie(n,i,o,e,r[a+15],22,1236535329),e=oe(e,n,i,o,r[a+1],5,-165796510),o=oe(o,e,n,i,r[a+6],9,-1069501632),i=oe(i,o,e,n,r[a+11],14,643717713),n=oe(n,i,o,e,r[a],20,-373897302),e=oe(e,n,i,o,r[a+5],5,-701558691),o=oe(o,e,n,i,r[a+10],9,38016083),i=oe(i,o,e,n,r[a+15],14,-660478335),n=oe(n,i,o,e,r[a+4],20,-405537848),e=oe(e,n,i,o,r[a+9],5,568446438),o=oe(o,e,n,i,r[a+14],9,-1019803690),i=oe(i,o,e,n,r[a+3],14,-187363961),n=oe(n,i,o,e,r[a+8],20,1163531501),e=oe(e,n,i,o,r[a+13],5,-1444681467),o=oe(o,e,n,i,r[a+2],9,-51403784),i=oe(i,o,e,n,r[a+7],14,1735328473),n=oe(n,i,o,e,r[a+12],20,-1926607734),e=ae(e,n,i,o,r[a+5],4,-378558),o=ae(o,e,n,i,r[a+8],11,-2022574463),i=ae(i,o,e,n,r[a+11],16,1839030562),n=ae(n,i,o,e,r[a+14],23,-35309556),e=ae(e,n,i,o,r[a+1],4,-1530992060),o=ae(o,e,n,i,r[a+4],11,1272893353),i=ae(i,o,e,n,r[a+7],16,-155497632),n=ae(n,i,o,e,r[a+10],23,-1094730640),e=ae(e,n,i,o,r[a+13],4,681279174),o=ae(o,e,n,i,r[a],11,-358537222),i=ae(i,o,e,n,r[a+3],16,-722521979),n=ae(n,i,o,e,r[a+6],23,76029189),e=ae(e,n,i,o,r[a+9],4,-640364487),o=ae(o,e,n,i,r[a+12],11,-421815835),i=ae(i,o,e,n,r[a+15],16,530742520),n=ae(n,i,o,e,r[a+2],23,-995338651),e=se(e,n,i,o,r[a],6,-198630844),o=se(o,e,n,i,r[a+7],10,1126891415),i=se(i,o,e,n,r[a+14],15,-1416354905),n=se(n,i,o,e,r[a+5],21,-57434055),e=se(e,n,i,o,r[a+12],6,1700485571),o=se(o,e,n,i,r[a+3],10,-1894986606),i=se(i,o,e,n,r[a+10],15,-1051523),n=se(n,i,o,e,r[a+1],21,-2054922799),e=se(e,n,i,o,r[a+8],6,1873313359),o=se(o,e,n,i,r[a+15],10,-30611744),i=se(i,o,e,n,r[a+6],15,-1560198380),n=se(n,i,o,e,r[a+13],21,1309151649),e=se(e,n,i,o,r[a+4],6,-145523070),o=se(o,e,n,i,r[a+11],10,-1120210379),i=se(i,o,e,n,r[a+2],15,718787259),n=se(n,i,o,e,r[a+9],21,-343485551),e=at(e,s),n=at(n,l),i=at(i,f),o=at(o,u)}return[e,n,i,o]}function Sh(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(ns(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function at(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function Ah(r,t){return r<<t|r>>>32-t}function sn(r,t,e,n,i,o){return at(Ah(at(at(t,r),at(n,o)),i),e)}function ie(r,t,e,n,i,o,a){return sn(t&e|~t&n,r,t,i,o,a)}function oe(r,t,e,n,i,o,a){return sn(t&n|e&~n,r,t,i,o,a)}function ae(r,t,e,n,i,o,a){return sn(t^e^n,r,t,i,o,a)}function se(r,t,e,n,i,o,a){return sn(e^(t|~n),r,t,i,o,a)}var is,os=J(()=>{d();m();is=xh});var Th,as,ss=J(()=>{d();m();_i();os();Th=an("v3",48,is),as=Th});function Ch(r,t,e){r=r||{};var n=r.random||(r.rng||ar)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var i=0;i<16;++i)t[e+i]=n[i];return t}return ot(n)}var fs,us=J(()=>{d();m();di();fr();fs=Ch});function kh(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function yi(r,t){return r<<t|r>>>32-t}function Rh(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),l=0;l<a;++l){for(var f=new Uint32Array(16),u=0;u<16;++u)f[u]=r[l*64+u*4]<<24|r[l*64+u*4+1]<<16|r[l*64+u*4+2]<<8|r[l*64+u*4+3];s[l]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var p=0;p<a;++p){for(var g=new Uint32Array(80),h=0;h<16;++h)g[h]=s[p][h];for(var _=16;_<80;++_)g[_]=yi(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);for(var x=e[0],C=e[1],A=e[2],I=e[3],k=e[4],S=0;S<80;++S){var F=Math.floor(S/20),O=yi(x,5)+kh(F,C,A,I)+k+t[F]+g[S]>>>0;k=I,I=A,A=yi(C,30)>>>0,C=x,x=O}e[0]=e[0]+x>>>0,e[1]=e[1]+C>>>0,e[2]=e[2]+A>>>0,e[3]=e[3]+I>>>0,e[4]=e[4]+k>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var ls,cs=J(()=>{d();m();ls=Rh});var $h,hs,ps=J(()=>{d();m();_i();cs();$h=an("v5",80,ls),hs=$h});var ds,ms=J(()=>{d();m();ds="00000000-0000-0000-0000-000000000000"});function Ih(r){if(!it(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var gs,bs=J(()=>{d();m();sr();gs=Ih});var ws={};Ca(ws,{NIL:()=>ds,parse:()=>on,stringify:()=>ot,v1:()=>ts,v3:()=>as,v4:()=>fs,v5:()=>hs,validate:()=>it,version:()=>gs});var _s=J(()=>{d();m();rs();ss();us();ps();ms();bs();sr();fr();wi()});var ys=me(ur=>{d();m();var fn=(_s(),lc(ws)),xi=(()=>typeof b!="undefined"?r=>b.from(r).toString("base64"):r=>btoa(String.fromCharCode(...r)))(),Nh=(()=>typeof b!="undefined"?r=>b.from(r,"base64"):r=>Uint8Array.from(atob(r),t=>t.charCodeAt(0)))();ur.encode=function(r){var t=fn.parse(r),e=xi(t),n=e.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return n};ur.decode=function(r){var t=r.replace(/-/g,"+").replace(/_/g,"/")+"==";return fn.stringify(Nh(t))};ur.v4=function(){var r=fn.v4(null,new Uint8Array(16)),t=xi(r),e=t.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return e};ur.nice=function(){var r=fn.v4(null,new Uint8Array(16));r[0]=r[0]&127;var t=xi(r),e=t.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return e}});var vs=me((x1,xs)=>{d();m();xs.exports=ys()});var js=me(cr=>{"use strict";d();m();Object.defineProperty(cr,"__esModule",{value:!0});function ki(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")}function Ys(r,t){for(var e=0;e<t.length;e++){var n=t[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(r,n.key,n)}}function Ri(r,t,e){return t&&Ys(r.prototype,t),e&&Ys(r,e),Object.defineProperty(r,"prototype",{writable:!1}),r}function lp(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),Object.defineProperty(r,"prototype",{writable:!1}),t&&Ci(r,t)}function zt(r){return zt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},zt(r)}function Ci(r,t){return Ci=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},Ci(r,t)}function cp(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}function lr(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}function hp(r,t){if(t&&(typeof t=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return lr(r)}function pp(r){var t=cp();return function(){var n=zt(r),i;if(t){var o=zt(this).constructor;i=Reflect.construct(n,arguments,o)}else i=n.apply(this,arguments);return hp(this,i)}}function dp(r,t){for(;!Object.prototype.hasOwnProperty.call(r,t)&&(r=zt(r),r!==null););return r}function wn(){return typeof Reflect!="undefined"&&Reflect.get?wn=Reflect.get.bind():wn=function(t,e,n){var i=dp(t,e);if(!!i){var o=Object.getOwnPropertyDescriptor(i,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},wn.apply(this,arguments)}var Hs=function(){function r(){ki(this,r),Object.defineProperty(this,"listeners",{value:{},writable:!0,configurable:!0})}return Ri(r,[{key:"addEventListener",value:function(e,n,i){e in this.listeners||(this.listeners[e]=[]),this.listeners[e].push({callback:n,options:i})}},{key:"removeEventListener",value:function(e,n){if(e in this.listeners){for(var i=this.listeners[e],o=0,a=i.length;o<a;o++)if(i[o].callback===n){i.splice(o,1);return}}}},{key:"dispatchEvent",value:function(e){if(e.type in this.listeners){for(var n=this.listeners[e.type],i=n.slice(),o=0,a=i.length;o<a;o++){var s=i[o];try{s.callback.call(this,e)}catch(l){Promise.resolve().then(function(){throw l})}s.options&&s.options.once&&this.removeEventListener(e.type,s.callback)}return!e.defaultPrevented}}}]),r}(),$i=function(r){lp(e,r);var t=pp(e);function e(){var n;return ki(this,e),n=t.call(this),n.listeners||Hs.call(lr(n)),Object.defineProperty(lr(n),"aborted",{value:!1,writable:!0,configurable:!0}),Object.defineProperty(lr(n),"onabort",{value:null,writable:!0,configurable:!0}),Object.defineProperty(lr(n),"reason",{value:void 0,writable:!0,configurable:!0}),n}return Ri(e,[{key:"toString",value:function(){return"[object AbortSignal]"}},{key:"dispatchEvent",value:function(i){i.type==="abort"&&(this.aborted=!0,typeof this.onabort=="function"&&this.onabort.call(this,i)),wn(zt(e.prototype),"dispatchEvent",this).call(this,i)}}]),e}(Hs),qs=function(){function r(){ki(this,r),Object.defineProperty(this,"signal",{value:new $i,writable:!0,configurable:!0})}return Ri(r,[{key:"abort",value:function(e){var n;try{n=new Event("abort")}catch(o){typeof document!="undefined"?document.createEvent?(n=document.createEvent("Event"),n.initEvent("abort",!1,!1)):(n=document.createEventObject(),n.type="abort"):n={type:"abort",bubbles:!1,cancelable:!1}}var i=e;if(i===void 0)if(typeof document=="undefined")i=new Error("This operation was aborted"),i.name="AbortError";else try{i=new DOMException("signal is aborted without reason")}catch(o){i=new Error("This operation was aborted"),i.name="AbortError"}this.signal.reason=i,this.signal.dispatchEvent(n)}},{key:"toString",value:function(){return"[object AbortController]"}}]),r}();typeof Symbol!="undefined"&&Symbol.toStringTag&&(qs.prototype[Symbol.toStringTag]="AbortController",$i.prototype[Symbol.toStringTag]="AbortSignal");function mp(r){return r.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL?(console.log("__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL=true is set, will force install polyfill"),!0):typeof r.Request=="function"&&!r.Request.prototype.hasOwnProperty("signal")||!r.AbortController}function gp(r){typeof r=="function"&&(r={fetch:r});var t=r,e=t.fetch,n=t.Request,i=n===void 0?e.Request:n,o=t.AbortController,a=t.__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL,s=a===void 0?!1:a;if(!mp({fetch:e,Request:i,AbortController:o,__FORCE_INSTALL_ABORTCONTROLLER_POLYFILL:s}))return{fetch:e,Request:l};var l=i;(l&&!l.prototype.hasOwnProperty("signal")||s)&&(l=function(g,h){var _;h&&h.signal&&(_=h.signal,delete h.signal);var x=new i(g,h);return _&&Object.defineProperty(x,"signal",{writable:!1,enumerable:!1,configurable:!0,value:_}),x},l.prototype=i.prototype);var f=e,u=function(g,h){var _=l&&l.prototype.isPrototypeOf(g)?g.signal:h?h.signal:void 0;if(_){var x;try{x=new DOMException("Aborted","AbortError")}catch(A){x=new Error("Aborted"),x.name="AbortError"}if(_.aborted)return Promise.reject(x);var C=new Promise(function(A,I){_.addEventListener("abort",function(){return I(x)},{once:!0})});return h&&h.signal&&delete h.signal,Promise.race([C,f(g,h)])}return f(g,h)};return{fetch:u,Request:l}}cr.AbortController=qs;cr.AbortSignal=$i;cr.abortableFetch=gp});var Ii=me(Lt=>{"use strict";d();m();Object.defineProperty(Lt,"__esModule",{value:!0});Lt.AbortSignal=Lt.AbortController=void 0;var Gs=js(),_n=function(){if(typeof self!="undefined")return self;if(typeof window!="undefined")return window;if(typeof globalThis!="undefined")return globalThis;throw new Error("unable to locate global object")},bp=typeof _n().AbortController=="undefined"?Gs.AbortController:_n().AbortController;Lt.AbortController=bp;var wp=typeof _n().AbortController=="undefined"?Gs.AbortSignal:_n().AbortSignal;Lt.AbortSignal=wp});var Ws=me(Bi=>{"use strict";d();m();Object.defineProperty(Bi,"__esModule",{value:!0});var _p=Ii(),Ni=class{},Fi=class{constructor(){this.signals=new Set,this.abortController=new _p.AbortController}addSignal(t=new Ni){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(t),t.aborted?this.handleAborted(t):typeof t.addEventListener=="function"&&t.addEventListener("abort",()=>{this.handleAborted(t)})}handleAborted(t){this.signals.delete(t),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}};Bi.default=Fi});var Xs=me(Ui=>{"use strict";d();m();Object.defineProperty(Ui,"__esModule",{value:!0});var Oi=class{constructor(){this.callbacks=new Set}addCallback(t=()=>{}){this.callbacks.add(t),t(this.currentMessage)}callback(t){this.currentMessage=t,this.callbacks.forEach(e=>{e(t)})}};Ui.default=Oi});var Js=me(hr=>{"use strict";d();m();var Ks=hr&&hr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(hr,"__esModule",{value:!0});var yp=Ii(),xp=Ks(Ws()),vp=Ks(Xs()),Mt=class{constructor({fill:t,cache:e}){if(typeof t!="function")throw new TypeError("must pass a fill function");if(typeof e!="object")throw new TypeError("must pass a cache object");if(typeof e.get!="function"||typeof e.set!="function"||typeof e.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=e,this.fillCallback=t}static isAbortException(t){return t.name==="AbortError"||t.code==="ERR_ABORTED"||t.message==="AbortError: aborted"||t.message==="Error: aborted"}evict(t,e){this.cache.get(t)===e&&this.cache.delete(t)}fill(t,e,n,i){let o=new xp.default,a=new vp.default;a.addCallback(i);let s={aborter:o,promise:this.fillCallback(e,o.signal,l=>{a.callback(l)}),settled:!1,statusReporter:a,get aborted(){return this.aborter.signal.aborted}};s.aborter.addSignal(n),s.aborter.signal.addEventListener("abort",()=>{s.settled||this.evict(t,s)}),s.promise.then(()=>{s.settled=!0},()=>{s.settled=!0,this.evict(t,s)}).catch(l=>{throw console.error(l),l}),this.cache.set(t,s)}static checkSinglePromise(t,e){function n(){if(e&&e.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return t.then(i=>(n(),i),i=>{throw n(),i})}has(t){return this.cache.has(t)}get(t,e,n,i){if(!n&&e instanceof yp.AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");let o=this.cache.get(t);return o?o.aborted&&!o.settled?(this.evict(t,o),this.get(t,e,n,i)):o.settled?o.promise:(o.aborter.addSignal(n),o.statusReporter.addCallback(i),Mt.checkSinglePromise(o.promise,n)):(this.fill(t,e,n,i),Mt.checkSinglePromise(this.cache.get(t).promise,n))}delete(t){let e=this.cache.get(t);e&&(e.settled||e.aborter.abort(),this.cache.delete(t))}clear(){let t=this.cache.keys(),e=0;for(let n=t.next();!n.done;n=t.next())this.delete(n.value),e+=1;return e}};hr.default=Mt});var Pi=me(pr=>{"use strict";d();m();var Ep=pr&&pr.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(pr,"__esModule",{value:!0});var Sp=Ep(Js());pr.default=Sp.default});var zi=me((F1,Qs)=>{"use strict";d();m();var Di=class{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,e){this.cache.set(t,e),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){let e=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,e),e}}set(t,e){return this.cache.has(t)?this.cache.set(t,e):this._set(t,e),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){let e=this.cache.delete(t);return e&&this._size--,this.oldCache.delete(t)||e}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[t]of this)yield t}*values(){for(let[,t]of this)yield t}*[Symbol.iterator](){for(let t of this.cache)yield t;for(let t of this.oldCache){let[e]=t;this.cache.has(e)||(yield t)}}get size(){let t=0;for(let e of this.oldCache.keys())this.cache.has(e)||t++;return this._size+t}};Qs.exports=Di});var _o=me(()=>{d();m()});var Io=me((Vy,il)=>{"use strict";d();m();function Cm(r,t){function e(){this.constructor=r}e.prototype=t.prototype,r.prototype=new e}function Rt(r,t,e,n){this.message=r,this.expected=t,this.found=e,this.location=n,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,Rt)}Cm(Rt,Error);Rt.buildMessage=function(r,t){var e={literal:function(f){return'"'+i(f.text)+'"'},class:function(f){var u="",p;for(p=0;p<f.parts.length;p++)u+=f.parts[p]instanceof Array?o(f.parts[p][0])+"-"+o(f.parts[p][1]):o(f.parts[p]);return"["+(f.inverted?"^":"")+u+"]"},any:function(f){return"any character"},end:function(f){return"end of input"},other:function(f){return f.description}};function n(f){return f.charCodeAt(0).toString(16).toUpperCase()}function i(f){return f.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+n(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+n(u)})}function o(f){return f.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(u){return"\\x0"+n(u)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(u){return"\\x"+n(u)})}function a(f){return e[f.type](f)}function s(f){var u=new Array(f.length),p,g;for(p=0;p<f.length;p++)u[p]=a(f[p]);if(u.sort(),u.length>0){for(p=1,g=1;p<u.length;p++)u[p-1]!==u[p]&&(u[g]=u[p],g++);u.length=g}switch(u.length){case 1:return u[0];case 2:return u[0]+" or "+u[1];default:return u.slice(0,-1).join(", ")+", or "+u[u.length-1]}}function l(f){return f?'"'+i(f)+'"':"end of input"}return"Expected "+s(r)+" but "+l(t)+" found."};function km(r,t){t=t!==void 0?t:{};var e={},n={declaration:va},i=va,o="(",a=q("(",!1),s=")",l=q(")",!1),f=function(c,y,R,$){return{type:c,name:y,comment:R,fields:$}},u="simple",p=q("simple",!1),g="object",h=q("object",!1),_="table",x=q("table",!1),C="auto",A=q("auto",!1),I="primary",k=q("primary",!1),S="index",F=q("index",!1),O="unique",T=q("unique",!1),N=function(c,y){return y},B=function(c,y){return c.name&&y.unshift(c),y},U="#",L=q("#",!1),fe=";",Ne=q(";",!1),Bt=function(c,y,R){return{type:c,name:y,comment:R}},Ot="[",vl=q("[",!1),El="]",Sl=q("]",!1),Al=function(c,y,R,$){return{type:c,size:y,name:R,comment:$}},Tl=function(c,y,R,$){return{type:c,vals:y,name:R,comment:$}},Ho=",",qo=q(",",!1),Cl=function(c,y){return y.unshift(c),y},jo="int",kl=q("int",!1),Go="uint",Rl=q("uint",!1),Wo="short",$l=q("short",!1),Xo="ushort",Il=q("ushort",!1),Ko="byte",Nl=q("byte",!1),Jo="ubyte",Fl=q("ubyte",!1),Qo="float",Bl=q("float",!1),ea="char",Ol=q("char",!1),ta="string",Ul=q("string",!1),ra="lstring",Pl=q("lstring",!1),na="enum",Dl=q("enum",!1),ia="double",zl=q("double",!1),oa="bigint",Ll=q("bigint",!1),aa="set",Ml=q("set",!1),Vl=function(c,y){return c+" "+y},Zl=/^[a-zA-Z_]/,Yl=Ut([["a","z"],["A","Z"],"_"],!1,!1),sa=/^[a-zA-Z0-9_]/,fa=Ut([["a","z"],["A","Z"],["0","9"],"_"],!1,!1),Hl=function(c){return _a()},ua='"',la=q('"',!1),ca=/^[^"]/,ha=Ut(['"'],!0,!1),ql=function(c){return c.join("")},pa=/^[^\n\r]/,da=Ut([`
`,"\r"],!0,!1),jl=function(c){return c.join("").replace(/^"/,"").replace(/"$/,"")},Gl=si("integer"),ma=/^[0-9]/,ga=Ut([["0","9"]],!1,!1),Wl=function(){return parseInt(_a(),10)},Xl=si("whitespace"),ba=/^[ \t\n\r]/,wa=Ut([" ","	",`
`,"\r"],!1,!1),w=0,X=0,Hr=[{line:1,column:1}],Fe=0,ai=[],P=0,qr;if("startRule"in t){if(!(t.startRule in n))throw new Error(`Can't start parsing from rule "`+t.startRule+'".');i=n[t.startRule]}function _a(){return r.substring(X,w)}function Cg(){return or(X,w)}function kg(c,y){throw y=y!==void 0?y:or(X,w),xa([si(c)],r.substring(X,w),y)}function Rg(c,y){throw y=y!==void 0?y:or(X,w),Jl(c,y)}function q(c,y){return{type:"literal",text:c,ignoreCase:y}}function Ut(c,y,R){return{type:"class",parts:c,inverted:y,ignoreCase:R}}function $g(){return{type:"any"}}function Kl(){return{type:"end"}}function si(c){return{type:"other",description:c}}function ya(c){var y=Hr[c],R;if(y)return y;for(R=c-1;!Hr[R];)R--;for(y=Hr[R],y={line:y.line,column:y.column};R<c;)r.charCodeAt(R)===10?(y.line++,y.column=1):y.column++,R++;return Hr[c]=y,y}function or(c,y){var R=ya(c),$=ya(y);return{start:{offset:c,line:R.line,column:R.column},end:{offset:y,line:$.line,column:$.column}}}function z(c){w<Fe||(w>Fe&&(Fe=w,ai=[]),ai.push(c))}function Jl(c,y){return new Rt(c,null,null,y)}function xa(c,y,R){return new Rt(Rt.buildMessage(c,y),c,y,R)}function va(){var c,y,R,$,D,j,G,_e,Qe,Ze,et,Ye,tt,He;return c=w,y=Z(),y!==e?(R=Ea(),R!==e?($=Z(),$!==e?(D=Sa(),D!==e?(j=Z(),j!==e?(G=jr(),G!==e?(_e=Z(),_e!==e?(r.charCodeAt(w)===40?(Qe=o,w++):(Qe=e,P===0&&z(a)),Qe!==e?(Ze=Z(),Ze!==e?(et=Ql(),et!==e?(Ye=Z(),Ye!==e?(r.charCodeAt(w)===41?(tt=s,w++):(tt=e,P===0&&z(l)),tt!==e?(He=Z(),He!==e?(X=c,y=f(R,D,G,et),c=y):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e),c}function Ea(){var c;return r.substr(w,6)===u?(c=u,w+=6):(c=e,P===0&&z(p)),c===e&&(r.substr(w,6)===g?(c=g,w+=6):(c=e,P===0&&z(h)),c===e&&(r.substr(w,5)===_?(c=_,w+=5):(c=e,P===0&&z(x)))),c}function Sa(){var c,y,R,$;return c=Ce(),c===e&&(c=w,y=Ce(),y!==e?(R=Aa(),R!==e?(y=[y,R],c=y):(w=c,c=e)):(w=c,c=e),c===e&&(c=w,y=Ce(),y!==e?(r.substr(w,4)===C?(R=C,w+=4):(R=e,P===0&&z(A)),R!==e?(y=[y,R],c=y):(w=c,c=e)):(w=c,c=e),c===e&&(c=w,y=Ce(),y!==e?(R=Aa(),R!==e?(r.substr(w,4)===C?($=C,w+=4):($=e,P===0&&z(A)),$!==e?(y=[y,R,$],c=y):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)))),c}function Aa(){var c;return r.substr(w,7)===I?(c=I,w+=7):(c=e,P===0&&z(k)),c===e&&(r.substr(w,5)===S?(c=S,w+=5):(c=e,P===0&&z(F)),c===e&&(r.substr(w,6)===O?(c=O,w+=6):(c=e,P===0&&z(T)))),c}function jr(){var c;return c=Ta(),c===e&&(c=Z()),c}function Ql(){var c,y,R,$,D,j,G;if(c=w,y=fi(),y!==e)if(R=Z(),R!==e){for($=[],D=w,j=Z(),j!==e?(G=fi(),G!==e?(X=D,j=N(y,G),D=j):(w=D,D=e)):(w=D,D=e);D!==e;)$.push(D),D=w,j=Z(),j!==e?(G=fi(),G!==e?(X=D,j=N(y,G),D=j):(w=D,D=e)):(w=D,D=e);$!==e?(D=Z(),D!==e?(X=c,y=B(y,$),c=y):(w=c,c=e)):(w=c,c=e)}else w=c,c=e;else w=c,c=e;return c}function ec(){var c;return r.charCodeAt(w)===35?(c=U,w++):(c=e,P===0&&z(L)),c}function tc(){var c,y,R,$,D;return c=w,y=Z(),y!==e?(R=ec(),R!==e?($=Ta(),$!==e?(D=Z(),D!==e?(y=[y,R,$,D],c=y):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e),c}function fi(){var c,y,R,$,D,j,G,_e,Qe,Ze,et,Ye,tt,He;return c=w,y=ui(),y!==e?(R=Z(),R!==e?($=Ce(),$!==e?(D=Z(),D!==e?(r.charCodeAt(w)===59?(j=fe,w++):(j=e,P===0&&z(Ne)),j!==e?(G=Z(),G!==e?(_e=jr(),_e!==e?(X=c,y=Bt(y,$,_e),c=y):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e),c===e&&(c=w,y=ui(),y!==e?(R=Z(),R!==e?(r.charCodeAt(w)===91?($=Ot,w++):($=e,P===0&&z(vl)),$!==e?(D=Z(),D!==e?(j=nc(),j!==e?(G=Z(),G!==e?(r.charCodeAt(w)===93?(_e=El,w++):(_e=e,P===0&&z(Sl)),_e!==e?(Qe=Z(),Qe!==e?(Ze=Ce(),Ze!==e?(et=Z(),et!==e?(r.charCodeAt(w)===59?(Ye=fe,w++):(Ye=e,P===0&&z(Ne)),Ye!==e?(tt=Z(),tt!==e?(He=jr(),He!==e?(X=c,y=Al(y,j,Ze,He),c=y):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e),c===e&&(c=w,y=ui(),y!==e?(R=Z(),R!==e?(r.charCodeAt(w)===40?($=o,w++):($=e,P===0&&z(a)),$!==e?(D=Z(),D!==e?(j=rc(),j!==e?(G=Z(),G!==e?(r.charCodeAt(w)===41?(_e=s,w++):(_e=e,P===0&&z(l)),_e!==e?(Qe=Z(),Qe!==e?(Ze=Ce(),Ze!==e?(et=Z(),et!==e?(r.charCodeAt(w)===59?(Ye=fe,w++):(Ye=e,P===0&&z(Ne)),Ye!==e?(tt=Z(),tt!==e?(He=jr(),He!==e?(X=c,y=Tl(y,j,Ze,He),c=y):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e)):(w=c,c=e),c===e&&(c=tc()))),c}function rc(){var c,y,R,$,D,j,G;if(c=w,y=Ce(),y!==e){for(R=[],$=w,r.charCodeAt(w)===44?(D=Ho,w++):(D=e,P===0&&z(qo)),D!==e?(j=Z(),j!==e?(G=Ce(),G!==e?(X=$,D=N(y,G),$=D):(w=$,$=e)):(w=$,$=e)):(w=$,$=e);$!==e;)R.push($),$=w,r.charCodeAt(w)===44?(D=Ho,w++):(D=e,P===0&&z(qo)),D!==e?(j=Z(),j!==e?(G=Ce(),G!==e?(X=$,D=N(y,G),$=D):(w=$,$=e)):(w=$,$=e)):(w=$,$=e);R!==e?(X=c,y=Cl(y,R),c=y):(w=c,c=e)}else w=c,c=e;return c}function ui(){var c,y,R,$;return r.substr(w,3)===jo?(c=jo,w+=3):(c=e,P===0&&z(kl)),c===e&&(r.substr(w,4)===Go?(c=Go,w+=4):(c=e,P===0&&z(Rl)),c===e&&(r.substr(w,5)===Wo?(c=Wo,w+=5):(c=e,P===0&&z($l)),c===e&&(r.substr(w,6)===Xo?(c=Xo,w+=6):(c=e,P===0&&z(Il)),c===e&&(r.substr(w,4)===Ko?(c=Ko,w+=4):(c=e,P===0&&z(Nl)),c===e&&(r.substr(w,5)===Jo?(c=Jo,w+=5):(c=e,P===0&&z(Fl)),c===e&&(r.substr(w,5)===Qo?(c=Qo,w+=5):(c=e,P===0&&z(Bl)),c===e&&(r.substr(w,4)===ea?(c=ea,w+=4):(c=e,P===0&&z(Ol)),c===e&&(r.substr(w,6)===ta?(c=ta,w+=6):(c=e,P===0&&z(Ul)),c===e&&(r.substr(w,7)===ra?(c=ra,w+=7):(c=e,P===0&&z(Pl)),c===e&&(r.substr(w,4)===na?(c=na,w+=4):(c=e,P===0&&z(Dl)),c===e&&(r.substr(w,6)===ia?(c=ia,w+=6):(c=e,P===0&&z(zl)),c===e&&(r.substr(w,6)===oa?(c=oa,w+=6):(c=e,P===0&&z(Ll)),c===e&&(r.substr(w,3)===aa?(c=aa,w+=3):(c=e,P===0&&z(Ml)),c===e&&(c=w,y=Ea(),y!==e?(R=Z(),R!==e?($=Sa(),$!==e?(X=c,y=Vl(y,$),c=y):(w=c,c=e)):(w=c,c=e)):(w=c,c=e))))))))))))))),c}function nc(){var c;return c=ic(),c===e&&(c=Ce()),c}function Ce(){var c,y,R,$,D;if(c=w,y=w,Zl.test(r.charAt(w))?(R=r.charAt(w),w++):(R=e,P===0&&z(Yl)),R!==e){for($=[],sa.test(r.charAt(w))?(D=r.charAt(w),w++):(D=e,P===0&&z(fa));D!==e;)$.push(D),sa.test(r.charAt(w))?(D=r.charAt(w),w++):(D=e,P===0&&z(fa));$!==e?(R=[R,$],y=R):(w=y,y=e)}else w=y,y=e;return y!==e&&(X=c,y=Hl(y)),c=y,c}function Ig(){var c,y,R,$;if(c=w,r.charCodeAt(w)===34?(y=ua,w++):(y=e,P===0&&z(la)),y!==e){for(R=[],ca.test(r.charAt(w))?($=r.charAt(w),w++):($=e,P===0&&z(ha));$!==e;)R.push($),ca.test(r.charAt(w))?($=r.charAt(w),w++):($=e,P===0&&z(ha));R!==e?(r.charCodeAt(w)===34?($=ua,w++):($=e,P===0&&z(la)),$!==e?(X=c,y=ql(R),c=y):(w=c,c=e)):(w=c,c=e)}else w=c,c=e;return c}function Ta(){var c,y,R;for(c=w,y=[],pa.test(r.charAt(w))?(R=r.charAt(w),w++):(R=e,P===0&&z(da));R!==e;)y.push(R),pa.test(r.charAt(w))?(R=r.charAt(w),w++):(R=e,P===0&&z(da));return y!==e&&(X=c,y=jl(y)),c=y,c}function ic(){var c,y,R,$;if(P++,c=w,y=Z(),y!==e){if(R=[],ma.test(r.charAt(w))?($=r.charAt(w),w++):($=e,P===0&&z(ga)),$!==e)for(;$!==e;)R.push($),ma.test(r.charAt(w))?($=r.charAt(w),w++):($=e,P===0&&z(ga));else R=e;R!==e?(X=c,y=Wl(),c=y):(w=c,c=e)}else w=c,c=e;return P--,c===e&&(y=e,P===0&&z(Gl)),c}function Z(){var c,y;for(P++,c=[],ba.test(r.charAt(w))?(y=r.charAt(w),w++):(y=e,P===0&&z(wa));y!==e;)c.push(y),ba.test(r.charAt(w))?(y=r.charAt(w),w++):(y=e,P===0&&z(wa));return P--,c===e&&(y=e,P===0&&z(Xl)),c}if(qr=i(),qr!==e&&w===r.length)return qr;throw qr!==e&&w<r.length&&z(Kl()),xa(ai,Fe<r.length?r.charAt(Fe):null,Fe<r.length?or(Fe,Fe+1):or(Fe,Fe))}il.exports={SyntaxError:Rt,parse:km}});var sl=me(()=>{d();m()});var fl=me((ei,Mr)=>{d();m();(function(r){var t=typeof ei=="object"&&ei,e=typeof Mr=="object"&&Mr&&Mr.exports==t&&Mr,n=typeof globalThis=="object"&&globalThis;(n.global===n||n.window===n)&&(r=n);var i=function(g){this.message=g};i.prototype=new Error,i.prototype.name="InvalidCharacterError";var o=function(g){throw new i(g)},a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=/[\t\n\f\r ]/g,l=function(g){g=String(g).replace(s,"");var h=g.length;h%4==0&&(g=g.replace(/==?$/,""),h=g.length),(h%4==1||/[^+a-zA-Z0-9/]/.test(g))&&o("Invalid character: the string to be decoded is not correctly encoded.");for(var _=0,x,C,A="",I=-1;++I<h;)C=a.indexOf(g.charAt(I)),x=_%4?x*64+C:C,_++%4&&(A+=String.fromCharCode(255&x>>(-2*_&6)));return A},f=function(g){g=String(g),/[^\0-\xFF]/.test(g)&&o("The string to be encoded contains characters outside of the Latin1 range.");for(var h=g.length%3,_="",x=-1,C,A,I,k,S=g.length-h;++x<S;)C=g.charCodeAt(x)<<16,A=g.charCodeAt(++x)<<8,I=g.charCodeAt(++x),k=C+A+I,_+=a.charAt(k>>18&63)+a.charAt(k>>12&63)+a.charAt(k>>6&63)+a.charAt(k&63);return h==2?(C=g.charCodeAt(x)<<8,A=g.charCodeAt(++x),k=C+A,_+=a.charAt(k>>10)+a.charAt(k>>4&63)+a.charAt(k<<2&63)+"="):h==1&&(k=g.charCodeAt(x),_+=a.charAt(k>>2)+a.charAt(k<<4&63)+"=="),_},u={encode:f,decode:l,version:"1.0.0"};if(typeof define=="function"&&typeof define.amd=="object"&&define.amd)define(function(){return u});else if(t&&!t.nodeType)if(e)e.exports=u;else for(var p in u)u.hasOwnProperty(p)&&(t[p]=u[p]);else r.base64=u})(ei)});d();m();d();m();var _l=ke(vs(),1);d();m();d();m();d();m();var un=BigInt(32);function Es(r,t,e){let n=Number(!!e),i=Number(!e);return BigInt(r.getInt32(t,e)*i+r.getInt32(t+4,e)*n)<<un|BigInt(r.getUint32(t,e)*n+r.getUint32(t+4,e)*i)}function Ss(r,t,e){let n=r.getUint32(t,e),i=r.getUint32(t+4,e),o=Number(!!e),a=Number(!e);return BigInt(n*a+i*o)<<un|BigInt(n*o+i*a)}function As(r,t,e,n){let i=Number(e>>un),o=Number(e&BigInt(4294967295));n?(r.setInt32(t+4,i,n),r.setUint32(t,o,n)):(r.setInt32(t,i,n),r.setUint32(t+4,o,n))}function Ts(r,t,e,n){let i=Number(e>>un),o=Number(e&BigInt(4294967295));n?(r.setUint32(t+4,i,n),r.setUint32(t,o,n)):(r.setUint32(t,i,n),r.setUint32(t+4,o,n))}"getBigInt64"in DataView||(DataView.prototype.getBigInt64=function(r,t){return Es(this,r,t)});"getBigUint64"in DataView||(DataView.prototype.getBigUint64=function(r,t){return Ss(this,r,t)});"setBigInt64"in DataView||(DataView.prototype.setBigInt64=function(r,t,e){As(this,r,t,e)});"setBigUint64"in DataView||(DataView.prototype.setBigUint64=function(r,t,e){Ts(this,r,t,e)});d();m();d();m();d();m();var Ue=[],xe=[],Fh=typeof Uint8Array!="undefined"?Uint8Array:Array,Ei=!1;function $s(){Ei=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,e=r.length;t<e;++t)Ue[t]=r[t],xe[r.charCodeAt(t)]=t;xe["-".charCodeAt(0)]=62,xe["_".charCodeAt(0)]=63}function Bh(r){Ei||$s();var t,e,n,i,o,a,s=r.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=r[s-2]==="="?2:r[s-1]==="="?1:0,a=new Fh(s*3/4-o),n=o>0?s-4:s;var l=0;for(t=0,e=0;t<n;t+=4,e+=3)i=xe[r.charCodeAt(t)]<<18|xe[r.charCodeAt(t+1)]<<12|xe[r.charCodeAt(t+2)]<<6|xe[r.charCodeAt(t+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=i&255;return o===2?(i=xe[r.charCodeAt(t)]<<2|xe[r.charCodeAt(t+1)]>>4,a[l++]=i&255):o===1&&(i=xe[r.charCodeAt(t)]<<10|xe[r.charCodeAt(t+1)]<<4|xe[r.charCodeAt(t+2)]>>2,a[l++]=i>>8&255,a[l++]=i&255),a}function Oh(r){return Ue[r>>18&63]+Ue[r>>12&63]+Ue[r>>6&63]+Ue[r&63]}function Uh(r,t,e){for(var n,i=[],o=t;o<e;o+=3)n=(r[o]<<16)+(r[o+1]<<8)+r[o+2],i.push(Oh(n));return i.join("")}function Cs(r){Ei||$s();for(var t,e=r.length,n=e%3,i="",o=[],a=16383,s=0,l=e-n;s<l;s+=a)o.push(Uh(r,s,s+a>l?l:s+a));return n===1?(t=r[e-1],i+=Ue[t>>2],i+=Ue[t<<4&63],i+="=="):n===2&&(t=(r[e-2]<<8)+r[e-1],i+=Ue[t>>10],i+=Ue[t>>4&63],i+=Ue[t<<2&63],i+="="),o.push(i),o.join("")}function hn(r,t,e,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,f=l>>1,u=-7,p=e?i-1:0,g=e?-1:1,h=r[t+p];for(p+=g,o=h&(1<<-u)-1,h>>=-u,u+=s;u>0;o=o*256+r[t+p],p+=g,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=a*256+r[t+p],p+=g,u-=8);if(o===0)o=1-f;else{if(o===l)return a?NaN:(h?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-f}return(h?-1:1)*a*Math.pow(2,o-n)}function Is(r,t,e,n,i,o){var a,s,l,f=o*8-i-1,u=(1<<f)-1,p=u>>1,g=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,h=n?0:o-1,_=n?1:-1,x=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+p>=1?t+=g/l:t+=g*Math.pow(2,1-p),t*l>=2&&(a++,l/=2),a+p>=u?(s=0,a=u):a+p>=1?(s=(t*l-1)*Math.pow(2,i),a=a+p):(s=t*Math.pow(2,p-1)*Math.pow(2,i),a=0));i>=8;r[e+h]=s&255,h+=_,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;r[e+h]=a&255,h+=_,a/=256,f-=8);r[e+h-_]|=x*128}var Ph={}.toString,Ns=Array.isArray||function(r){return Ph.call(r)=="[object Array]"};var Dh=50;E.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;var S1=ln();function ln(){return E.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Ge(r,t){if(ln()<t)throw new RangeError("Invalid typed array length");return E.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=E.prototype):(r===null&&(r=new E(t)),r.length=t),r}function E(r,t,e){if(!E.TYPED_ARRAY_SUPPORT&&!(this instanceof E))return new E(r,t,e);if(typeof r=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return Si(this,r)}return Fs(this,r,t,e)}E.poolSize=8192;E._augment=function(r){return r.__proto__=E.prototype,r};function Fs(r,t,e,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer?Mh(r,t,e,n):typeof t=="string"?Lh(r,t,e):Vh(r,t)}E.from=function(r,t,e){return Fs(null,r,t,e)};E.TYPED_ARRAY_SUPPORT&&(E.prototype.__proto__=Uint8Array.prototype,E.__proto__=Uint8Array);function Bs(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function zh(r,t,e,n){return Bs(t),t<=0?Ge(r,t):e!==void 0?typeof n=="string"?Ge(r,t).fill(e,n):Ge(r,t).fill(e):Ge(r,t)}E.alloc=function(r,t,e){return zh(null,r,t,e)};function Si(r,t){if(Bs(t),r=Ge(r,t<0?0:Ai(t)|0),!E.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)r[e]=0;return r}E.allocUnsafe=function(r){return Si(null,r)};E.allocUnsafeSlow=function(r){return Si(null,r)};function Lh(r,t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!E.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=Os(t,e)|0;r=Ge(r,n);var i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}function vi(r,t){var e=t.length<0?0:Ai(t.length)|0;r=Ge(r,e);for(var n=0;n<e;n+=1)r[n]=t[n]&255;return r}function Mh(r,t,e,n){if(t.byteLength,e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return e===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,e):t=new Uint8Array(t,e,n),E.TYPED_ARRAY_SUPPORT?(r=t,r.__proto__=E.prototype):r=vi(r,t),r}function Vh(r,t){if(Pe(t)){var e=Ai(t.length)|0;return r=Ge(r,e),r.length===0||t.copy(r,0,0,e),r}if(t){if(typeof ArrayBuffer!="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||sp(t.length)?Ge(r,0):vi(r,t);if(t.type==="Buffer"&&Ns(t.data))return vi(r,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Ai(r){if(r>=ln())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ln().toString(16)+" bytes");return r|0}E.isBuffer=fp;function Pe(r){return!!(r!=null&&r._isBuffer)}E.compare=function(t,e){if(!Pe(t)||!Pe(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0};E.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};E.concat=function(t,e){if(!Ns(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return E.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=E.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!Pe(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i};function Os(r,t){if(Pe(r))return r.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var e=r.length;if(e===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return cn(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return Vs(r).length;default:if(n)return cn(r).length;t=(""+t).toLowerCase(),n=!0}}E.byteLength=Os;function Zh(r,t,e){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return Qh(this,t,e);case"utf8":case"utf-8":return Ds(this,t,e);case"ascii":return Kh(this,t,e);case"latin1":case"binary":return Jh(this,t,e);case"base64":return Wh(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ep(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}E.prototype._isBuffer=!0;function gt(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}E.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)gt(this,e,e+1);return this};E.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)gt(this,e,e+3),gt(this,e+1,e+2);return this};E.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)gt(this,e,e+7),gt(this,e+1,e+6),gt(this,e+2,e+5),gt(this,e+3,e+4);return this};E.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?Ds(this,0,t):Zh.apply(this,arguments)};E.prototype.equals=function(t){if(!Pe(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:E.compare(this,t)===0};E.prototype.inspect=function(){var t="",e=Dh;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"};E.prototype.compare=function(t,e,n,i,o){if(!Pe(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var a=o-i,s=n-e,l=Math.min(a,s),f=this.slice(i,o),u=t.slice(e,n),p=0;p<l;++p)if(f[p]!==u[p]){a=f[p],s=u[p];break}return a<s?-1:s<a?1:0};function Us(r,t,e,n,i){if(r.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(i)return-1;e=r.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof t=="string"&&(t=E.from(t,n)),Pe(t))return t.length===0?-1:ks(r,t,e,n,i);if(typeof t=="number")return t=t&255,E.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):ks(r,[t],e,n,i);throw new TypeError("val must be string, number or Buffer")}function ks(r,t,e,n,i){var o=1,a=r.length,s=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||t.length<2)return-1;o=2,a/=2,s/=2,e/=2}function l(h,_){return o===1?h[_]:h.readUInt16BE(_*o)}var f;if(i){var u=-1;for(f=e;f<a;f++)if(l(r,f)===l(t,u===-1?0:f-u)){if(u===-1&&(u=f),f-u+1===s)return u*o}else u!==-1&&(f-=f-u),u=-1}else for(e+s>a&&(e=a-s),f=e;f>=0;f--){for(var p=!0,g=0;g<s;g++)if(l(r,f+g)!==l(t,g)){p=!1;break}if(p)return f}return-1}E.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};E.prototype.indexOf=function(t,e,n){return Us(this,t,e,n,!0)};E.prototype.lastIndexOf=function(t,e,n){return Us(this,t,e,n,!1)};function Yh(r,t,e,n){e=Number(e)||0;var i=r.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(a*2,2),16);if(isNaN(s))return a;r[e+a]=s}return a}function Hh(r,t,e,n){return mn(cn(t,r.length-e),r,e,n)}function Ps(r,t,e,n){return mn(op(t),r,e,n)}function qh(r,t,e,n){return Ps(r,t,e,n)}function jh(r,t,e,n){return mn(Vs(t),r,e,n)}function Gh(r,t,e,n){return mn(ap(t,r.length-e),r,e,n)}E.prototype.write=function(t,e,n,i){if(e===void 0)i="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")i=e,n=this.length,e=0;else if(isFinite(e))e=e|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-e;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return Yh(this,t,e,n);case"utf8":case"utf-8":return Hh(this,t,e,n);case"ascii":return Ps(this,t,e,n);case"latin1":case"binary":return qh(this,t,e,n);case"base64":return jh(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Gh(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};E.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Wh(r,t,e){return t===0&&e===r.length?Cs(r):Cs(r.slice(t,e))}function Ds(r,t,e){e=Math.min(r.length,e);for(var n=[],i=t;i<e;){var o=r[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=e){var l,f,u,p;switch(s){case 1:o<128&&(a=o);break;case 2:l=r[i+1],(l&192)===128&&(p=(o&31)<<6|l&63,p>127&&(a=p));break;case 3:l=r[i+1],f=r[i+2],(l&192)===128&&(f&192)===128&&(p=(o&15)<<12|(l&63)<<6|f&63,p>2047&&(p<55296||p>57343)&&(a=p));break;case 4:l=r[i+1],f=r[i+2],u=r[i+3],(l&192)===128&&(f&192)===128&&(u&192)===128&&(p=(o&15)<<18|(l&63)<<12|(f&63)<<6|u&63,p>65535&&p<1114112&&(a=p))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s}return Xh(n)}var Rs=4096;function Xh(r){var t=r.length;if(t<=Rs)return String.fromCharCode.apply(String,r);for(var e="",n=0;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=Rs));return e}function Kh(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]&127);return n}function Jh(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]);return n}function Qh(r,t,e){var n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=t;o<e;++o)i+=ip(r[o]);return i}function ep(r,t,e){for(var n=r.slice(t,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}E.prototype.slice=function(t,e){var n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var i;if(E.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=E.prototype;else{var o=e-t;i=new E(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+t]}return i};function ee(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}E.prototype.readUIntLE=function(t,e,n){t=t|0,e=e|0,n||ee(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return i};E.prototype.readUIntBE=function(t,e,n){t=t|0,e=e|0,n||ee(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i};E.prototype.readUInt8=function(t,e){return e||ee(t,1,this.length),this[t]};E.prototype.readUInt16LE=function(t,e){return e||ee(t,2,this.length),this[t]|this[t+1]<<8};E.prototype.readUInt16BE=function(t,e){return e||ee(t,2,this.length),this[t]<<8|this[t+1]};E.prototype.readUInt32LE=function(t,e){return e||ee(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};E.prototype.readUInt32BE=function(t,e){return e||ee(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};E.prototype.readIntLE=function(t,e,n){t=t|0,e=e|0,n||ee(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i};E.prototype.readIntBE=function(t,e,n){t=t|0,e=e|0,n||ee(t,e,this.length);for(var i=e,o=1,a=this[t+--i];i>0&&(o*=256);)a+=this[t+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*e)),a};E.prototype.readInt8=function(t,e){return e||ee(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};E.prototype.readInt16LE=function(t,e){e||ee(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};E.prototype.readInt16BE=function(t,e){e||ee(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};E.prototype.readInt32LE=function(t,e){return e||ee(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};E.prototype.readInt32BE=function(t,e){return e||ee(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};E.prototype.readFloatLE=function(t,e){return e||ee(t,4,this.length),hn(this,t,!0,23,4)};E.prototype.readFloatBE=function(t,e){return e||ee(t,4,this.length),hn(this,t,!1,23,4)};E.prototype.readDoubleLE=function(t,e){return e||ee(t,8,this.length),hn(this,t,!0,52,8)};E.prototype.readDoubleBE=function(t,e){return e||ee(t,8,this.length),hn(this,t,!1,52,8)};function ce(r,t,e,n,i,o){if(!Pe(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(e+n>r.length)throw new RangeError("Index out of range")}E.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;ce(this,t,e,n,o,0)}var a=1,s=0;for(this[e]=t&255;++s<n&&(a*=256);)this[e+s]=t/a&255;return e+n};E.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;ce(this,t,e,n,o,0)}var a=n-1,s=1;for(this[e+a]=t&255;--a>=0&&(s*=256);)this[e+a]=t/s&255;return e+n};E.prototype.writeUInt8=function(t,e,n){return t=+t,e=e|0,n||ce(this,t,e,1,255,0),E.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t&255,e+1};function pn(r,t,e,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(r.length-e,2);i<o;++i)r[e+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}E.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e|0,n||ce(this,t,e,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):pn(this,t,e,!0),e+2};E.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e|0,n||ce(this,t,e,2,65535,0),E.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):pn(this,t,e,!1),e+2};function dn(r,t,e,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(r.length-e,4);i<o;++i)r[e+i]=t>>>(n?i:3-i)*8&255}E.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e|0,n||ce(this,t,e,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255):dn(this,t,e,!0),e+4};E.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e|0,n||ce(this,t,e,4,4294967295,0),E.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):dn(this,t,e,!1),e+4};E.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=e|0,!i){var o=Math.pow(2,8*n-1);ce(this,t,e,n,o-1,-o)}var a=0,s=1,l=0;for(this[e]=t&255;++a<n&&(s*=256);)t<0&&l===0&&this[e+a-1]!==0&&(l=1),this[e+a]=(t/s>>0)-l&255;return e+n};E.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=e|0,!i){var o=Math.pow(2,8*n-1);ce(this,t,e,n,o-1,-o)}var a=n-1,s=1,l=0;for(this[e+a]=t&255;--a>=0&&(s*=256);)t<0&&l===0&&this[e+a+1]!==0&&(l=1),this[e+a]=(t/s>>0)-l&255;return e+n};E.prototype.writeInt8=function(t,e,n){return t=+t,e=e|0,n||ce(this,t,e,1,127,-128),E.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=t&255,e+1};E.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e|0,n||ce(this,t,e,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):pn(this,t,e,!0),e+2};E.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e|0,n||ce(this,t,e,2,32767,-32768),E.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):pn(this,t,e,!1),e+2};E.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e|0,n||ce(this,t,e,4,2147483647,-2147483648),E.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):dn(this,t,e,!0),e+4};E.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e|0,n||ce(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),E.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):dn(this,t,e,!1),e+4};function zs(r,t,e,n,i,o){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Ls(r,t,e,n,i){return i||zs(r,t,e,4),Is(r,t,e,n,23,4),e+4}E.prototype.writeFloatLE=function(t,e,n){return Ls(this,t,e,!0,n)};E.prototype.writeFloatBE=function(t,e,n){return Ls(this,t,e,!1,n)};function Ms(r,t,e,n,i){return i||zs(r,t,e,8),Is(r,t,e,n,52,8),e+8}E.prototype.writeDoubleLE=function(t,e,n){return Ms(this,t,e,!0,n)};E.prototype.writeDoubleBE=function(t,e,n){return Ms(this,t,e,!1,n)};E.prototype.copy=function(t,e,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n,a;if(this===t&&n<e&&e<i)for(a=o-1;a>=0;--a)t[a+e]=this[a+n];else if(o<1e3||!E.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o};E.prototype.fill=function(t,e,n,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),t.length===1){var o=t.charCodeAt(0);o<256&&(t=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!E.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof t=="number"&&(t=t&255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var a;if(typeof t=="number")for(a=e;a<n;++a)this[a]=t;else{var s=Pe(t)?t:cn(new E(t,i).toString()),l=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%l]}return this};var tp=/[^+\/0-9A-Za-z-_]/g;function rp(r){if(r=np(r).replace(tp,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function np(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function ip(r){return r<16?"0"+r.toString(16):r.toString(16)}function cn(r,t){t=t||1/0;for(var e,n=r.length,i=null,o=[],a=0;a<n;++a){if(e=r.charCodeAt(a),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}function op(r){for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function ap(r,t){for(var e,n,i,o=[],a=0;a<r.length&&!((t-=2)<0);++a)e=r.charCodeAt(a),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function Vs(r){return Bh(rp(r))}function mn(r,t,e,n){for(var i=0;i<n&&!(i+e>=t.length||i>=r.length);++i)t[i+e]=r[i];return i}function sp(r){return r!==r}function fp(r){return r!=null&&(!!r._isBuffer||Zs(r)||up(r))}function Zs(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function up(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&Zs(r.slice(0,0))}d();m();var Ti=class{constructor(t,e){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=t,this.useContextVariables=e}generateVariable(t){let e=[...this.scopes[this.scopes.length-1]];return t&&e.push(t),e.join(".")}generateOption(t){switch(typeof t){case"number":return t.toString();case"string":return this.generateVariable(t);case"function":return`${this.addImport(t)}.call(${this.generateVariable()}, vars)`}}generateError(t){this.pushCode(`throw new Error(${t});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(t){this.code+=t+`
`}pushPath(t){t&&this.scopes[this.scopes.length-1].push(t)}popPath(t){t&&this.scopes[this.scopes.length-1].pop()}pushScope(t){this.scopes.push([t])}popScope(){this.scopes.pop()}addImport(t){if(!this.importPath)return`(${t})`;let e=this.reverseImports.get(t);return e||(e=this.imports.push(t)-1,this.reverseImports.set(t,e)),`${this.importPath}[${e}]`}addReference(t){this.references.has(t)||this.references.set(t,{resolved:!1,requested:!1})}markResolved(t){let e=this.references.get(t);e&&(e.resolved=!0)}markRequested(t){t.forEach(e=>{let n=this.references.get(e);n&&(n.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([t,e])=>!e.resolved&&!e.requested).map(([t,e])=>t)}},Re=new Map,bt="___parser_",$e={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},gn={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},bn={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1},M=class{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new M}primitiveGenerateN(t,e){let n=gn[t],i=bn[t];e.pushCode(`${e.generateVariable(this.varName)} = dataView.get${n}(offset, ${i});`),e.pushCode(`offset += ${$e[t]};`)}primitiveN(t,e,n){return this.setNextParser(t,e,n)}useThisEndian(t){return t+this.endian.toLowerCase()}uint8(t,e={}){return this.primitiveN("uint8",t,e)}uint16(t,e={}){return this.primitiveN(this.useThisEndian("uint16"),t,e)}uint16le(t,e={}){return this.primitiveN("uint16le",t,e)}uint16be(t,e={}){return this.primitiveN("uint16be",t,e)}uint32(t,e={}){return this.primitiveN(this.useThisEndian("uint32"),t,e)}uint32le(t,e={}){return this.primitiveN("uint32le",t,e)}uint32be(t,e={}){return this.primitiveN("uint32be",t,e)}int8(t,e={}){return this.primitiveN("int8",t,e)}int16(t,e={}){return this.primitiveN(this.useThisEndian("int16"),t,e)}int16le(t,e={}){return this.primitiveN("int16le",t,e)}int16be(t,e={}){return this.primitiveN("int16be",t,e)}int32(t,e={}){return this.primitiveN(this.useThisEndian("int32"),t,e)}int32le(t,e={}){return this.primitiveN("int32le",t,e)}int32be(t,e={}){return this.primitiveN("int32be",t,e)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(t,e={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),t,e)}int64be(t,e={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",t,e)}int64le(t,e={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",t,e)}uint64(t,e={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),t,e)}uint64be(t,e={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",t,e)}uint64le(t,e={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",t,e)}floatle(t,e={}){return this.primitiveN("floatle",t,e)}floatbe(t,e={}){return this.primitiveN("floatbe",t,e)}doublele(t,e={}){return this.primitiveN("doublele",t,e)}doublebe(t,e={}){return this.primitiveN("doublebe",t,e)}bitN(t,e,n){return n.length=t,this.setNextParser("bit",e,n)}bit1(t,e={}){return this.bitN(1,t,e)}bit2(t,e={}){return this.bitN(2,t,e)}bit3(t,e={}){return this.bitN(3,t,e)}bit4(t,e={}){return this.bitN(4,t,e)}bit5(t,e={}){return this.bitN(5,t,e)}bit6(t,e={}){return this.bitN(6,t,e)}bit7(t,e={}){return this.bitN(7,t,e)}bit8(t,e={}){return this.bitN(8,t,e)}bit9(t,e={}){return this.bitN(9,t,e)}bit10(t,e={}){return this.bitN(10,t,e)}bit11(t,e={}){return this.bitN(11,t,e)}bit12(t,e={}){return this.bitN(12,t,e)}bit13(t,e={}){return this.bitN(13,t,e)}bit14(t,e={}){return this.bitN(14,t,e)}bit15(t,e={}){return this.bitN(15,t,e)}bit16(t,e={}){return this.bitN(16,t,e)}bit17(t,e={}){return this.bitN(17,t,e)}bit18(t,e={}){return this.bitN(18,t,e)}bit19(t,e={}){return this.bitN(19,t,e)}bit20(t,e={}){return this.bitN(20,t,e)}bit21(t,e={}){return this.bitN(21,t,e)}bit22(t,e={}){return this.bitN(22,t,e)}bit23(t,e={}){return this.bitN(23,t,e)}bit24(t,e={}){return this.bitN(24,t,e)}bit25(t,e={}){return this.bitN(25,t,e)}bit26(t,e={}){return this.bitN(26,t,e)}bit27(t,e={}){return this.bitN(27,t,e)}bit28(t,e={}){return this.bitN(28,t,e)}bit29(t,e={}){return this.bitN(29,t,e)}bit30(t,e={}){return this.bitN(30,t,e)}bit31(t,e={}){return this.bitN(31,t,e)}bit32(t,e={}){return this.bitN(32,t,e)}namely(t){return Re.set(t,this),this.alias=t,this}skip(t,e={}){return this.seek(t,e)}seek(t,e={}){if(e.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:t})}string(t,e){if(!e.zeroTerminated&&!e.length&&!e.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((e.zeroTerminated||e.length)&&e.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(e.stripNull&&!(e.length||e.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return e.encoding=e.encoding||"utf8",this.setNextParser("string",t,e)}buffer(t,e){if(!e.length&&!e.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",t,e)}wrapped(t,e){if(typeof e!="object"&&typeof t=="object"&&(e=t,t=""),!e||!e.wrapper||!e.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!e.length&&!e.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",t,e)}array(t,e){if(!e.readUntil&&!e.length&&!e.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!e.type)throw new Error("type is required for array.");if(typeof e.type=="string"&&!Re.has(e.type)&&!(e.type in $e))throw new Error(`Array element type "${e.type}" is unkown.`);return this.setNextParser("array",t,e)}choice(t,e){if(typeof e!="object"&&typeof t=="object"&&(e=t,t=""),!e)throw new Error("tag and choices are are required for choice.");if(!e.tag)throw new Error("tag is requird for choice.");if(!e.choices)throw new Error("choices is required for choice.");for(let n in e.choices){let i=parseInt(n,10),o=e.choices[i];if(isNaN(i))throw new Error(`Choice key "${n}" is not a number.`);if(typeof o=="string"&&!Re.has(o)&&!(o in $e))throw new Error(`Choice type "${o}" is unkown.`)}return this.setNextParser("choice",t,e)}nest(t,e){if(typeof e!="object"&&typeof t=="object"&&(e=t,t=""),!e||!e.type)throw new Error("type is required for nest.");if(!(e.type instanceof M)&&!Re.has(e.type))throw new Error("type must be a known parser name or a Parser object.");if(!(e.type instanceof M)&&!t)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",t,e)}pointer(t,e){if(!e.offset)throw new Error("offset is required for pointer.");if(!e.type)throw new Error("type is required for pointer.");if(typeof e.type=="string"&&!(e.type in $e)&&!Re.has(e.type))throw new Error(`Pointer type "${e.type}" is unkown.`);return this.setNextParser("pointer",t,e)}saveOffset(t,e={}){return this.setNextParser("saveOffset",t,e)}endianness(t){switch(t.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(t){return this.endianness(t)}useContextVars(t=!0){return this.useContextVariables=t,this}create(t){if(!(t instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=t,this}getContext(t){let e=new Ti(t,this.useContextVariables);return e.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(e),e.pushCode(`return ${bt+this.alias}(0).result;`)):this.addRawCode(e),e}getCode(){let t="imports";return this.getContext(t).code}addRawCode(t){t.pushCode("var offset = 0;"),t.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),t.pushCode("vars.$parent = null;"),t.pushCode("vars.$root = vars;"),this.generate(t),this.resolveReferences(t),t.pushCode("delete vars.$parent;"),t.pushCode("delete vars.$root;"),t.pushCode("return vars;")}addAliasedCode(t){return t.pushCode(`function ${bt+this.alias}(offset, context) {`),t.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),t.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),t.pushCode("vars = Object.assign(vars, ctx);"),this.generate(t),t.markResolved(this.alias),this.resolveReferences(t),t.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),t.pushCode("return { offset: offset, result: vars };"),t.pushCode("}"),t}resolveReferences(t){let e=t.getUnresolvedReferences();t.markRequested(e),e.forEach(n=>{var i;(i=Re.get(n))===null||i===void 0||i.addAliasedCode(t)})}compile(){let t="imports",e=this.getContext(t);this.compiled=new Function(t,"TextDecoder",`return function (buffer, constructorFn) { ${e.code} };`)(e.imports,TextDecoder)}sizeOf(){let t=NaN;if(Object.keys($e).indexOf(this.type)>=0)t=$e[this.type];else if(this.type==="string"&&typeof this.options.length=="number")t=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")t=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let e=NaN;typeof this.options.type=="string"?e=$e[this.options.type]:this.options.type instanceof M&&(e=this.options.type.sizeOf()),t=this.options.length*e}else this.type==="seek"?t=this.options.length:this.type==="nest"?t=this.options.type.sizeOf():this.type||(t=0);return this.next&&(t+=this.next.sizeOf()),t}parse(t){return this.compiled||this.compile(),this.compiled(t,this.constructorFn)}setNextParser(t,e,n){let i=new M;return i.type=t,i.varName=e,i.options=n,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(t){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,t);break;case"bit":this.generateBit(t);break;case"string":this.generateString(t);break;case"buffer":this.generateBuffer(t);break;case"seek":this.generateSeek(t);break;case"nest":this.generateNest(t);break;case"array":this.generateArray(t);break;case"choice":this.generateChoice(t);break;case"pointer":this.generatePointer(t);break;case"saveOffset":this.generateSaveOffset(t);break;case"wrapper":this.generateWrapper(t);break}this.type!=="bit"&&this.generateAssert(t)}let e=t.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(t,e,this.options.formatter),this.generateNext(t)}generateAssert(t){if(!this.options.assert)return;let e=t.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{let n=t.addImport(this.options.assert);t.pushCode(`if (!${n}.call(vars, ${e})) {`)}break;case"number":t.pushCode(`if (${this.options.assert} !== ${e}) {`);break;case"string":t.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${e}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}t.generateError(`"Assertion error: ${e} is " + ${JSON.stringify(this.options.assert.toString())}`),t.pushCode("}")}generateNext(t){return this.next&&(t=this.next.generate(t)),t}generateBit(t){let e=JSON.parse(JSON.stringify(this));if(e.options=this.options,e.generateAssert=this.generateAssert.bind(this),e.generateFormatter=this.generateFormatter.bind(this),e.varName=t.generateVariable(e.varName),t.bitFields.push(e),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){let n=t.generateTmpVariable();t.pushCode(`var ${n} = 0;`);let i=(u=0)=>{let p=0;for(let g=u;g<t.bitFields.length;g++){let h=t.bitFields[g].options.length;if(p+h>32)break;p+=h}return p},o=u=>(u<=8?(t.pushCode(`${n} = dataView.getUint8(offset);`),u=8):u<=16?(t.pushCode(`${n} = dataView.getUint16(offset);`),u=16):u<=24?(t.pushCode(`${n} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),u=24):(t.pushCode(`${n} = dataView.getUint32(offset);`),u=32),t.pushCode(`offset += ${u/8};`),u),a=0,s=this.endian==="be",l=0,f=0;t.bitFields.forEach((u,p)=>{let g=u.options.length;if(g>f){if(f){let x=-1>>>32-f;t.pushCode(`${u.varName} = (${n} & 0x${x.toString(16)}) << ${g-f};`),g-=f}a=0,f=l=o(i(p)-f)}let h=s?l-a-g:a,_=-1>>>32-g;t.pushCode(`${u.varName} ${g<u.options.length?"|=":"="} ${n} >> ${h} & 0x${_.toString(16)};`),u.options.length===32&&t.pushCode(`${u.varName} >>>= 0`),u.options.assert&&u.generateAssert(t),u.options.formatter&&u.generateFormatter(t,u.varName,u.options.formatter),a+=g,f-=g}),t.bitFields=[]}}generateSeek(t){let e=t.generateOption(this.options.length);t.pushCode(`offset += ${e};`)}generateString(t){let e=t.generateVariable(this.varName),n=t.generateTmpVariable(),i=this.options.encoding,o=i.toLowerCase()==="hex",a='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){let s=this.options.length;t.pushCode(`var ${n} = offset;`),t.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${n} < ${s});`);let l=`offset - ${n} < ${s} ? offset - 1 : offset`;t.pushCode(o?`${e} = Array.from(buffer.subarray(${n}, ${l}), ${a}).join('');`:`${e} = new TextDecoder('${i}').decode(buffer.subarray(${n}, ${l}));`)}else if(this.options.length){let s=t.generateOption(this.options.length);t.pushCode(o?`${e} = Array.from(buffer.subarray(offset, offset + ${s}), ${a}).join('');`:`${e} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${s}));`),t.pushCode(`offset += ${s};`)}else this.options.zeroTerminated?(t.pushCode(`var ${n} = offset;`),t.pushCode("while(dataView.getUint8(offset++) !== 0);"),t.pushCode(o?`${e} = Array.from(buffer.subarray(${n}, offset - 1), ${a}).join('');`:`${e} = new TextDecoder('${i}').decode(buffer.subarray(${n}, offset - 1));`)):this.options.greedy&&(t.pushCode(`var ${n} = offset;`),t.pushCode("while(buffer.length > offset++);"),t.pushCode(o?`${e} = Array.from(buffer.subarray(${n}, offset), ${a}).join('');`:`${e} = new TextDecoder('${i}').decode(buffer.subarray(${n}, offset));`));this.options.stripNull&&t.pushCode(`${e} = ${e}.replace(/\\x00+$/g, '')`)}generateBuffer(t){let e=t.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){let n=this.options.readUntil,i=t.generateTmpVariable(),o=t.generateTmpVariable();t.pushCode(`var ${i} = offset;`),t.pushCode(`var ${o} = 0;`),t.pushCode("while (offset < buffer.length) {"),t.pushCode(`${o} = dataView.getUint8(offset);`);let a=t.addImport(n);t.pushCode(`if (${a}.call(${t.generateVariable()}, ${o}, buffer.subarray(offset))) break;`),t.pushCode("offset += 1;"),t.pushCode("}"),t.pushCode(`${e} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")t.pushCode(`${e} = buffer.subarray(offset);`);else{let n=t.generateOption(this.options.length);t.pushCode(`${e} = buffer.subarray(offset, offset + ${n});`),t.pushCode(`offset += ${n};`)}this.options.clone&&t.pushCode(`${e} = buffer.constructor.from(${e});`)}generateArray(t){let e=t.generateOption(this.options.length),n=t.generateOption(this.options.lengthInBytes),i=this.options.type,o=t.generateTmpVariable(),a=t.generateVariable(this.varName),s=t.generateTmpVariable(),l=this.options.key,f=typeof l=="string";if(f?t.pushCode(`${a} = {};`):t.pushCode(`${a} = [];`),typeof this.options.readUntil=="function"?t.pushCode("do {"):this.options.readUntil==="eof"?t.pushCode(`for (var ${o} = 0; offset < buffer.length; ${o}++) {`):n!==void 0?t.pushCode(`for (var ${o} = offset + ${n}; offset < ${o}; ) {`):t.pushCode(`for (var ${o} = ${e}; ${o} > 0; ${o}--) {`),typeof i=="string")if(Re.get(i)){let u=t.generateTmpVariable();if(t.pushCode(`var ${u} = ${bt+i}(offset, {`),t.useContextVariables){let p=t.generateVariable();t.pushCode(`$parent: ${p},`),t.pushCode(`$root: ${p}.$root,`),!this.options.readUntil&&n===void 0&&t.pushCode(`$index: ${e} - ${o},`)}t.pushCode("});"),t.pushCode(`var ${s} = ${u}.result; offset = ${u}.offset;`),i!==this.alias&&t.addReference(i)}else{let u=gn[i],p=bn[i];t.pushCode(`var ${s} = dataView.get${u}(offset, ${p});`),t.pushCode(`offset += ${$e[i]};`)}else if(i instanceof M){t.pushCode(`var ${s} = {};`);let u=t.generateVariable();t.pushScope(s),t.useContextVariables&&(t.pushCode(`${s}.$parent = ${u};`),t.pushCode(`${s}.$root = ${u}.$root;`),!this.options.readUntil&&n===void 0&&t.pushCode(`${s}.$index = ${e} - ${o};`)),i.generate(t),t.useContextVariables&&(t.pushCode(`delete ${s}.$parent;`),t.pushCode(`delete ${s}.$root;`),t.pushCode(`delete ${s}.$index;`)),t.popScope()}if(f?t.pushCode(`${a}[${s}.${l}] = ${s};`):t.pushCode(`${a}.push(${s});`),t.pushCode("}"),typeof this.options.readUntil=="function"){let u=this.options.readUntil,p=t.addImport(u);t.pushCode(`while (!${p}.call(${t.generateVariable()}, ${s}, buffer.subarray(offset)));`)}}generateChoiceCase(t,e,n){if(typeof n=="string"){let i=t.generateVariable(this.varName);if(Re.has(n)){let o=t.generateTmpVariable();t.pushCode(`var ${o} = ${bt+n}(offset, {`),t.useContextVariables&&(t.pushCode(`$parent: ${i}.$parent,`),t.pushCode(`$root: ${i}.$root,`)),t.pushCode("});"),t.pushCode(`${i} = ${o}.result; offset = ${o}.offset;`),n!==this.alias&&t.addReference(n)}else{let o=gn[n],a=bn[n];t.pushCode(`${i} = dataView.get${o}(offset, ${a});`),t.pushCode(`offset += ${$e[n]}`)}}else n instanceof M&&(t.pushPath(e),n.generate(t),t.popPath(e))}generateChoice(t){let e=t.generateOption(this.options.tag),n=t.generateVariable(this.varName);if(this.varName&&(t.pushCode(`${n} = {};`),t.useContextVariables)){let i=t.generateVariable();t.pushCode(`${n}.$parent = ${i};`),t.pushCode(`${n}.$root = ${i}.$root;`)}t.pushCode(`switch(${e}) {`);for(let i in this.options.choices){let o=parseInt(i,10),a=this.options.choices[o];t.pushCode(`case ${o}:`),this.generateChoiceCase(t,this.varName,a),t.pushCode("break;")}t.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(t,this.varName,this.options.defaultChoice):t.generateError(`"Met undefined tag value " + ${e} + " at choice"`),t.pushCode("}"),this.varName&&t.useContextVariables&&(t.pushCode(`delete ${n}.$parent;`),t.pushCode(`delete ${n}.$root;`))}generateNest(t){let e=t.generateVariable(this.varName);if(this.options.type instanceof M){if(this.varName&&(t.pushCode(`${e} = {};`),t.useContextVariables)){let n=t.generateVariable();t.pushCode(`${e}.$parent = ${n};`),t.pushCode(`${e}.$root = ${n}.$root;`)}t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName),this.varName&&t.useContextVariables&&t.useContextVariables&&(t.pushCode(`delete ${e}.$parent;`),t.pushCode(`delete ${e}.$root;`))}else if(Re.has(this.options.type)){let n=t.generateTmpVariable();if(t.pushCode(`var ${n} = ${bt+this.options.type}(offset, {`),t.useContextVariables){let i=t.generateVariable();t.pushCode(`$parent: ${i},`),t.pushCode(`$root: ${i}.$root,`)}t.pushCode("});"),t.pushCode(`${e} = ${n}.result; offset = ${n}.offset;`),this.options.type!==this.alias&&t.addReference(this.options.type)}}generateWrapper(t){let e=t.generateVariable(this.varName),n=t.generateTmpVariable();if(typeof this.options.readUntil=="function"){let l=this.options.readUntil,f=t.generateTmpVariable(),u=t.generateTmpVariable();t.pushCode(`var ${f} = offset;`),t.pushCode(`var ${u} = 0;`),t.pushCode("while (offset < buffer.length) {"),t.pushCode(`${u} = dataView.getUint8(offset);`);let p=t.addImport(l);t.pushCode(`if (${p}.call(${t.generateVariable()}, ${u}, buffer.subarray(offset))) break;`),t.pushCode("offset += 1;"),t.pushCode("}"),t.pushCode(`${n} = buffer.subarray(${f}, offset);`)}else if(this.options.readUntil==="eof")t.pushCode(`${n} = buffer.subarray(offset);`);else{let l=t.generateOption(this.options.length);t.pushCode(`${n} = buffer.subarray(offset, offset + ${l});`),t.pushCode(`offset += ${l};`)}this.options.clone&&t.pushCode(`${n} = buffer.constructor.from(${n});`);let i=t.generateTmpVariable(),o=t.generateTmpVariable(),a=t.generateTmpVariable(),s=t.addImport(this.options.wrapper);if(t.pushCode(`${n} = ${s}.call(this, ${n}).subarray(0);`),t.pushCode(`var ${i} = buffer;`),t.pushCode(`var ${o} = offset;`),t.pushCode(`var ${a} = dataView;`),t.pushCode(`buffer = ${n};`),t.pushCode("offset = 0;"),t.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof M)this.varName&&t.pushCode(`${e} = {};`),t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName);else if(Re.has(this.options.type)){let l=t.generateTmpVariable();t.pushCode(`var ${l} = ${bt+this.options.type}(0);`),t.pushCode(`${e} = ${l}.result;`),this.options.type!==this.alias&&t.addReference(this.options.type)}t.pushCode(`buffer = ${i};`),t.pushCode(`dataView = ${a};`),t.pushCode(`offset = ${o};`)}generateFormatter(t,e,n){if(typeof n=="function"){let i=t.addImport(n);t.pushCode(`${e} = ${i}.call(${t.generateVariable()}, ${e});`)}}generatePointer(t){let e=this.options.type,n=t.generateOption(this.options.offset),i=t.generateTmpVariable(),o=t.generateVariable(this.varName);if(t.pushCode(`var ${i} = offset;`),t.pushCode(`offset = ${n};`),this.options.type instanceof M){if(t.pushCode(`${o} = {};`),t.useContextVariables){let a=t.generateVariable();t.pushCode(`${o}.$parent = ${a};`),t.pushCode(`${o}.$root = ${a}.$root;`)}t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName),t.useContextVariables&&(t.pushCode(`delete ${o}.$parent;`),t.pushCode(`delete ${o}.$root;`))}else if(Re.has(this.options.type)){let a=t.generateTmpVariable();if(t.pushCode(`var ${a} = ${bt+this.options.type}(offset, {`),t.useContextVariables){let s=t.generateVariable();t.pushCode(`$parent: ${s},`),t.pushCode(`$root: ${s}.$root,`)}t.pushCode("});"),t.pushCode(`${o} = ${a}.result; offset = ${a}.offset;`),this.options.type!==this.alias&&t.addReference(this.options.type)}else if(Object.keys($e).indexOf(this.options.type)>=0){let a=gn[e],s=bn[e];t.pushCode(`${o} = dataView.get${a}(offset, ${s});`),t.pushCode(`offset += ${$e[e]};`)}t.pushCode(`offset = ${i};`)}generateSaveOffset(t){let e=t.generateVariable(this.varName);t.pushCode(`${e} = offset`)}};var Eu=ke(Pi()),Su=ke(zi());d();m();var De=class{constructor(t){this.ranges=t}get min(){return this.ranges[0].min}get max(){return this.ranges[this.ranges.length-1].max}contains(t){for(let e of this.ranges)if(e.min<=t&&e.max>=t)return!0;return!1}isContiguous(){return this.ranges.length>1}getRanges(){return this.ranges.map(t=>new De([{min:t.min,max:t.max}]))}toString(){return this.ranges.map(t=>`[${t.min}-${t.max}]`).join(",")}union(t){let e=[...this.getRanges(),...t.getRanges()].sort((o,a)=>o.min<a.min?-1:o.min>a.min?1:o.max<a.max?-1:a.max>o.max?1:0),n=[],i=e[0];for(let o of e)o.min>i.max+1?(n.push(i),i=o):o.max>i.max&&(i=new De([{min:i.min,max:o.max}]));return n.push(i),n.length===1?n[0]:new De(n)}};d();m();d();m();function jt(r){let t=r.length;for(;--t>=0;)r[t]=0}var Ap=0,zf=1,Tp=2,Cp=3,kp=258,uo=29,kr=256,yr=kr+1+uo,Yt=30,lo=19,Lf=2*yr+1,wt=15,Li=16,Rp=7,co=256,Mf=16,Vf=17,Zf=18,eo=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),An=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),$p=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Yf=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Ip=512,Xe=new Array((yr+2)*2);jt(Xe);var br=new Array(Yt*2);jt(br);var xr=new Array(Ip);jt(xr);var vr=new Array(kp-Cp+1);jt(vr);var ho=new Array(uo);jt(ho);var Tn=new Array(Yt);jt(Tn);function Mi(r,t,e,n,i){this.static_tree=r,this.extra_bits=t,this.extra_base=e,this.elems=n,this.max_length=i,this.has_stree=r&&r.length}var Hf,qf,jf;function Vi(r,t){this.dyn_tree=r,this.max_code=0,this.stat_desc=t}var Gf=r=>r<256?xr[r]:xr[256+(r>>>7)],Er=(r,t)=>{r.pending_buf[r.pending++]=t&255,r.pending_buf[r.pending++]=t>>>8&255},he=(r,t,e)=>{r.bi_valid>Li-e?(r.bi_buf|=t<<r.bi_valid&65535,Er(r,r.bi_buf),r.bi_buf=t>>Li-r.bi_valid,r.bi_valid+=e-Li):(r.bi_buf|=t<<r.bi_valid&65535,r.bi_valid+=e)},Le=(r,t,e)=>{he(r,e[t*2],e[t*2+1])},Wf=(r,t)=>{let e=0;do e|=r&1,r>>>=1,e<<=1;while(--t>0);return e>>>1},Np=r=>{r.bi_valid===16?(Er(r,r.bi_buf),r.bi_buf=0,r.bi_valid=0):r.bi_valid>=8&&(r.pending_buf[r.pending++]=r.bi_buf&255,r.bi_buf>>=8,r.bi_valid-=8)},Fp=(r,t)=>{let e=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length,f,u,p,g,h,_,x=0;for(g=0;g<=wt;g++)r.bl_count[g]=0;for(e[r.heap[r.heap_max]*2+1]=0,f=r.heap_max+1;f<Lf;f++)u=r.heap[f],g=e[e[u*2+1]*2+1]+1,g>l&&(g=l,x++),e[u*2+1]=g,!(u>n)&&(r.bl_count[g]++,h=0,u>=s&&(h=a[u-s]),_=e[u*2],r.opt_len+=_*(g+h),o&&(r.static_len+=_*(i[u*2+1]+h)));if(x!==0){do{for(g=l-1;r.bl_count[g]===0;)g--;r.bl_count[g]--,r.bl_count[g+1]+=2,r.bl_count[l]--,x-=2}while(x>0);for(g=l;g!==0;g--)for(u=r.bl_count[g];u!==0;)p=r.heap[--f],!(p>n)&&(e[p*2+1]!==g&&(r.opt_len+=(g-e[p*2+1])*e[p*2],e[p*2+1]=g),u--)}},Xf=(r,t,e)=>{let n=new Array(wt+1),i=0,o,a;for(o=1;o<=wt;o++)i=i+e[o-1]<<1,n[o]=i;for(a=0;a<=t;a++){let s=r[a*2+1];s!==0&&(r[a*2]=Wf(n[s]++,s))}},Bp=()=>{let r,t,e,n,i,o=new Array(wt+1);for(e=0,n=0;n<uo-1;n++)for(ho[n]=e,r=0;r<1<<eo[n];r++)vr[e++]=n;for(vr[e-1]=n,i=0,n=0;n<16;n++)for(Tn[n]=i,r=0;r<1<<An[n];r++)xr[i++]=n;for(i>>=7;n<Yt;n++)for(Tn[n]=i<<7,r=0;r<1<<An[n]-7;r++)xr[256+i++]=n;for(t=0;t<=wt;t++)o[t]=0;for(r=0;r<=143;)Xe[r*2+1]=8,r++,o[8]++;for(;r<=255;)Xe[r*2+1]=9,r++,o[9]++;for(;r<=279;)Xe[r*2+1]=7,r++,o[7]++;for(;r<=287;)Xe[r*2+1]=8,r++,o[8]++;for(Xf(Xe,yr+1,o),r=0;r<Yt;r++)br[r*2+1]=5,br[r*2]=Wf(r,5);Hf=new Mi(Xe,eo,kr+1,yr,wt),qf=new Mi(br,An,0,Yt,wt),jf=new Mi(new Array(0),$p,0,lo,Rp)},Kf=r=>{let t;for(t=0;t<yr;t++)r.dyn_ltree[t*2]=0;for(t=0;t<Yt;t++)r.dyn_dtree[t*2]=0;for(t=0;t<lo;t++)r.bl_tree[t*2]=0;r.dyn_ltree[co*2]=1,r.opt_len=r.static_len=0,r.sym_next=r.matches=0},Jf=r=>{r.bi_valid>8?Er(r,r.bi_buf):r.bi_valid>0&&(r.pending_buf[r.pending++]=r.bi_buf),r.bi_buf=0,r.bi_valid=0},ef=(r,t,e,n)=>{let i=t*2,o=e*2;return r[i]<r[o]||r[i]===r[o]&&n[t]<=n[e]},Zi=(r,t,e)=>{let n=r.heap[e],i=e<<1;for(;i<=r.heap_len&&(i<r.heap_len&&ef(t,r.heap[i+1],r.heap[i],r.depth)&&i++,!ef(t,n,r.heap[i],r.depth));)r.heap[e]=r.heap[i],e=i,i<<=1;r.heap[e]=n},tf=(r,t,e)=>{let n,i,o=0,a,s;if(r.sym_next!==0)do n=r.pending_buf[r.sym_buf+o++]&255,n+=(r.pending_buf[r.sym_buf+o++]&255)<<8,i=r.pending_buf[r.sym_buf+o++],n===0?Le(r,i,t):(a=vr[i],Le(r,a+kr+1,t),s=eo[a],s!==0&&(i-=ho[a],he(r,i,s)),n--,a=Gf(n),Le(r,a,e),s=An[a],s!==0&&(n-=Tn[a],he(r,n,s)));while(o<r.sym_next);Le(r,co,t)},to=(r,t)=>{let e=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,a,s,l=-1,f;for(r.heap_len=0,r.heap_max=Lf,a=0;a<o;a++)e[a*2]!==0?(r.heap[++r.heap_len]=l=a,r.depth[a]=0):e[a*2+1]=0;for(;r.heap_len<2;)f=r.heap[++r.heap_len]=l<2?++l:0,e[f*2]=1,r.depth[f]=0,r.opt_len--,i&&(r.static_len-=n[f*2+1]);for(t.max_code=l,a=r.heap_len>>1;a>=1;a--)Zi(r,e,a);f=o;do a=r.heap[1],r.heap[1]=r.heap[r.heap_len--],Zi(r,e,1),s=r.heap[1],r.heap[--r.heap_max]=a,r.heap[--r.heap_max]=s,e[f*2]=e[a*2]+e[s*2],r.depth[f]=(r.depth[a]>=r.depth[s]?r.depth[a]:r.depth[s])+1,e[a*2+1]=e[s*2+1]=f,r.heap[1]=f++,Zi(r,e,1);while(r.heap_len>=2);r.heap[--r.heap_max]=r.heap[1],Fp(r,t),Xf(e,l,r.bl_count)},rf=(r,t,e)=>{let n,i=-1,o,a=t[0*2+1],s=0,l=7,f=4;for(a===0&&(l=138,f=3),t[(e+1)*2+1]=65535,n=0;n<=e;n++)o=a,a=t[(n+1)*2+1],!(++s<l&&o===a)&&(s<f?r.bl_tree[o*2]+=s:o!==0?(o!==i&&r.bl_tree[o*2]++,r.bl_tree[Mf*2]++):s<=10?r.bl_tree[Vf*2]++:r.bl_tree[Zf*2]++,s=0,i=o,a===0?(l=138,f=3):o===a?(l=6,f=3):(l=7,f=4))},nf=(r,t,e)=>{let n,i=-1,o,a=t[0*2+1],s=0,l=7,f=4;for(a===0&&(l=138,f=3),n=0;n<=e;n++)if(o=a,a=t[(n+1)*2+1],!(++s<l&&o===a)){if(s<f)do Le(r,o,r.bl_tree);while(--s!==0);else o!==0?(o!==i&&(Le(r,o,r.bl_tree),s--),Le(r,Mf,r.bl_tree),he(r,s-3,2)):s<=10?(Le(r,Vf,r.bl_tree),he(r,s-3,3)):(Le(r,Zf,r.bl_tree),he(r,s-11,7));s=0,i=o,a===0?(l=138,f=3):o===a?(l=6,f=3):(l=7,f=4)}},Op=r=>{let t;for(rf(r,r.dyn_ltree,r.l_desc.max_code),rf(r,r.dyn_dtree,r.d_desc.max_code),to(r,r.bl_desc),t=lo-1;t>=3&&r.bl_tree[Yf[t]*2+1]===0;t--);return r.opt_len+=3*(t+1)+5+5+4,t},Up=(r,t,e,n)=>{let i;for(he(r,t-257,5),he(r,e-1,5),he(r,n-4,4),i=0;i<n;i++)he(r,r.bl_tree[Yf[i]*2+1],3);nf(r,r.dyn_ltree,t-1),nf(r,r.dyn_dtree,e-1)},Pp=r=>{let t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&r.dyn_ltree[e*2]!==0)return 0;if(r.dyn_ltree[9*2]!==0||r.dyn_ltree[10*2]!==0||r.dyn_ltree[13*2]!==0)return 1;for(e=32;e<kr;e++)if(r.dyn_ltree[e*2]!==0)return 1;return 0},of=!1,Dp=r=>{of||(Bp(),of=!0),r.l_desc=new Vi(r.dyn_ltree,Hf),r.d_desc=new Vi(r.dyn_dtree,qf),r.bl_desc=new Vi(r.bl_tree,jf),r.bi_buf=0,r.bi_valid=0,Kf(r)},Qf=(r,t,e,n)=>{he(r,(Ap<<1)+(n?1:0),3),Jf(r),Er(r,e),Er(r,~e),e&&r.pending_buf.set(r.window.subarray(t,t+e),r.pending),r.pending+=e},zp=r=>{he(r,zf<<1,3),Le(r,co,Xe),Np(r)},Lp=(r,t,e,n)=>{let i,o,a=0;r.level>0?(r.strm.data_type===2&&(r.strm.data_type=Pp(r)),to(r,r.l_desc),to(r,r.d_desc),a=Op(r),i=r.opt_len+3+7>>>3,o=r.static_len+3+7>>>3,o<=i&&(i=o)):i=o=e+5,e+4<=i&&t!==-1?Qf(r,t,e,n):r.strategy===4||o===i?(he(r,(zf<<1)+(n?1:0),3),tf(r,Xe,br)):(he(r,(Tp<<1)+(n?1:0),3),Up(r,r.l_desc.max_code+1,r.d_desc.max_code+1,a+1),tf(r,r.dyn_ltree,r.dyn_dtree)),Kf(r),n&&Jf(r)},Mp=(r,t,e)=>(r.pending_buf[r.sym_buf+r.sym_next++]=t,r.pending_buf[r.sym_buf+r.sym_next++]=t>>8,r.pending_buf[r.sym_buf+r.sym_next++]=e,t===0?r.dyn_ltree[e*2]++:(r.matches++,t--,r.dyn_ltree[(vr[e]+kr+1)*2]++,r.dyn_dtree[Gf(t)*2]++),r.sym_next===r.sym_end),Vp=Dp,Zp=Qf,Yp=Lp,Hp=Mp,qp=zp,jp={_tr_init:Vp,_tr_stored_block:Zp,_tr_flush_block:Yp,_tr_tally:Hp,_tr_align:qp},Gp=(r,t,e,n)=>{let i=r&65535|0,o=r>>>16&65535|0,a=0;for(;e!==0;){a=e>2e3?2e3:e,e-=a;do i=i+t[n++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0},Sr=Gp,Wp=()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t},Xp=new Uint32Array(Wp()),Kp=(r,t,e,n)=>{let i=Xp,o=n+e;r^=-1;for(let a=n;a<o;a++)r=r>>>8^i[(r^t[a])&255];return r^-1},te=Kp,xt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Gt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:Jp,_tr_stored_block:ro,_tr_flush_block:Qp,_tr_tally:ut,_tr_align:e0}=jp,{Z_NO_FLUSH:lt,Z_PARTIAL_FLUSH:t0,Z_FULL_FLUSH:r0,Z_FINISH:ve,Z_BLOCK:af,Z_OK:ne,Z_STREAM_END:sf,Z_STREAM_ERROR:Me,Z_DATA_ERROR:n0,Z_BUF_ERROR:Yi,Z_DEFAULT_COMPRESSION:i0,Z_FILTERED:o0,Z_HUFFMAN_ONLY:yn,Z_RLE:a0,Z_FIXED:s0,Z_DEFAULT_STRATEGY:f0,Z_UNKNOWN:u0,Z_DEFLATED:Rn}=Gt,l0=9,c0=15,h0=8,p0=29,d0=256,no=d0+1+p0,m0=30,g0=19,b0=2*no+1,w0=15,V=3,ft=258,Ve=ft+V+1,_0=32,Ht=42,po=57,io=69,oo=73,ao=91,so=103,_t=113,mr=666,ue=1,Wt=2,vt=3,Xt=4,y0=3,yt=(r,t)=>(r.msg=xt[t],t),ff=r=>r*2-(r>4?9:0),st=r=>{let t=r.length;for(;--t>=0;)r[t]=0},x0=r=>{let t,e,n,i=r.w_size;t=r.hash_size,n=t;do e=r.head[--n],r.head[n]=e>=i?e-i:0;while(--t);t=i,n=t;do e=r.prev[--n],r.prev[n]=e>=i?e-i:0;while(--t)},v0=(r,t,e)=>(t<<r.hash_shift^e)&r.hash_mask,ct=v0,ge=r=>{let t=r.state,e=t.pending;e>r.avail_out&&(e=r.avail_out),e!==0&&(r.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),r.next_out),r.next_out+=e,t.pending_out+=e,r.total_out+=e,r.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},be=(r,t)=>{Qp(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,t),r.block_start=r.strstart,ge(r.strm)},H=(r,t)=>{r.pending_buf[r.pending++]=t},dr=(r,t)=>{r.pending_buf[r.pending++]=t>>>8&255,r.pending_buf[r.pending++]=t&255},fo=(r,t,e,n)=>{let i=r.avail_in;return i>n&&(i=n),i===0?0:(r.avail_in-=i,t.set(r.input.subarray(r.next_in,r.next_in+i),e),r.state.wrap===1?r.adler=Sr(r.adler,t,i,e):r.state.wrap===2&&(r.adler=te(r.adler,t,i,e)),r.next_in+=i,r.total_in+=i,i)},eu=(r,t)=>{let e=r.max_chain_length,n=r.strstart,i,o,a=r.prev_length,s=r.nice_match,l=r.strstart>r.w_size-Ve?r.strstart-(r.w_size-Ve):0,f=r.window,u=r.w_mask,p=r.prev,g=r.strstart+ft,h=f[n+a-1],_=f[n+a];r.prev_length>=r.good_match&&(e>>=2),s>r.lookahead&&(s=r.lookahead);do if(i=t,!(f[i+a]!==_||f[i+a-1]!==h||f[i]!==f[n]||f[++i]!==f[n+1])){n+=2,i++;do;while(f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&n<g);if(o=ft-(g-n),n=g-ft,o>a){if(r.match_start=t,a=o,o>=s)break;h=f[n+a-1],_=f[n+a]}}while((t=p[t&u])>l&&--e!==0);return a<=r.lookahead?a:r.lookahead},qt=r=>{let t=r.w_size,e,n,i;do{if(n=r.window_size-r.lookahead-r.strstart,r.strstart>=t+(t-Ve)&&(r.window.set(r.window.subarray(t,t+t-n),0),r.match_start-=t,r.strstart-=t,r.block_start-=t,r.insert>r.strstart&&(r.insert=r.strstart),x0(r),n+=t),r.strm.avail_in===0)break;if(e=fo(r.strm,r.window,r.strstart+r.lookahead,n),r.lookahead+=e,r.lookahead+r.insert>=V)for(i=r.strstart-r.insert,r.ins_h=r.window[i],r.ins_h=ct(r,r.ins_h,r.window[i+1]);r.insert&&(r.ins_h=ct(r,r.ins_h,r.window[i+V-1]),r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,r.insert--,!(r.lookahead+r.insert<V)););}while(r.lookahead<Ve&&r.strm.avail_in!==0)},tu=(r,t)=>{let e=r.pending_buf_size-5>r.w_size?r.w_size:r.pending_buf_size-5,n,i,o,a=0,s=r.strm.avail_in;do{if(n=65535,o=r.bi_valid+42>>3,r.strm.avail_out<o||(o=r.strm.avail_out-o,i=r.strstart-r.block_start,n>i+r.strm.avail_in&&(n=i+r.strm.avail_in),n>o&&(n=o),n<e&&(n===0&&t!==ve||t===lt||n!==i+r.strm.avail_in)))break;a=t===ve&&n===i+r.strm.avail_in?1:0,ro(r,0,0,a),r.pending_buf[r.pending-4]=n,r.pending_buf[r.pending-3]=n>>8,r.pending_buf[r.pending-2]=~n,r.pending_buf[r.pending-1]=~n>>8,ge(r.strm),i&&(i>n&&(i=n),r.strm.output.set(r.window.subarray(r.block_start,r.block_start+i),r.strm.next_out),r.strm.next_out+=i,r.strm.avail_out-=i,r.strm.total_out+=i,r.block_start+=i,n-=i),n&&(fo(r.strm,r.strm.output,r.strm.next_out,n),r.strm.next_out+=n,r.strm.avail_out-=n,r.strm.total_out+=n)}while(a===0);return s-=r.strm.avail_in,s&&(s>=r.w_size?(r.matches=2,r.window.set(r.strm.input.subarray(r.strm.next_in-r.w_size,r.strm.next_in),0),r.strstart=r.w_size,r.insert=r.strstart):(r.window_size-r.strstart<=s&&(r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,r.insert>r.strstart&&(r.insert=r.strstart)),r.window.set(r.strm.input.subarray(r.strm.next_in-s,r.strm.next_in),r.strstart),r.strstart+=s,r.insert+=s>r.w_size-r.insert?r.w_size-r.insert:s),r.block_start=r.strstart),r.high_water<r.strstart&&(r.high_water=r.strstart),a?Xt:t!==lt&&t!==ve&&r.strm.avail_in===0&&r.strstart===r.block_start?Wt:(o=r.window_size-r.strstart,r.strm.avail_in>o&&r.block_start>=r.w_size&&(r.block_start-=r.w_size,r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,o+=r.w_size,r.insert>r.strstart&&(r.insert=r.strstart)),o>r.strm.avail_in&&(o=r.strm.avail_in),o&&(fo(r.strm,r.window,r.strstart,o),r.strstart+=o,r.insert+=o>r.w_size-r.insert?r.w_size-r.insert:o),r.high_water<r.strstart&&(r.high_water=r.strstart),o=r.bi_valid+42>>3,o=r.pending_buf_size-o>65535?65535:r.pending_buf_size-o,e=o>r.w_size?r.w_size:o,i=r.strstart-r.block_start,(i>=e||(i||t===ve)&&t!==lt&&r.strm.avail_in===0&&i<=o)&&(n=i>o?o:i,a=t===ve&&r.strm.avail_in===0&&n===i?1:0,ro(r,r.block_start,n,a),r.block_start+=n,ge(r.strm)),a?vt:ue)},Hi=(r,t)=>{let e,n;for(;;){if(r.lookahead<Ve){if(qt(r),r.lookahead<Ve&&t===lt)return ue;if(r.lookahead===0)break}if(e=0,r.lookahead>=V&&(r.ins_h=ct(r,r.ins_h,r.window[r.strstart+V-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),e!==0&&r.strstart-e<=r.w_size-Ve&&(r.match_length=eu(r,e)),r.match_length>=V)if(n=ut(r,r.strstart-r.match_start,r.match_length-V),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=V){r.match_length--;do r.strstart++,r.ins_h=ct(r,r.ins_h,r.window[r.strstart+V-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.match_length!==0);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=ct(r,r.ins_h,r.window[r.strstart+1]);else n=ut(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(n&&(be(r,!1),r.strm.avail_out===0))return ue}return r.insert=r.strstart<V-1?r.strstart:V-1,t===ve?(be(r,!0),r.strm.avail_out===0?vt:Xt):r.sym_next&&(be(r,!1),r.strm.avail_out===0)?ue:Wt},Vt=(r,t)=>{let e,n,i;for(;;){if(r.lookahead<Ve){if(qt(r),r.lookahead<Ve&&t===lt)return ue;if(r.lookahead===0)break}if(e=0,r.lookahead>=V&&(r.ins_h=ct(r,r.ins_h,r.window[r.strstart+V-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=V-1,e!==0&&r.prev_length<r.max_lazy_match&&r.strstart-e<=r.w_size-Ve&&(r.match_length=eu(r,e),r.match_length<=5&&(r.strategy===o0||r.match_length===V&&r.strstart-r.match_start>4096)&&(r.match_length=V-1)),r.prev_length>=V&&r.match_length<=r.prev_length){i=r.strstart+r.lookahead-V,n=ut(r,r.strstart-1-r.prev_match,r.prev_length-V),r.lookahead-=r.prev_length-1,r.prev_length-=2;do++r.strstart<=i&&(r.ins_h=ct(r,r.ins_h,r.window[r.strstart+V-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart);while(--r.prev_length!==0);if(r.match_available=0,r.match_length=V-1,r.strstart++,n&&(be(r,!1),r.strm.avail_out===0))return ue}else if(r.match_available){if(n=ut(r,0,r.window[r.strstart-1]),n&&be(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return ue}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(n=ut(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<V-1?r.strstart:V-1,t===ve?(be(r,!0),r.strm.avail_out===0?vt:Xt):r.sym_next&&(be(r,!1),r.strm.avail_out===0)?ue:Wt},E0=(r,t)=>{let e,n,i,o,a=r.window;for(;;){if(r.lookahead<=ft){if(qt(r),r.lookahead<=ft&&t===lt)return ue;if(r.lookahead===0)break}if(r.match_length=0,r.lookahead>=V&&r.strstart>0&&(i=r.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=r.strstart+ft;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);r.match_length=ft-(o-i),r.match_length>r.lookahead&&(r.match_length=r.lookahead)}if(r.match_length>=V?(e=ut(r,1,r.match_length-V),r.lookahead-=r.match_length,r.strstart+=r.match_length,r.match_length=0):(e=ut(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++),e&&(be(r,!1),r.strm.avail_out===0))return ue}return r.insert=0,t===ve?(be(r,!0),r.strm.avail_out===0?vt:Xt):r.sym_next&&(be(r,!1),r.strm.avail_out===0)?ue:Wt},S0=(r,t)=>{let e;for(;;){if(r.lookahead===0&&(qt(r),r.lookahead===0)){if(t===lt)return ue;break}if(r.match_length=0,e=ut(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++,e&&(be(r,!1),r.strm.avail_out===0))return ue}return r.insert=0,t===ve?(be(r,!0),r.strm.avail_out===0?vt:Xt):r.sym_next&&(be(r,!1),r.strm.avail_out===0)?ue:Wt};function ze(r,t,e,n,i){this.good_length=r,this.max_lazy=t,this.nice_length=e,this.max_chain=n,this.func=i}var gr=[new ze(0,0,0,0,tu),new ze(4,4,8,4,Hi),new ze(4,5,16,8,Hi),new ze(4,6,32,32,Hi),new ze(4,4,16,16,Vt),new ze(8,16,32,32,Vt),new ze(8,16,128,128,Vt),new ze(8,32,128,256,Vt),new ze(32,128,258,1024,Vt),new ze(32,258,258,4096,Vt)],A0=r=>{r.window_size=2*r.w_size,st(r.head),r.max_lazy_match=gr[r.level].max_lazy,r.good_match=gr[r.level].good_length,r.nice_match=gr[r.level].nice_length,r.max_chain_length=gr[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=V-1,r.match_available=0,r.ins_h=0};function T0(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Rn,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(b0*2),this.dyn_dtree=new Uint16Array((2*m0+1)*2),this.bl_tree=new Uint16Array((2*g0+1)*2),st(this.dyn_ltree),st(this.dyn_dtree),st(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(w0+1),this.heap=new Uint16Array(2*no+1),st(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*no+1),st(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Rr=r=>{if(!r)return 1;let t=r.state;return!t||t.strm!==r||t.status!==Ht&&t.status!==po&&t.status!==io&&t.status!==oo&&t.status!==ao&&t.status!==so&&t.status!==_t&&t.status!==mr?1:0},ru=r=>{if(Rr(r))return yt(r,Me);r.total_in=r.total_out=0,r.data_type=u0;let t=r.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?po:t.wrap?Ht:_t,r.adler=t.wrap===2?0:1,t.last_flush=-2,Jp(t),ne},nu=r=>{let t=ru(r);return t===ne&&A0(r.state),t},C0=(r,t)=>Rr(r)||r.state.wrap!==2?Me:(r.state.gzhead=t,ne),iu=(r,t,e,n,i,o)=>{if(!r)return Me;let a=1;if(t===i0&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>l0||e!==Rn||n<8||n>15||t<0||t>9||o<0||o>s0||n===8&&a!==1)return yt(r,Me);n===8&&(n=9);let s=new T0;return r.state=s,s.strm=r,s.status=Ht,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+V-1)/V),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=t,s.strategy=o,s.method=e,nu(r)},k0=(r,t)=>iu(r,t,Rn,c0,h0,f0),R0=(r,t)=>{if(Rr(r)||t>af||t<0)return r?yt(r,Me):Me;let e=r.state;if(!r.output||r.avail_in!==0&&!r.input||e.status===mr&&t!==ve)return yt(r,r.avail_out===0?Yi:Me);let n=e.last_flush;if(e.last_flush=t,e.pending!==0){if(ge(r),r.avail_out===0)return e.last_flush=-1,ne}else if(r.avail_in===0&&ff(t)<=ff(n)&&t!==ve)return yt(r,Yi);if(e.status===mr&&r.avail_in!==0)return yt(r,Yi);if(e.status===Ht&&e.wrap===0&&(e.status=_t),e.status===Ht){let i=Rn+(e.w_bits-8<<4)<<8,o=-1;if(e.strategy>=yn||e.level<2?o=0:e.level<6?o=1:e.level===6?o=2:o=3,i|=o<<6,e.strstart!==0&&(i|=_0),i+=31-i%31,dr(e,i),e.strstart!==0&&(dr(e,r.adler>>>16),dr(e,r.adler&65535)),r.adler=1,e.status=_t,ge(r),e.pending!==0)return e.last_flush=-1,ne}if(e.status===po){if(r.adler=0,H(e,31),H(e,139),H(e,8),e.gzhead)H(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),H(e,e.gzhead.time&255),H(e,e.gzhead.time>>8&255),H(e,e.gzhead.time>>16&255),H(e,e.gzhead.time>>24&255),H(e,e.level===9?2:e.strategy>=yn||e.level<2?4:0),H(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(H(e,e.gzhead.extra.length&255),H(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(r.adler=te(r.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=io;else if(H(e,0),H(e,0),H(e,0),H(e,0),H(e,0),H(e,e.level===9?2:e.strategy>=yn||e.level<2?4:0),H(e,y0),e.status=_t,ge(r),e.pending!==0)return e.last_flush=-1,ne}if(e.status===io){if(e.gzhead.extra){let i=e.pending,o=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+o>e.pending_buf_size;){let s=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+s),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>i&&(r.adler=te(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex+=s,ge(r),e.pending!==0)return e.last_flush=-1,ne;i=0,o-=s}let a=new Uint8Array(e.gzhead.extra);e.pending_buf.set(a.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending+=o,e.gzhead.hcrc&&e.pending>i&&(r.adler=te(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=oo}if(e.status===oo){if(e.gzhead.name){let i=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(r.adler=te(r.adler,e.pending_buf,e.pending-i,i)),ge(r),e.pending!==0)return e.last_flush=-1,ne;i=0}e.gzindex<e.gzhead.name.length?o=e.gzhead.name.charCodeAt(e.gzindex++)&255:o=0,H(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>i&&(r.adler=te(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=ao}if(e.status===ao){if(e.gzhead.comment){let i=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(r.adler=te(r.adler,e.pending_buf,e.pending-i,i)),ge(r),e.pending!==0)return e.last_flush=-1,ne;i=0}e.gzindex<e.gzhead.comment.length?o=e.gzhead.comment.charCodeAt(e.gzindex++)&255:o=0,H(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>i&&(r.adler=te(r.adler,e.pending_buf,e.pending-i,i))}e.status=so}if(e.status===so){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(ge(r),e.pending!==0))return e.last_flush=-1,ne;H(e,r.adler&255),H(e,r.adler>>8&255),r.adler=0}if(e.status=_t,ge(r),e.pending!==0)return e.last_flush=-1,ne}if(r.avail_in!==0||e.lookahead!==0||t!==lt&&e.status!==mr){let i=e.level===0?tu(e,t):e.strategy===yn?S0(e,t):e.strategy===a0?E0(e,t):gr[e.level].func(e,t);if((i===vt||i===Xt)&&(e.status=mr),i===ue||i===vt)return r.avail_out===0&&(e.last_flush=-1),ne;if(i===Wt&&(t===t0?e0(e):t!==af&&(ro(e,0,0,!1),t===r0&&(st(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),ge(r),r.avail_out===0))return e.last_flush=-1,ne}return t!==ve?ne:e.wrap<=0?sf:(e.wrap===2?(H(e,r.adler&255),H(e,r.adler>>8&255),H(e,r.adler>>16&255),H(e,r.adler>>24&255),H(e,r.total_in&255),H(e,r.total_in>>8&255),H(e,r.total_in>>16&255),H(e,r.total_in>>24&255)):(dr(e,r.adler>>>16),dr(e,r.adler&65535)),ge(r),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?ne:sf)},$0=r=>{if(Rr(r))return Me;let t=r.state.status;return r.state=null,t===_t?yt(r,n0):ne},I0=(r,t)=>{let e=t.length;if(Rr(r))return Me;let n=r.state,i=n.wrap;if(i===2||i===1&&n.status!==Ht||n.lookahead)return Me;if(i===1&&(r.adler=Sr(r.adler,t,e,0)),n.wrap=0,e>=n.w_size){i===0&&(st(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(e-n.w_size,e),0),t=l,e=n.w_size}let o=r.avail_in,a=r.next_in,s=r.input;for(r.avail_in=e,r.next_in=0,r.input=t,qt(n);n.lookahead>=V;){let l=n.strstart,f=n.lookahead-(V-1);do n.ins_h=ct(n,n.ins_h,n.window[l+V-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--f);n.strstart=l,n.lookahead=V-1,qt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=V-1,n.match_available=0,r.next_in=a,r.input=s,r.avail_in=o,n.wrap=i,ne},N0=k0,F0=iu,B0=nu,O0=ru,U0=C0,P0=R0,D0=$0,z0=I0,L0="pako deflate (from Nodeca project)",wr={deflateInit:N0,deflateInit2:F0,deflateReset:B0,deflateResetKeep:O0,deflateSetHeader:U0,deflate:P0,deflateEnd:D0,deflateSetDictionary:z0,deflateInfo:L0},M0=(r,t)=>Object.prototype.hasOwnProperty.call(r,t),V0=function(r){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let e=t.shift();if(!!e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(let n in e)M0(e,n)&&(r[n]=e[n])}}return r},Z0=r=>{let t=0;for(let n=0,i=r.length;n<i;n++)t+=r[n].length;let e=new Uint8Array(t);for(let n=0,i=0,o=r.length;n<o;n++){let a=r[n];e.set(a,i),i+=a.length}return e},$n={assign:V0,flattenChunks:Z0},ou=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r){ou=!1}var Ar=new Uint8Array(256);for(let r=0;r<256;r++)Ar[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Ar[254]=Ar[254]=1;var Y0=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let t,e,n,i,o,a=r.length,s=0;for(i=0;i<a;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),s+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t},H0=(r,t)=>{if(t<65534&&r.subarray&&ou)return String.fromCharCode.apply(null,r.length===t?r:r.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return e},q0=(r,t)=>{let e=t||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,t));let n,i,o=new Array(e*2);for(i=0,n=0;n<e;){let a=r[n++];if(a<128){o[i++]=a;continue}let s=Ar[a];if(s>4){o[i++]=65533,n+=s-1;continue}for(a&=s===2?31:s===3?15:7;s>1&&n<e;)a=a<<6|r[n++]&63,s--;if(s>1){o[i++]=65533;continue}a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|a&1023)}return H0(o,i)},j0=(r,t)=>{t=t||r.length,t>r.length&&(t=r.length);let e=t-1;for(;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+Ar[r[e]]>t?e:t},Tr={string2buf:Y0,buf2string:q0,utf8border:j0};function G0(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var au=G0,su=Object.prototype.toString,{Z_NO_FLUSH:W0,Z_SYNC_FLUSH:X0,Z_FULL_FLUSH:K0,Z_FINISH:J0,Z_OK:Cn,Z_STREAM_END:Q0,Z_DEFAULT_COMPRESSION:ed,Z_DEFAULT_STRATEGY:td,Z_DEFLATED:rd}=Gt;function $r(r){this.options=$n.assign({level:ed,method:rd,chunkSize:16384,windowBits:15,memLevel:8,strategy:td},r||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new au,this.strm.avail_out=0;let e=wr.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==Cn)throw new Error(xt[e]);if(t.header&&wr.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Tr.string2buf(t.dictionary):su.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,e=wr.deflateSetDictionary(this.strm,n),e!==Cn)throw new Error(xt[e]);this._dict_set=!0}}$r.prototype.push=function(r,t){let e=this.strm,n=this.options.chunkSize,i,o;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?J0:W0,typeof r=="string"?e.input=Tr.string2buf(r):su.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(o===X0||o===K0)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(i=wr.deflate(e,o),i===Q0)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),i=wr.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Cn;if(e.avail_out===0){this.onData(e.output);continue}if(o>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};$r.prototype.onData=function(r){this.chunks.push(r)};$r.prototype.onEnd=function(r){r===Cn&&(this.result=$n.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function mo(r,t){let e=new $r(t);if(e.push(r,!0),e.err)throw e.msg||xt[e.err];return e.result}function nd(r,t){return t=t||{},t.raw=!0,mo(r,t)}function id(r,t){return t=t||{},t.gzip=!0,mo(r,t)}var od=$r,ad=mo,sd=nd,fd=id,ud=Gt,ld={Deflate:od,deflate:ad,deflateRaw:sd,gzip:fd,constants:ud},xn=16209,cd=16191,hd=function(t,e){let n,i,o,a,s,l,f,u,p,g,h,_,x,C,A,I,k,S,F,O,T,N,B,U,L=t.state;n=t.next_in,B=t.input,i=n+(t.avail_in-5),o=t.next_out,U=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),l=L.dmax,f=L.wsize,u=L.whave,p=L.wnext,g=L.window,h=L.hold,_=L.bits,x=L.lencode,C=L.distcode,A=(1<<L.lenbits)-1,I=(1<<L.distbits)-1;e:do{_<15&&(h+=B[n++]<<_,_+=8,h+=B[n++]<<_,_+=8),k=x[h&A];t:for(;;){if(S=k>>>24,h>>>=S,_-=S,S=k>>>16&255,S===0)U[o++]=k&65535;else if(S&16){F=k&65535,S&=15,S&&(_<S&&(h+=B[n++]<<_,_+=8),F+=h&(1<<S)-1,h>>>=S,_-=S),_<15&&(h+=B[n++]<<_,_+=8,h+=B[n++]<<_,_+=8),k=C[h&I];r:for(;;){if(S=k>>>24,h>>>=S,_-=S,S=k>>>16&255,S&16){if(O=k&65535,S&=15,_<S&&(h+=B[n++]<<_,_+=8,_<S&&(h+=B[n++]<<_,_+=8)),O+=h&(1<<S)-1,O>l){t.msg="invalid distance too far back",L.mode=xn;break e}if(h>>>=S,_-=S,S=o-a,O>S){if(S=O-S,S>u&&L.sane){t.msg="invalid distance too far back",L.mode=xn;break e}if(T=0,N=g,p===0){if(T+=f-S,S<F){F-=S;do U[o++]=g[T++];while(--S);T=o-O,N=U}}else if(p<S){if(T+=f+p-S,S-=p,S<F){F-=S;do U[o++]=g[T++];while(--S);if(T=0,p<F){S=p,F-=S;do U[o++]=g[T++];while(--S);T=o-O,N=U}}}else if(T+=p-S,S<F){F-=S;do U[o++]=g[T++];while(--S);T=o-O,N=U}for(;F>2;)U[o++]=N[T++],U[o++]=N[T++],U[o++]=N[T++],F-=3;F&&(U[o++]=N[T++],F>1&&(U[o++]=N[T++]))}else{T=o-O;do U[o++]=U[T++],U[o++]=U[T++],U[o++]=U[T++],F-=3;while(F>2);F&&(U[o++]=U[T++],F>1&&(U[o++]=U[T++]))}}else if((S&64)===0){k=C[(k&65535)+(h&(1<<S)-1)];continue r}else{t.msg="invalid distance code",L.mode=xn;break e}break}}else if((S&64)===0){k=x[(k&65535)+(h&(1<<S)-1)];continue t}else if(S&32){L.mode=cd;break e}else{t.msg="invalid literal/length code",L.mode=xn;break e}break}}while(n<i&&o<s);F=_>>3,n-=F,_-=F<<3,h&=(1<<_)-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=o<s?257+(s-o):257-(o-s),L.hold=h,L.bits=_},Zt=15,uf=852,lf=592,cf=0,qi=1,hf=2,pd=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dd=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),md=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),gd=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),bd=(r,t,e,n,i,o,a,s)=>{let l=s.bits,f=0,u=0,p=0,g=0,h=0,_=0,x=0,C=0,A=0,I=0,k,S,F,O,T,N=null,B,U=new Uint16Array(Zt+1),L=new Uint16Array(Zt+1),fe=null,Ne,Bt,Ot;for(f=0;f<=Zt;f++)U[f]=0;for(u=0;u<n;u++)U[t[e+u]]++;for(h=l,g=Zt;g>=1&&U[g]===0;g--);if(h>g&&(h=g),g===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,s.bits=1,0;for(p=1;p<g&&U[p]===0;p++);for(h<p&&(h=p),C=1,f=1;f<=Zt;f++)if(C<<=1,C-=U[f],C<0)return-1;if(C>0&&(r===cf||g!==1))return-1;for(L[1]=0,f=1;f<Zt;f++)L[f+1]=L[f]+U[f];for(u=0;u<n;u++)t[e+u]!==0&&(a[L[t[e+u]]++]=u);if(r===cf?(N=fe=a,B=20):r===qi?(N=pd,fe=dd,B=257):(N=md,fe=gd,B=0),I=0,u=0,f=p,T=o,_=h,x=0,F=-1,A=1<<h,O=A-1,r===qi&&A>uf||r===hf&&A>lf)return 1;for(;;){Ne=f-x,a[u]+1<B?(Bt=0,Ot=a[u]):a[u]>=B?(Bt=fe[a[u]-B],Ot=N[a[u]-B]):(Bt=32+64,Ot=0),k=1<<f-x,S=1<<_,p=S;do S-=k,i[T+(I>>x)+S]=Ne<<24|Bt<<16|Ot|0;while(S!==0);for(k=1<<f-1;I&k;)k>>=1;if(k!==0?(I&=k-1,I+=k):I=0,u++,--U[f]===0){if(f===g)break;f=t[e+a[u]]}if(f>h&&(I&O)!==F){for(x===0&&(x=h),T+=p,_=f-x,C=1<<_;_+x<g&&(C-=U[_+x],!(C<=0));)_++,C<<=1;if(A+=1<<_,r===qi&&A>uf||r===hf&&A>lf)return 1;F=I&O,i[F]=h<<24|_<<16|T-o|0}}return I!==0&&(i[T+I]=f-x<<24|64<<16|0),s.bits=h,0},_r=bd,wd=0,fu=1,uu=2,{Z_FINISH:pf,Z_BLOCK:_d,Z_TREES:vn,Z_OK:Et,Z_STREAM_END:yd,Z_NEED_DICT:xd,Z_STREAM_ERROR:Ee,Z_DATA_ERROR:lu,Z_MEM_ERROR:cu,Z_BUF_ERROR:vd,Z_DEFLATED:df}=Gt,In=16180,mf=16181,gf=16182,bf=16183,wf=16184,_f=16185,yf=16186,xf=16187,vf=16188,Ef=16189,kn=16190,We=16191,ji=16192,Sf=16193,Gi=16194,Af=16195,Tf=16196,Cf=16197,kf=16198,En=16199,Sn=16200,Rf=16201,$f=16202,If=16203,Nf=16204,Ff=16205,Wi=16206,Bf=16207,Of=16208,W=16209,hu=16210,pu=16211,Ed=852,Sd=592,Ad=15,Td=Ad,Uf=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function Cd(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var St=r=>{if(!r)return 1;let t=r.state;return!t||t.strm!==r||t.mode<In||t.mode>pu?1:0},du=r=>{if(St(r))return Ee;let t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=In,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Ed),t.distcode=t.distdyn=new Int32Array(Sd),t.sane=1,t.back=-1,Et},mu=r=>{if(St(r))return Ee;let t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,du(r)},gu=(r,t)=>{let e;if(St(r))return Ee;let n=r.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?Ee:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,mu(r))},bu=(r,t)=>{if(!r)return Ee;let e=new Cd;r.state=e,e.strm=r,e.window=null,e.mode=In;let n=gu(r,t);return n!==Et&&(r.state=null),n},kd=r=>bu(r,Td),Pf=!0,Xi,Ki,Rd=r=>{if(Pf){Xi=new Int32Array(512),Ki=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(_r(fu,r.lens,0,288,Xi,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;_r(uu,r.lens,0,32,Ki,0,r.work,{bits:5}),Pf=!1}r.lencode=Xi,r.lenbits=9,r.distcode=Ki,r.distbits=5},wu=(r,t,e,n)=>{let i,o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(t.subarray(e-n,e-n+i),o.wnext),n-=i,n?(o.window.set(t.subarray(e-n,e),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},$d=(r,t)=>{let e,n,i,o,a,s,l,f,u,p,g,h,_,x,C=0,A,I,k,S,F,O,T,N,B=new Uint8Array(4),U,L,fe=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(St(r)||!r.output||!r.input&&r.avail_in!==0)return Ee;e=r.state,e.mode===We&&(e.mode=ji),a=r.next_out,i=r.output,l=r.avail_out,o=r.next_in,n=r.input,s=r.avail_in,f=e.hold,u=e.bits,p=s,g=l,N=Et;e:for(;;)switch(e.mode){case In:if(e.wrap===0){e.mode=ji;break}for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.wrap&2&&f===35615){e.wbits===0&&(e.wbits=15),e.check=0,B[0]=f&255,B[1]=f>>>8&255,e.check=te(e.check,B,2,0),f=0,u=0,e.mode=mf;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((f&255)<<8)+(f>>8))%31){r.msg="incorrect header check",e.mode=W;break}if((f&15)!==df){r.msg="unknown compression method",e.mode=W;break}if(f>>>=4,u-=4,T=(f&15)+8,e.wbits===0&&(e.wbits=T),T>15||T>e.wbits){r.msg="invalid window size",e.mode=W;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=f&512?Ef:We,f=0,u=0;break;case mf:for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.flags=f,(e.flags&255)!==df){r.msg="unknown compression method",e.mode=W;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=W;break}e.head&&(e.head.text=f>>8&1),e.flags&512&&e.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,e.check=te(e.check,B,2,0)),f=0,u=0,e.mode=gf;case gf:for(;u<32;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.head&&(e.head.time=f),e.flags&512&&e.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,B[2]=f>>>16&255,B[3]=f>>>24&255,e.check=te(e.check,B,4,0)),f=0,u=0,e.mode=bf;case bf:for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.head&&(e.head.xflags=f&255,e.head.os=f>>8),e.flags&512&&e.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,e.check=te(e.check,B,2,0)),f=0,u=0,e.mode=wf;case wf:if(e.flags&1024){for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.length=f,e.head&&(e.head.extra_len=f),e.flags&512&&e.wrap&4&&(B[0]=f&255,B[1]=f>>>8&255,e.check=te(e.check,B,2,0)),f=0,u=0}else e.head&&(e.head.extra=null);e.mode=_f;case _f:if(e.flags&1024&&(h=e.length,h>s&&(h=s),h&&(e.head&&(T=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(o,o+h),T)),e.flags&512&&e.wrap&4&&(e.check=te(e.check,n,h,o)),s-=h,o+=h,e.length-=h),e.length))break e;e.length=0,e.mode=yf;case yf:if(e.flags&2048){if(s===0)break e;h=0;do T=n[o+h++],e.head&&T&&e.length<65536&&(e.head.name+=String.fromCharCode(T));while(T&&h<s);if(e.flags&512&&e.wrap&4&&(e.check=te(e.check,n,h,o)),s-=h,o+=h,T)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=xf;case xf:if(e.flags&4096){if(s===0)break e;h=0;do T=n[o+h++],e.head&&T&&e.length<65536&&(e.head.comment+=String.fromCharCode(T));while(T&&h<s);if(e.flags&512&&e.wrap&4&&(e.check=te(e.check,n,h,o)),s-=h,o+=h,T)break e}else e.head&&(e.head.comment=null);e.mode=vf;case vf:if(e.flags&512){for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.wrap&4&&f!==(e.check&65535)){r.msg="header crc mismatch",e.mode=W;break}f=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=We;break;case Ef:for(;u<32;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}r.adler=e.check=Uf(f),f=0,u=0,e.mode=kn;case kn:if(e.havedict===0)return r.next_out=a,r.avail_out=l,r.next_in=o,r.avail_in=s,e.hold=f,e.bits=u,xd;r.adler=e.check=1,e.mode=We;case We:if(t===_d||t===vn)break e;case ji:if(e.last){f>>>=u&7,u-=u&7,e.mode=Wi;break}for(;u<3;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}switch(e.last=f&1,f>>>=1,u-=1,f&3){case 0:e.mode=Sf;break;case 1:if(Rd(e),e.mode=En,t===vn){f>>>=2,u-=2;break e}break;case 2:e.mode=Tf;break;case 3:r.msg="invalid block type",e.mode=W}f>>>=2,u-=2;break;case Sf:for(f>>>=u&7,u-=u&7;u<32;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if((f&65535)!==(f>>>16^65535)){r.msg="invalid stored block lengths",e.mode=W;break}if(e.length=f&65535,f=0,u=0,e.mode=Gi,t===vn)break e;case Gi:e.mode=Af;case Af:if(h=e.length,h){if(h>s&&(h=s),h>l&&(h=l),h===0)break e;i.set(n.subarray(o,o+h),a),s-=h,o+=h,l-=h,a+=h,e.length-=h;break}e.mode=We;break;case Tf:for(;u<14;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.nlen=(f&31)+257,f>>>=5,u-=5,e.ndist=(f&31)+1,f>>>=5,u-=5,e.ncode=(f&15)+4,f>>>=4,u-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=W;break}e.have=0,e.mode=Cf;case Cf:for(;e.have<e.ncode;){for(;u<3;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.lens[fe[e.have++]]=f&7,f>>>=3,u-=3}for(;e.have<19;)e.lens[fe[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,U={bits:e.lenbits},N=_r(wd,e.lens,0,19,e.lencode,0,e.work,U),e.lenbits=U.bits,N){r.msg="invalid code lengths set",e.mode=W;break}e.have=0,e.mode=kf;case kf:for(;e.have<e.nlen+e.ndist;){for(;C=e.lencode[f&(1<<e.lenbits)-1],A=C>>>24,I=C>>>16&255,k=C&65535,!(A<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(k<16)f>>>=A,u-=A,e.lens[e.have++]=k;else{if(k===16){for(L=A+2;u<L;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(f>>>=A,u-=A,e.have===0){r.msg="invalid bit length repeat",e.mode=W;break}T=e.lens[e.have-1],h=3+(f&3),f>>>=2,u-=2}else if(k===17){for(L=A+3;u<L;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}f>>>=A,u-=A,T=0,h=3+(f&7),f>>>=3,u-=3}else{for(L=A+7;u<L;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}f>>>=A,u-=A,T=0,h=11+(f&127),f>>>=7,u-=7}if(e.have+h>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=W;break}for(;h--;)e.lens[e.have++]=T}}if(e.mode===W)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=W;break}if(e.lenbits=9,U={bits:e.lenbits},N=_r(fu,e.lens,0,e.nlen,e.lencode,0,e.work,U),e.lenbits=U.bits,N){r.msg="invalid literal/lengths set",e.mode=W;break}if(e.distbits=6,e.distcode=e.distdyn,U={bits:e.distbits},N=_r(uu,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,U),e.distbits=U.bits,N){r.msg="invalid distances set",e.mode=W;break}if(e.mode=En,t===vn)break e;case En:e.mode=Sn;case Sn:if(s>=6&&l>=258){r.next_out=a,r.avail_out=l,r.next_in=o,r.avail_in=s,e.hold=f,e.bits=u,hd(r,g),a=r.next_out,i=r.output,l=r.avail_out,o=r.next_in,n=r.input,s=r.avail_in,f=e.hold,u=e.bits,e.mode===We&&(e.back=-1);break}for(e.back=0;C=e.lencode[f&(1<<e.lenbits)-1],A=C>>>24,I=C>>>16&255,k=C&65535,!(A<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(I&&(I&240)===0){for(S=A,F=I,O=k;C=e.lencode[O+((f&(1<<S+F)-1)>>S)],A=C>>>24,I=C>>>16&255,k=C&65535,!(S+A<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}f>>>=S,u-=S,e.back+=S}if(f>>>=A,u-=A,e.back+=A,e.length=k,I===0){e.mode=Ff;break}if(I&32){e.back=-1,e.mode=We;break}if(I&64){r.msg="invalid literal/length code",e.mode=W;break}e.extra=I&15,e.mode=Rf;case Rf:if(e.extra){for(L=e.extra;u<L;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.length+=f&(1<<e.extra)-1,f>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=$f;case $f:for(;C=e.distcode[f&(1<<e.distbits)-1],A=C>>>24,I=C>>>16&255,k=C&65535,!(A<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if((I&240)===0){for(S=A,F=I,O=k;C=e.distcode[O+((f&(1<<S+F)-1)>>S)],A=C>>>24,I=C>>>16&255,k=C&65535,!(S+A<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}f>>>=S,u-=S,e.back+=S}if(f>>>=A,u-=A,e.back+=A,I&64){r.msg="invalid distance code",e.mode=W;break}e.offset=k,e.extra=I&15,e.mode=If;case If:if(e.extra){for(L=e.extra;u<L;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.offset+=f&(1<<e.extra)-1,f>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=W;break}e.mode=Nf;case Nf:if(l===0)break e;if(h=g-l,e.offset>h){if(h=e.offset-h,h>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=W;break}h>e.wnext?(h-=e.wnext,_=e.wsize-h):_=e.wnext-h,h>e.length&&(h=e.length),x=e.window}else x=i,_=a-e.offset,h=e.length;h>l&&(h=l),l-=h,e.length-=h;do i[a++]=x[_++];while(--h);e.length===0&&(e.mode=Sn);break;case Ff:if(l===0)break e;i[a++]=e.length,l--,e.mode=Sn;break;case Wi:if(e.wrap){for(;u<32;){if(s===0)break e;s--,f|=n[o++]<<u,u+=8}if(g-=l,r.total_out+=g,e.total+=g,e.wrap&4&&g&&(r.adler=e.check=e.flags?te(e.check,i,g,a-g):Sr(e.check,i,g,a-g)),g=l,e.wrap&4&&(e.flags?f:Uf(f))!==e.check){r.msg="incorrect data check",e.mode=W;break}f=0,u=0}e.mode=Bf;case Bf:if(e.wrap&&e.flags){for(;u<32;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.wrap&4&&f!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=W;break}f=0,u=0}e.mode=Of;case Of:N=yd;break e;case W:N=lu;break e;case hu:return cu;case pu:default:return Ee}return r.next_out=a,r.avail_out=l,r.next_in=o,r.avail_in=s,e.hold=f,e.bits=u,(e.wsize||g!==r.avail_out&&e.mode<W&&(e.mode<Wi||t!==pf))&&wu(r,r.output,r.next_out,g-r.avail_out),p-=r.avail_in,g-=r.avail_out,r.total_in+=p,r.total_out+=g,e.total+=g,e.wrap&4&&g&&(r.adler=e.check=e.flags?te(e.check,i,g,r.next_out-g):Sr(e.check,i,g,r.next_out-g)),r.data_type=e.bits+(e.last?64:0)+(e.mode===We?128:0)+(e.mode===En||e.mode===Gi?256:0),(p===0&&g===0||t===pf)&&N===Et&&(N=vd),N},Id=r=>{if(St(r))return Ee;let t=r.state;return t.window&&(t.window=null),r.state=null,Et},Nd=(r,t)=>{if(St(r))return Ee;let e=r.state;return(e.wrap&2)===0?Ee:(e.head=t,t.done=!1,Et)},Fd=(r,t)=>{let e=t.length,n,i,o;return St(r)||(n=r.state,n.wrap!==0&&n.mode!==kn)?Ee:n.mode===kn&&(i=1,i=Sr(i,t,e,0),i!==n.check)?lu:(o=wu(r,t,e,e),o?(n.mode=hu,cu):(n.havedict=1,Et))},Bd=mu,Od=gu,Ud=du,Pd=kd,Dd=bu,zd=$d,Ld=Id,Md=Nd,Vd=Fd,Zd="pako inflate (from Nodeca project)",Ke={inflateReset:Bd,inflateReset2:Od,inflateResetKeep:Ud,inflateInit:Pd,inflateInit2:Dd,inflate:zd,inflateEnd:Ld,inflateGetHeader:Md,inflateSetDictionary:Vd,inflateInfo:Zd};function Yd(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Hd=Yd,_u=Object.prototype.toString,{Z_NO_FLUSH:qd,Z_FINISH:jd,Z_OK:Cr,Z_STREAM_END:Ji,Z_NEED_DICT:Qi,Z_STREAM_ERROR:Gd,Z_DATA_ERROR:Df,Z_MEM_ERROR:Wd}=Gt;function Ir(r){this.options=$n.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new au,this.strm.avail_out=0;let e=Ke.inflateInit2(this.strm,t.windowBits);if(e!==Cr)throw new Error(xt[e]);if(this.header=new Hd,Ke.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Tr.string2buf(t.dictionary):_u.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=Ke.inflateSetDictionary(this.strm,t.dictionary),e!==Cr)))throw new Error(xt[e])}Ir.prototype.push=function(r,t){let e=this.strm,n=this.options.chunkSize,i=this.options.dictionary,o,a,s;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?jd:qd,_u.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),o=Ke.inflate(e,a),o===Qi&&i&&(o=Ke.inflateSetDictionary(e,i),o===Cr?o=Ke.inflate(e,a):o===Df&&(o=Qi));e.avail_in>0&&o===Ji&&e.state.wrap>0&&r[e.next_in]!==0;)Ke.inflateReset(e),o=Ke.inflate(e,a);switch(o){case Gd:case Df:case Qi:case Wd:return this.onEnd(o),this.ended=!0,!1}if(s=e.avail_out,e.next_out&&(e.avail_out===0||o===Ji))if(this.options.to==="string"){let l=Tr.utf8border(e.output,e.next_out),f=e.next_out-l,u=Tr.buf2string(e.output,l);e.next_out=f,e.avail_out=n-f,f&&e.output.set(e.output.subarray(l,l+f),0),this.onData(u)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===Cr&&s===0)){if(o===Ji)return o=Ke.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};Ir.prototype.onData=function(r){this.chunks.push(r)};Ir.prototype.onEnd=function(r){r===Cr&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=$n.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function go(r,t){let e=new Ir(t);if(e.push(r),e.err)throw e.msg||xt[e.err];return e.result}function Xd(r,t){return t=t||{},t.raw=!0,go(r,t)}var Kd=Ir,Jd=go,Qd=Xd,em=go,tm=Gt,rm={Inflate:Kd,inflate:Jd,inflateRaw:Qd,ungzip:em,constants:tm},{Deflate:O1,deflate:U1,deflateRaw:P1,gzip:D1}=ld,{Inflate:z1,inflate:L1,inflateRaw:nm,ungzip:M1}=rm;var yu=nm;function xu(r){return yu(r.subarray(2))}d();m();var bo=class extends Error{constructor(t){super(t),this.code="ERR_ABORTED"}};function vu(r){r.sort((i,o)=>Number(i.offset)-Number(o.offset));let t=[],e,n;for(let i of r)e&&n&&Number(i.offset)-n<=2e3?(e.length=BigInt(Number(e.length)+Number(i.length)-n+Number(i.offset)),e.blocks.push(i)):t.push(e={blocks:[i],length:i.length,offset:i.offset}),n=Number(e.offset)+Number(e.length);return t}function Nr(r){if(!!r&&r.aborted)if(typeof DOMException=="undefined"){let t=new bo("aborted");throw t.code="ERR_ABORTED",t}else throw new DOMException("aborted","AbortError")}var im=1,om=2,am=3;function wo(r,t,e,n){return r<n&&t>=e}function sm(r){let t=r?"big":"little",e=new M().endianess(t).uint32("chromId").uint32("start").uint32("end").uint32("validCnt").floatle("minScore").floatle("maxScore").floatle("sumData").floatle("sumSqData").saveOffset("offset"),n=new M().endianess(t).uint8("isLeaf").skip(1).uint16("cnt").choice({tag:"isLeaf",choices:{1:new M().endianess(t).array("blocksToFetch",{length:"cnt",type:new M().endianess(t).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").uint64("blockSize").saveOffset("offset")}),0:new M().array("recurOffsets",{length:"cnt",type:new M().endianess(t).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").saveOffset("offset")})}}),i=new M().endianess(t).uint32("chromId").int32("start").int32("end").string("rest",{zeroTerminated:!0}).saveOffset("offset");return{bigWigParser:new M().endianess(t).skip(4).int32("blockStart").skip(4).uint32("itemStep").uint32("itemSpan").uint8("blockType").skip(1).uint16("itemCount").choice({tag:"blockType",choices:{[am]:new M().array("items",{length:"itemCount",type:new M().floatle("score")}),[om]:new M().array("items",{length:"itemCount",type:new M().endianess(t).int32("start").floatle("score")}),[im]:new M().array("items",{length:"itemCount",type:new M().endianess(t).int32("start").int32("end").floatle("score")})}}),bigBedParser:i,summaryParser:e,leafParser:n}}var Fr=class{constructor(t,e,n,i,o,a){if(this.bbi=t,this.refsByName=e,this.cirTreeOffset=n,this.isBigEndian=i,this.isCompressed=o,this.blockType=a,this.featureCache=new Eu.default({cache:new Su.default({maxSize:1e3}),fill:async(l,f)=>{let u=Number(l.length),p=Number(l.offset),{buffer:g}=await this.bbi.read(E.alloc(u),0,u,p,{signal:f});return g}}),!(n>=0))throw new Error("invalid cirTreeOffset!");let s=sm(i);this.leafParser=s.leafParser,this.bigBedParser=s.bigBedParser}async readWigData(t,e,n,i,o){try{let{refsByName:a,bbi:s,cirTreeOffset:l,isBigEndian:f}=this,u=a[t];u===void 0&&i.complete();let p={chrId:u,start:e,end:n};this.cirTreePromise||(this.cirTreePromise=s.read(E.alloc(48),0,48,Number(l),o));let{buffer:g}=await this.cirTreePromise,h=f?g.readUInt32BE(4):g.readUInt32LE(4),_=[],x=0,C=(S,F,O)=>{try{let T=S.subarray(F),N=this.leafParser.parse(T);if(N.blocksToFetch&&(_=_.concat(N.blocksToFetch.filter(B=>A(B)).map(B=>({offset:B.blockOffset,length:B.blockSize})))),N.recurOffsets){let B=N.recurOffsets.filter(U=>A(U)).map(U=>Number(U.blockOffset));B.length>0&&k(B,O+1)}}catch(T){i.error(T)}},A=S=>{let{startChrom:F,startBase:O,endChrom:T,endBase:N}=S;return(F<u||F===u&&O<=n)&&(T>u||T===u&&N>=e)},I=async(S,F,O)=>{try{let T=F.max-F.min,N=F.min,B=await this.featureCache.get(`${T}_${N}`,{length:T,offset:N},o==null?void 0:o.signal);for(let U of S)F.contains(U)&&(C(B,U-N,O),x-=1,x===0&&this.readFeatures(i,_,{...o,request:p}).catch(L=>i.error(L)))}catch(T){i.error(T)}},k=(S,F)=>{try{x+=S.length;let O=4+Number(h)*32,T=new De([{min:S[0],max:S[0]+O}]);for(let N=1;N<S.length;N+=1){let B=new De([{min:S[N],max:S[N]+O}]);T=T.union(B)}T.getRanges().map(N=>I(S,N,F))}catch(O){i.error(O)}};return k([Number(l)+48],1)}catch(a){i.error(a)}}parseSummaryBlock(t,e,n){let i=[],o=e,a=new DataView(t.buffer,t.byteOffset,t.length);for(;o<t.byteLength;){let s=a.getUint32(o,!0);o+=4;let l=a.getUint32(o,!0);o+=4;let f=a.getUint32(o,!0);o+=4;let u=a.getUint32(o,!0);o+=4;let p=a.getFloat32(o,!0);o+=4;let g=a.getFloat32(o,!0);o+=4;let h=a.getFloat32(o,!0);o+=4,o+=4,(!n||s===n.chrId&&wo(l,f,n.start,n.end))&&i.push({start:l,end:f,maxScore:g,minScore:p,summary:!0,score:h/(u||1)})}return i}parseBigBedBlock(t,e,n,i){let o=[],a=e;for(;a<t.byteLength;){let s=this.bigBedParser.parse(t.subarray(a));s.uniqueId=`bb-${n+a}`,o.push(s),a+=s.offset}return i?o.filter(s=>wo(s.start,s.end,i.start,i.end)):o}parseBigWigBlock(t,e,n){let i=t.subarray(e),o=new DataView(i.buffer,i.byteOffset,i.length),a=0;a+=4;let s=o.getInt32(a,!0);a+=8;let l=o.getUint32(a,!0);a+=4;let f=o.getUint32(a,!0);a+=4;let u=o.getUint8(a);a+=2;let p=o.getUint16(a,!0);a+=2;let g=new Array(p);switch(u){case 1:{for(let h=0;h<p;h++){let _=o.getInt32(a,!0);a+=4;let x=o.getInt32(a,!0);a+=4;let C=o.getFloat32(a,!0);a+=4,g[h]={start:_,end:x,score:C}}break}case 2:{for(let h=0;h<p;h++){let _=o.getInt32(a,!0);a+=4;let x=o.getFloat32(a,!0);a+=4,g[h]={score:x,start:_,end:_+f}}break}case 3:{for(let h=0;h<p;h++){let _=o.getFloat32(a,!0);a+=4;let x=s+h*l;g[h]={score:_,start:x,end:x+f}}break}}return n?g.filter(h=>wo(h.start,h.end,n.start,n.end)):g}async readFeatures(t,e,n={}){try{let{blockType:i,isCompressed:o}=this,{signal:a,request:s}=n,l=vu(e);Nr(a),await Promise.all(l.map(async f=>{Nr(a);let{length:u,offset:p}=f,g=await this.featureCache.get(`${u}_${p}`,f,a);for(let h of f.blocks){Nr(a);let _=Number(h.offset)-Number(f.offset),x=g;switch(o&&(x=xu(g.subarray(_)),_=0),Nr(a),i){case"summary":{t.next(this.parseSummaryBlock(x,_,s));break}case"bigwig":{t.next(this.parseBigWigBlock(x,_,s));break}case"bigbed":{t.next(this.parseBigBedBlock(x,_,Number(h.offset)*(1<<8),s));break}default:console.warn(`Don't know what to do with ${i}`)}}})),t.complete()}catch(i){t.error(i)}}};d();m();d();m();var fm=ke(_o());d();m();function Au(r){return(typeof r=="object"&&r!==null&&"message"in r?r.message:`${r}`).replace(/\.$/,"")}var At=class{async getBufferFromResponse(t){let e=await t.arrayBuffer();return E.from(e)}constructor(t,e={}){this.baseOverrides={},this.url=t;let n=e.fetch||globalThis.fetch.bind(globalThis);if(!n)throw new TypeError("no fetch function supplied, and none found in global environment");e.overrides&&(this.baseOverrides=e.overrides),this.fetchImplementation=n}async fetch(t,e){let n;try{n=await this.fetchImplementation(t,e)}catch(i){if(`${i}`.includes("Failed to fetch")){console.warn(`generic-filehandle: refetching ${t} to attempt to work around chrome CORS header caching bug`);try{n=await this.fetchImplementation(t,{...e,cache:"reload"})}catch(o){throw new Error(`${Au(o)} fetching ${t}`,{cause:o})}}else throw new Error(`${Au(i)} fetching ${t}`,{cause:i})}return n}async read(t,e=0,n,i=0,o={}){let{headers:a={},signal:s,overrides:l={}}=o;n<1/0?a.range=`bytes=${i}-${i+n}`:n===1/0&&i!==0&&(a.range=`bytes=${i}-`);let f=await this.fetch(this.url,{...this.baseOverrides,...l,headers:{...a,...l.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:s});if(!f.ok)throw new Error(`HTTP ${f.status} fetching ${this.url}`);if(f.status===200&&i===0||f.status===206){let u=await this.getBufferFromResponse(f),p=u.copy(t,e,0,Math.min(n,u.length)),g=f.headers.get("content-range"),h=/\/(\d+)$/.exec(g||"");return h!=null&&h[1]&&(this._stat={size:parseInt(h[1],10)}),{bytesRead:p,buffer:t}}throw f.status===200?new Error(`${this.url} fetch returned status 200, expected 206`):new Error(`HTTP ${f.status} fetching ${this.url}`)}async readFile(t={}){let e,n;typeof t=="string"?(e=t,n={}):(e=t.encoding,n=t,delete n.encoding);let{headers:i={},signal:o,overrides:a={}}=n,s=await this.fetch(this.url,{headers:i,method:"GET",redirect:"follow",mode:"cors",signal:o,...this.baseOverrides,...a});if(s.status!==200)throw new Error(`HTTP ${s.status} fetching ${this.url}`);if(e==="utf8")return s.text();if(e)throw new Error(`unsupported encoding: ${e}`);return this.getBufferFromResponse(s)}async stat(){if(!this._stat){let t=E.allocUnsafe(10);if(await this.read(t,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}};d();m();d();m();var yo=ke(_o());d();m();d();m();d();m();d();m();var xo=function(r,t){return xo=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},xo(r,t)};function Br(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");xo(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function Tu(r,t,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{f(n.next(u))}catch(p){a(p)}}function l(u){try{f(n.throw(u))}catch(p){a(p)}}function f(u){u.done?o(u.value):i(u.value).then(s,l)}f((n=n.apply(r,t||[])).next())})}function Nn(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a;return a={next:s(0),throw:s(1),return:s(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(e=0)),e;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,i=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){e.label=f[1];break}if(f[0]===6&&e.label<o[1]){e.label=o[1],o=f;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(f);break}o[2]&&e.ops.pop(),e.trys.pop();continue}f=t.call(r,e)}catch(u){f=[6,u],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function Tt(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Kt(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function Jt(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}function Ct(r){return this instanceof Ct?(this.v=r,this):new Ct(r)}function Cu(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(r,t||[]),i,o=[];return i={},s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(h){return function(_){return Promise.resolve(_).then(h,p)}}function s(h,_){n[h]&&(i[h]=function(x){return new Promise(function(C,A){o.push([h,x,C,A])>1||l(h,x)})},_&&(i[h]=_(i[h])))}function l(h,_){try{f(n[h](_))}catch(x){g(o[0][3],x)}}function f(h){h.value instanceof Ct?Promise.resolve(h.value.v).then(u,p):g(o[0][2],h)}function u(h){l("next",h)}function p(h){l("throw",h)}function g(h,_){h(_),o.shift(),o.length&&l(o[0][0],o[0][1])}}function ku(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r[Symbol.asyncIterator],e;return t?t.call(r):(r=typeof Tt=="function"?Tt(r):r[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=r[o]&&function(a){return new Promise(function(s,l){a=r[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(f){o({value:f,done:s})},a)}}d();m();function Y(r){return typeof r=="function"}d();m();d();m();d();m();function Fn(r){var t=function(n){Error.call(n),n.stack=new Error().stack},e=r(t);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var Bn=Fn(function(r){return function(e){r(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});d();m();function vo(r,t){if(r){var e=r.indexOf(t);0<=e&&r.splice(e,1)}}var On=function(){function r(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var t,e,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=Tt(a),l=s.next();!l.done;l=s.next()){var f=l.value;f.remove(this)}}catch(x){t={error:x}}finally{try{l&&!l.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else a.remove(this);var u=this.initialTeardown;if(Y(u))try{u()}catch(x){o=x instanceof Bn?x.errors:[x]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var g=Tt(p),h=g.next();!h.done;h=g.next()){var _=h.value;try{Ru(_)}catch(x){o=o!=null?o:[],x instanceof Bn?o=Jt(Jt([],Kt(o)),Kt(x.errors)):o.push(x)}}}catch(x){n={error:x}}finally{try{h&&!h.done&&(i=g.return)&&i.call(g)}finally{if(n)throw n.error}}}if(o)throw new Bn(o)}},r.prototype.add=function(t){var e;if(t&&t!==this)if(this.closed)Ru(t);else{if(t instanceof r){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}},r.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},r.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},r.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&vo(e,t)},r.prototype.remove=function(t){var e=this._finalizers;e&&vo(e,t),t instanceof r&&t._removeParent(this)},r.EMPTY=function(){var t=new r;return t.closed=!0,t}(),r}();var yb=On.EMPTY;function Un(r){return r instanceof On||r&&"closed"in r&&Y(r.remove)&&Y(r.add)&&Y(r.unsubscribe)}function Ru(r){Y(r)?r():r.unsubscribe()}d();m();var Ie={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};d();m();d();m();var Qt={setTimeout:function(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=Qt.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,Jt([r,t],Kt(e))):setTimeout.apply(void 0,Jt([r,t],Kt(e)))},clearTimeout:function(r){var t=Qt.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(r)},delegate:void 0};function Pn(r){Qt.setTimeout(function(){var t=Ie.onUnhandledError;if(t)t(r);else throw r})}d();m();function Eo(){}d();m();var $u=function(){return So("C",void 0,void 0)}();function Iu(r){return So("E",void 0,r)}function Nu(r){return So("N",r,void 0)}function So(r,t,e){return{kind:r,value:t,error:e}}d();m();var kt=null;function Fu(r){if(Ie.useDeprecatedSynchronousErrorHandling){var t=!kt;if(t&&(kt={errorThrown:!1,error:null}),r(),t){var e=kt,n=e.errorThrown,i=e.error;if(kt=null,n)throw i}}else r()}function Bu(r){Ie.useDeprecatedSynchronousErrorHandling&&kt&&(kt.errorThrown=!0,kt.error=r)}var Or=function(r){Br(t,r);function t(e){var n=r.call(this)||this;return n.isStopped=!1,e?(n.destination=e,Un(e)&&e.add(n)):n.destination=hm,n}return t.create=function(e,n,i){return new er(e,n,i)},t.prototype.next=function(e){this.isStopped?To(Nu(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?To(Iu(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?To($u,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(On);var um=Function.prototype.bind;function Ao(r,t){return um.call(r,t)}var lm=function(){function r(t){this.partialObserver=t}return r.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(n){Dn(n)}},r.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(n){Dn(n)}else Dn(t)},r.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(e){Dn(e)}},r}(),er=function(r){Br(t,r);function t(e,n,i){var o=r.call(this)||this,a;if(Y(e)||!e)a={next:e!=null?e:void 0,error:n!=null?n:void 0,complete:i!=null?i:void 0};else{var s;o&&Ie.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=function(){return o.unsubscribe()},a={next:e.next&&Ao(e.next,s),error:e.error&&Ao(e.error,s),complete:e.complete&&Ao(e.complete,s)}):a=e}return o.destination=new lm(a),o}return t}(Or);function Dn(r){Ie.useDeprecatedSynchronousErrorHandling?Bu(r):Pn(r)}function cm(r){throw r}function To(r,t){var e=Ie.onStoppedNotification;e&&Qt.setTimeout(function(){return e(r,t)})}var hm={closed:!0,next:Eo,error:cm,complete:Eo};d();m();var tr=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();d();m();d();m();function zn(r){return r}function Ou(r){return r.length===0?zn:r.length===1?r[0]:function(e){return r.reduce(function(n,i){return i(n)},e)}}var K=function(){function r(t){t&&(this._subscribe=t)}return r.prototype.lift=function(t){var e=new r;return e.source=this,e.operator=t,e},r.prototype.subscribe=function(t,e,n){var i=this,o=dm(t)?t:new er(t,e,n);return Fu(function(){var a=i,s=a.operator,l=a.source;o.add(s?s.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},r.prototype.forEach=function(t,e){var n=this;return e=Uu(e),new e(function(i,o){var a=new er({next:function(s){try{t(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});n.subscribe(a)})},r.prototype._subscribe=function(t){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(t)},r.prototype[tr]=function(){return this},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ou(t)(this)},r.prototype.toPromise=function(t){var e=this;return t=Uu(t),new t(function(n,i){var o;e.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},r.create=function(t){return new r(t)},r}();function Uu(r){var t;return(t=r!=null?r:Ie.Promise)!==null&&t!==void 0?t:Promise}function pm(r){return r&&Y(r.next)&&Y(r.error)&&Y(r.complete)}function dm(r){return r&&r instanceof Or||pm(r)&&Un(r)}d();m();function mm(r){return Y(r==null?void 0:r.lift)}function Se(r){return function(t){if(mm(t))return t.lift(function(e){try{return r(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}d();m();function Je(r,t,e,n,i){return new gm(r,t,e,n,i)}var gm=function(r){Br(t,r);function t(e,n,i,o,a,s){var l=r.call(this,e)||this;return l.onFinalize=a,l.shouldUnsubscribe=s,l._next=n?function(f){try{n(f)}catch(u){e.error(u)}}:r.prototype._next,l._error=o?function(f){try{o(f)}catch(u){e.error(u)}finally{this.unsubscribe()}}:r.prototype._error,l._complete=i?function(){try{i()}catch(f){e.error(f)}finally{this.unsubscribe()}}:r.prototype._complete,l}return t.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;r.prototype.unsubscribe.call(this),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},t}(Or);d();m();var Pu=new K(function(r){return r.complete()});d();m();d();m();function Du(r){return r&&Y(r.schedule)}function zu(r){return r[r.length-1]}function Lu(r){return Du(zu(r))?r.pop():void 0}function Mu(r,t){return typeof zu(r)=="number"?r.pop():t}d();m();d();m();d();m();d();m();d();m();var Ln=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};d();m();function Mn(r){return Y(r==null?void 0:r.then)}d();m();function Vn(r){return Y(r[tr])}d();m();function Zn(r){return Symbol.asyncIterator&&Y(r==null?void 0:r[Symbol.asyncIterator])}d();m();function Yn(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}d();m();d();m();function bm(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Hn=bm();function qn(r){return Y(r==null?void 0:r[Hn])}d();m();function jn(r){return Cu(this,arguments,function(){var e,n,i,o;return Nn(this,function(a){switch(a.label){case 0:e=r.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,Ct(e.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,Ct(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,Ct(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function Gn(r){return Y(r==null?void 0:r.getReader)}function Ae(r){if(r instanceof K)return r;if(r!=null){if(Vn(r))return wm(r);if(Ln(r))return _m(r);if(Mn(r))return ym(r);if(Zn(r))return Vu(r);if(qn(r))return xm(r);if(Gn(r))return vm(r)}throw Yn(r)}function wm(r){return new K(function(t){var e=r[tr]();if(Y(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function _m(r){return new K(function(t){for(var e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()})}function ym(r){return new K(function(t){r.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,Pn)})}function xm(r){return new K(function(t){var e,n;try{for(var i=Tt(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}t.complete()})}function Vu(r){return new K(function(t){Em(r,t).catch(function(e){return t.error(e)})})}function vm(r){return Vu(jn(r))}function Em(r,t){var e,n,i,o;return Tu(this,void 0,void 0,function(){var a,s;return Nn(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),e=ku(r),l.label=1;case 1:return[4,e.next()];case 2:if(n=l.sent(),!!n.done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(o=e.return)?[4,o.call(e)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}d();m();d();m();function Te(r,t,e,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=t.schedule(function(){e(),i?r.add(this.schedule(null,n)):this.unsubscribe()},n);if(r.add(o),!i)return o}function Wn(r,t){return t===void 0&&(t=0),Se(function(e,n){e.subscribe(Je(n,function(i){return Te(n,r,function(){return n.next(i)},t)},function(){return Te(n,r,function(){return n.complete()},t)},function(i){return Te(n,r,function(){return n.error(i)},t)}))})}d();m();function Xn(r,t){return t===void 0&&(t=0),Se(function(e,n){n.add(r.schedule(function(){return e.subscribe(n)},t))})}function Zu(r,t){return Ae(r).pipe(Xn(t),Wn(t))}d();m();function Yu(r,t){return Ae(r).pipe(Xn(t),Wn(t))}d();m();function Hu(r,t){return new K(function(e){var n=0;return t.schedule(function(){n===r.length?e.complete():(e.next(r[n++]),e.closed||this.schedule())})})}d();m();function qu(r,t){return new K(function(e){var n;return Te(e,t,function(){n=r[Hn](),Te(e,t,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(s){e.error(s);return}a?e.complete():e.next(o)},0,!0)}),function(){return Y(n==null?void 0:n.return)&&n.return()}})}d();m();function Kn(r,t){if(!r)throw new Error("Iterable cannot be null");return new K(function(e){Te(e,t,function(){var n=r[Symbol.asyncIterator]();Te(e,t,function(){n.next().then(function(i){i.done?e.complete():e.next(i.value)})},0,!0)})})}d();m();function ju(r,t){return Kn(jn(r),t)}function Gu(r,t){if(r!=null){if(Vn(r))return Zu(r,t);if(Ln(r))return Hu(r,t);if(Mn(r))return Yu(r,t);if(Zn(r))return Kn(r,t);if(qn(r))return qu(r,t);if(Gn(r))return ju(r,t)}throw Yn(r)}function Wu(r,t){return t?Gu(r,t):Ae(r)}d();m();var Xu=Fn(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});d();m();function Ur(r,t){var e=typeof t=="object";return new Promise(function(n,i){var o=new er({next:function(a){n(a),o.unsubscribe()},error:i,complete:function(){e?n(t.defaultValue):i(new Xu)}});r.subscribe(o)})}d();m();function Pr(r,t){return Se(function(e,n){var i=0;e.subscribe(Je(n,function(o){n.next(r.call(t,o,i++))}))})}d();m();d();m();d();m();function Ku(r,t,e,n,i,o,a,s){var l=[],f=0,u=0,p=!1,g=function(){p&&!l.length&&!f&&t.complete()},h=function(x){return f<n?_(x):l.push(x)},_=function(x){o&&t.next(x),f++;var C=!1;Ae(e(x,u++)).subscribe(Je(t,function(A){i==null||i(A),o?h(A):t.next(A)},function(){C=!0},void 0,function(){if(C)try{f--;for(var A=function(){var I=l.shift();a?Te(t,a,function(){return _(I)}):_(I)};l.length&&f<n;)A();g()}catch(I){t.error(I)}}))};return r.subscribe(Je(t,h,function(){p=!0,g()})),function(){s==null||s()}}function Co(r,t,e){return e===void 0&&(e=1/0),Y(t)?Co(function(n,i){return Pr(function(o,a){return t(n,o,i,a)})(Ae(r(n,i)))},e):(typeof t=="number"&&(e=t),Se(function(n,i){return Ku(n,i,r,e)}))}function Ju(r){return r===void 0&&(r=1/0),Co(zn,r)}d();m();function ko(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=Lu(r),n=Mu(r,1/0),i=r;return i.length?i.length===1?Ae(i[0]):Ju(n)(Wu(i,e)):Pu}d();m();d();m();d();m();function Qu(r,t,e,n,i){return function(o,a){var s=e,l=t,f=0;o.subscribe(Je(a,function(u){var p=f++;l=s?r(l,u,p):(s=!0,u),n&&a.next(l)},i&&function(){s&&a.next(l),a.complete()}))}}function Dr(r,t){return Se(Qu(r,t,arguments.length>=2,!1,!0))}var Sm=function(r,t){return r.push(t),r};function Ro(){return Se(function(r,t){Dr(Sm,[])(r).subscribe(t)})}d();m();var el=-2003829722,$o=-2021002517;function Am(r){return new TextDecoder().decode(r)}function tl(r){let t=r?"big":"little",e=new M().endianess(t).int32("magic").uint16("version").uint16("numZoomLevels").uint64("chromTreeOffset").uint64("unzoomedDataOffset").uint64("unzoomedIndexOffset").uint16("fieldCount").uint16("definedFieldCount").uint64("asOffset").uint64("totalSummaryOffset").uint32("uncompressBufSize").uint64("extHeaderOffset").array("zoomLevels",{length:"numZoomLevels",type:new M().endianess(t).uint32("reductionLevel").uint32("reserved").uint64("dataOffset").uint64("indexOffset")}),n=new M().endianess(t).uint64("basesCovered").doublele("scoreMin").doublele("scoreMax").doublele("scoreSum").doublele("scoreSumSquares"),i=new M().endianess(t).uint32("magic").uint32("blockSize").uint32("keySize").uint32("valSize").uint64("itemCount"),o=new M().endianess(t).uint8("isLeafNode").skip(1).uint16("cnt").saveOffset("offset");return{chromTreeParser:i,totalSummaryParser:n,headerParser:e,isLeafNode:o}}var zr=class{getHeader(t){return this.headerP||(this.headerP=this._getHeader(t).catch(e=>{throw this.headerP=void 0,e})),this.headerP}constructor(t){let{filehandle:e,renameRefSeqs:n=a=>a,path:i,url:o}=t;if(this.renameRefSeqs=n,e)this.bbi=e;else if(o)this.bbi=new At(o);else if(i)this.bbi=new yo.default(i);else throw new Error("no file given")}async _getHeader(t){let e=await this._getMainHeader(t),n=await this._readChromTree(e,t);return{...e,...n}}async _getMainHeader(t,e=2e3){let{buffer:n}=await this.bbi.read(E.alloc(e),0,e,0,t),i=this._isBigEndian(n),o=tl(i),a=o.headerParser.parse(n),{magic:s,asOffset:l,totalSummaryOffset:f}=a;if(a.fileType=s===$o?"bigbed":"bigwig",l>e||f>e)return this._getMainHeader(t,e*2);if(l){let u=Number(a.asOffset);a.autoSql=Am(n.subarray(u,n.indexOf(0,u)))}if(a.totalSummaryOffset>e-8*5)return this._getMainHeader(t,e*2);if(a.totalSummaryOffset){let u=n.subarray(Number(a.totalSummaryOffset)),p=o.totalSummaryParser.parse(u);a.totalSummary={...p,basesCovered:Number(p.basesCovered)}}return{...a,isBigEndian:i}}_isBigEndian(t){let e=t.readInt32LE(0);if(e===el||e===$o)return!1;if(e=t.readInt32BE(0),e===el||e===$o)return!0;throw new Error("not a BigWig/BigBed file")}async _readChromTree(t,e){let n=t.isBigEndian,i=n?"big":"little",o=[],a={},s=Number(t.unzoomedDataOffset),l=Number(t.chromTreeOffset);for(;s%4!==0;)s+=1;let f=s-l,{buffer:u}=await this.bbi.read(E.alloc(f),0,f,Number(l),e),p=tl(n),{keySize:g}=p.chromTreeParser.parse(u),h=new M().endianess(i).string("key",{stripNull:!0,length:g}).uint32("refId").uint32("refSize").saveOffset("offset"),_=new M().endianess(i).skip(g).uint64("childOffset").saveOffset("offset"),x=32,C=async A=>{let I=A;if(I>=u.length)throw new Error("reading beyond end of buffer");let k=p.isLeafNode.parse(u.subarray(I)),{isLeafNode:S,cnt:F}=k;if(I+=k.offset,S)for(let O=0;O<F;O+=1){let T=h.parse(u.subarray(I));I+=T.offset;let{key:N,refId:B,refSize:U}=T,L={name:N,id:B,length:U};a[this.renameRefSeqs(N)]=B,o[B]=L}else{let O=[];for(let T=0;T<F;T+=1){let N=_.parse(u.subarray(I)),{childOffset:B}=N;I+=N.offset,O.push(C(Number(B)-Number(l)))}await Promise.all(O)}};return await C(x),{refsByName:a,refsByNumber:o}}async getUnzoomedView(t){let{unzoomedIndexOffset:e,refsByName:n,uncompressBufSize:i,isBigEndian:o,fileType:a}=await this.getHeader(t);return new Fr(this.bbi,n,e,o,i>0,a)}async getFeatureStream(t,e,n,i){await this.getHeader(i);let o=this.renameRefSeqs(t),a,{basesPerSpan:s,scale:l}=i||{};return s?a=await this.getView(1/s,i):l?a=await this.getView(l,i):a=await this.getView(1,i),new K(f=>{a.readWigData(o,e,n,f,i).catch(u=>f.error(u))})}async getFeatures(t,e,n,i){let o=await this.getFeatureStream(t,e,n,i);return(await Ur(o.pipe(Ro()))).flat()}};d();m();var rl=ke(Pi()),nl=ke(zi());function Tm(r){return r.filter(t=>!!t)}var Lr=class extends zr{constructor(){super(...arguments),this.readIndicesCache=new rl.default({cache:new nl.default({maxSize:1}),fill:(t,e)=>this._readIndices({...t,signal:e})})}readIndices(t={}){let{signal:e,...n}=t;return this.readIndicesCache.get(JSON.stringify(n),t,e)}async getView(t,e){return this.getUnzoomedView(e)}async _readIndices(t){let{extHeaderOffset:e,isBigEndian:n}=await this.getHeader(t),{buffer:i}=await this.bbi.read(E.alloc(64),0,64,Number(e)),o=n?"big":"little",a=new M().endianess(o).uint16("size").uint16("count").uint64("offset").parse(i),{count:s,offset:l}=a;if(s===0)return[];let f=20,u=f*s,{buffer:p}=await this.bbi.read(E.alloc(u),0,u,Number(l)),g=new M().endianess(o).int16("type").int16("fieldcount").uint64("offset").skip(4).int16("field"),h=[];for(let _=0;_<s;_+=1)h.push(g.parse(p.subarray(_*f)));return h}async searchExtraIndexBlocks(t,e={}){let{isBigEndian:n}=await this.getHeader(e),i=await this.readIndices(e);if(i.length===0)return[];let o=i.map(async a=>{let{offset:s,field:l}=a,{buffer:f}=await this.bbi.read(E.alloc(32),0,32,Number(s),e),u=n?"big":"little",p=new M().endianess(u).int32("magic").int32("blockSize").int32("keySize").int32("valSize").uint64("itemCount"),{blockSize:g,keySize:h,valSize:_}=p.parse(f),x=new M().endianess(u).int8("nodeType").skip(1).int16("cnt").choice({tag:"nodeType",choices:{0:new M().array("leafkeys",{length:"cnt",type:new M().endianess(u).string("key",{length:h,stripNull:!0}).uint64("offset")}),1:new M().array("keys",{length:"cnt",type:new M().endianess(u).string("key",{length:h,stripNull:!0}).uint64("offset").uint32("length").uint32("reserved")})}}),C=async I=>{let k=Number(I),S=4+g*(h+_),{buffer:F}=await this.bbi.read(E.alloc(S),0,S,k,e),O=x.parse(F);if(O.leafkeys){let T;for(let{key:N,offset:B}of O.leafkeys){if(t.localeCompare(N)<0&&T)return C(T);T=B}return C(T)}for(let T of O.keys)if(T.key===t)return{...T,field:l}},A=32;return C(Number(s)+A)});return Tm(await Promise.all(o))}async searchExtraIndex(t,e={}){let n=await this.searchExtraIndexBlocks(t,e);if(n.length===0)return[];let i=await this.getUnzoomedView(e),o=n.map(s=>new K(l=>{i.readFeatures(l,[s],e).catch(f=>l.error(f))}).pipe(Dr((l,f)=>l.concat(f)),Pr(l=>{for(let f of l)f.field=s.field;return l})));return(await Ur(ko(...o))).filter(s=>{var l;return((l=s.rest)===null||l===void 0?void 0:l.split("	")[(s.field||0)-3])===t})}};d();m();d();m();var al=ke(Io());d();m();var ol=ke(Io());var No={};Ca(No,{bigChain:()=>Rm,bigGenePred:()=>$m,bigInteract:()=>Im,bigLink:()=>Nm,bigMaf:()=>Fm,bigNarrowPeak:()=>Bm,bigPsl:()=>Om,defaultBedSchema:()=>Um,mafFrames:()=>Pm,mafSummary:()=>Dm});d();m();var Rm=`table bigChain
"bigChain pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - for strand"
    uint tSize;         "size of target sequence"
    string qName;       "name of query sequence"
    uint qSize;         "size of query sequence"
    uint qStart;        "start of alignment on query sequence"
    uint qEnd;          "end of alignment on query sequence"
    uint chainScore;    "score from chain"
    )`,$m=`table bigGenePred
"bigGenePred gene models"
   (
   string chrom;       "Reference sequence chromosome or scaffold"
   uint   chromStart;  "Start position in chromosome"
   uint   chromEnd;    "End position in chromosome"
   string name;        "Name or ID of item, ideally both human readable and unique"
   uint score;         "Score (0-1000)"
   char[1] strand;     "+ or - for strand"
   uint thickStart;    "Start of where display should be thick (start codon)"
   uint thickEnd;      "End of where display should be thick (stop codon)"
   uint reserved;       "RGB value (use R,G,B string in input file)"
   int blockCount;     "Number of blocks"
   int[blockCount] blockSizes; "Comma separated list of block sizes"
   int[blockCount] chromStarts; "Start positions relative to chromStart"
   string name2;       "Alternative/human readable name"
   string cdsStartStat; "Status of CDS start annotation (none, unknown, incomplete, or complete)"
   string cdsEndStat;   "Status of CDS end annotation (none, unknown, incomplete, or complete)"
   int[blockCount] exonFrames; "Exon frame {0,1,2}, or -1 if no frame for exon"
   string type;        "Transcript type"
   string geneName;    "Primary identifier for gene"
   string geneName2;   "Alternative/human readable gene name"
   string geneType;    "Gene type"
   )`,Im=`table interact
"interaction between two regions"
    (
    string chrom;        "Chromosome (or contig, scaffold, etc.). For interchromosomal, use 2 records"
    uint chromStart;     "Start position of lower region. For interchromosomal, set to chromStart of this region"
    uint chromEnd;       "End position of upper region. For interchromosomal, set to chromEnd of this region"
    string name;         "Name of item, for display.  Usually 'sourceName/targetName/exp' or empty"
    uint score;          "Score (0-1000)"
    double value;        "Strength of interaction or other data value. Typically basis for score"
    string exp;          "Experiment name (metadata for filtering). Use . if not applicable"
    string color;        "Item color.  Specified as r,g,b or hexadecimal #RRGGBB or html color name, as in //www.w3.org/TR/css3-color/#html4. Use 0 and spectrum setting to shade by score"
    string sourceChrom;  "Chromosome of source region (directional) or lower region. For non-directional interchromosomal, chrom of this region."
    uint sourceStart;    "Start position in chromosome of source/lower/this region"
    uint sourceEnd;      "End position in chromosome of source/lower/this region"
    string sourceName;   "Identifier of source/lower/this region"
    string sourceStrand; "Orientation of source/lower/this region: + or -.  Use . if not applicable"
    string targetChrom;  "Chromosome of target region (directional) or upper region. For non-directional interchromosomal, chrom of other region"
    uint targetStart;    "Start position in chromosome of target/upper/this region"
    uint targetEnd;      "End position in chromosome of target/upper/this region"
    string targetName;   "Identifier of target/upper/this region"
    string targetStrand; "Orientation of target/upper/this region: + or -.  Use . if not applicable"

    )`,Nm=`table bigLink
"bigLink pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint qStart;        "start of alignment on query sequence"
    )`,Fm=`table bedMaf
"Bed3 with MAF block"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    lstring mafBlock;   "MAF block"
    )`,Bm=`table bigNarrowPeak
"BED6+4 Peaks of signal enrichment based on pooled, normalized (interpreted) data."
(
    string chrom;        "Reference sequence chromosome or scaffold"
    uint   chromStart;   "Start position in chromosome"
    uint   chromEnd;     "End position in chromosome"
    string name;	 "Name given to a region (preferably unique). Use . if no name is assigned"
    uint   score;        "Indicates how dark the peak will be displayed in the browser (0-1000) "
    char[1]  strand;     "+ or - or . for unknown"
    float  signalValue;  "Measurement of average enrichment for the region"
    float  pValue;       "Statistical significance of signal value (-log10). Set to -1 if not used."
    float  qValue;       "Statistical significance with multiple-test correction applied (FDR -log10). Set to -1 if not used."
    int   peak;         "Point-source called for this peak; 0-based offset from chromStart. Set to -1 if no point-source called."
)`,Om=`table bigPsl
"bigPsl pairwise alignment"
    (
    string chrom;       "Reference sequence chromosome or scaffold"
    uint   chromStart;  "Start position in chromosome"
    uint   chromEnd;    "End position in chromosome"
    string name;        "Name or ID of item, ideally both human readable and unique"
    uint score;         "Score (0-1000)"
    char[1] strand;     "+ or - indicates whether the query aligns to the + or - strand on the reference"
    uint thickStart;    "Start of where display should be thick (start codon)"
    uint thickEnd;      "End of where display should be thick (stop codon)"
    uint reserved;       "RGB value (use R,G,B string in input file)"
    int blockCount;     "Number of blocks"
    int[blockCount] blockSizes; "Comma separated list of block sizes"
    int[blockCount] chromStarts; "Start positions relative to chromStart"

    uint    oChromStart;"Start position in other chromosome"
    uint    oChromEnd;  "End position in other chromosome"
    char[1] oStrand;    "+ or -, - means that psl was reversed into BED-compatible coordinates"
    uint    oChromSize; "Size of other chromosome."
    int[blockCount] oChromStarts; "Start positions relative to oChromStart or from oChromStart+oChromSize depending on strand"

    lstring  oSequence;  "Sequence on other chrom (or empty)"
    string   oCDS;       "CDS in NCBI format"

    uint    chromSize;"Size of target chromosome"

    uint match;        "Number of bases matched."
    uint misMatch; " Number of bases that don't match "
    uint repMatch; " Number of bases that match but are part of repeats "
    uint nCount;   " Number of 'N' bases "
    uint seqType;    "0=empty, 1=nucleotide, 2=amino_acid"
    )`,Um=`table defaultBedSchema
"BED12"
    (
    string chrom;      "The name of the chromosome (e.g. chr3, chrY, chr2_random) or scaffold (e.g. scaffold10671)."
    uint   chromStart; "The starting position of the feature in the chromosome or scaffold. The first base in a chromosome is numbered 0."
    uint   chromEnd;   "The ending position of the feature in the chromosome or scaffold. The chromEnd base is not included in the display of the feature. For example, the first 100 bases of a chromosome are defined as chromStart=0, chromEnd=100, and span the bases numbered 0-99."
    string   name;   "Defines the name of the BED line."
    float   score;   "Feature score, doesn't care about the 0-1000 limit as in bed"
    char   strand;   "Defines the strand. Either '.' (=no strand) or '+' or '-'"
    uint thickStart; "The starting position at which the feature is drawn thickly (for example, the start codon in gene displays). When there is no thick part, thickStart and thickEnd are usually set to the chromStart position."
    uint thickEnd; "The ending position at which the feature is drawn thickly (for example the stop codon in gene displays)."
    string itemRgb; "An RGB value of the form R,G,B (e.g. 255,0,0). "
    uint blockCount; " The number of blocks (exons) in the BED line."
    uint[blockCount] blockSizes; " A comma-separated list of the block sizes. The number of items in this list should correspond to blockCount."
    uint[blockCount] blockStarts; "A comma-separated list of block starts. All of the blockStart positions should be calculated relative to chromStart. The number of items in this list should correspond to blockCount."
    )`,Pm=`table mafFrames
"codon frame assignment for MAF components"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start range in chromosome"
    uint   chromEnd;   "End range in chromosome"
    string src;        "Name of sequence source in MAF"
    ubyte frame;       "frame (0,1,2) for first base(+) or last bast(-)"
    char[1] strand;    "+ or -"
    string name;       "Name of gene used to define frame"
    int    prevFramePos;  "target position of the previous base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    int    nextFramePos;  "target position of the next base (in transcription direction) that continues this frame, or -1 if none, or frame not contiguous"
    ubyte  isExonStart;  "does this start the CDS portion of an exon?"
    ubyte  isExonEnd;    "does this end the CDS portion of an exon?"
    )`,Dm=`table mafSummary
"Positions and scores for alignment blocks"
    (
    string chrom;      "Reference sequence chromosome or scaffold"
    uint   chromStart; "Start position in chromosome"
    uint   chromEnd;   "End position in chromosome"
    string src;        "Sequence name or database of alignment"
    float  score;      "Floating point score."
    char[1] leftStatus;  "Gap/break annotation for preceding block"
    char[1] rightStatus; "Gap/break annotation for following block"
    )`;var Jn=Object.fromEntries(Object.entries(No).map(([r,t])=>[r,(0,ol.parse)(t.trim())]));d();m();function Qn(r){let t=new Set(["uint","int","float","long"]);return{...r,fields:r.fields.map(e=>({...e,isArray:e.size&&e.type!=="char",arrayIsNumeric:e.size&&t.has(e.type),isNumeric:!e.size&&t.has(e.type)})).filter(e=>!!e.name)}}var zm={".":0,"-":-1,"+":1};function Lm(r){var t;return r.length>=12&&!Number.isNaN(parseInt(r[9],10))&&((t=r[10])===null||t===void 0?void 0:t.split(",").filter(e=>!!e).length)===parseInt(r[9],10)}var rr=class{constructor(t={}){if(t.autoSql)this.autoSql=Qn(al.default.parse(t.autoSql));else if(t.type){if(!Jn[t.type])throw new Error("Type not found");this.autoSql=Qn(Jn[t.type])}else this.autoSql=Qn(Jn.defaultBedSchema),this.attemptDefaultBed=!0}parseLine(t,e={}){let{autoSql:n}=this,{uniqueId:i}=e,o=Array.isArray(t)?t:t.split("	"),a={};if(!this.attemptDefaultBed||this.attemptDefaultBed&&Lm(o))for(let s=0;s<n.fields.length;s++){let l=n.fields[s],f=o[s],{isNumeric:u,isArray:p,arrayIsNumeric:g,name:h}=l;if(f==null)break;if(f!=="."){if(u){let _=Number(f);f=Number.isNaN(_)?f:_}else p&&(f=f.split(","),f[f.length-1]===""&&f.pop(),g&&(f=f.map(Number)));a[h]=f}}else{let s=["chrom","chromStart","chromEnd","name"];a=Object.fromEntries(o.map((l,f)=>[s[f]||"field"+f,l])),a.chromStart=+a.chromStart,a.chromEnd=+a.chromEnd,Number.isNaN(Number.parseFloat(a.field4))||(a.score=+a.field4,delete a.field4),(a.field5==="+"||a.field5==="-")&&(a.strand=a.field5,delete a.field5)}return i&&(a.uniqueId=i),a.strand=zm[a.strand]||0,a.chrom=decodeURIComponent(a.chrom),a}};d();m();var Mm=ke(sl());d();m();var Fo=ke(fl()),nr=class{async getBufferFromResponse(t){if(typeof t.buffer=="function")return t.buffer();if(typeof t.arrayBuffer=="function"){let e=await t.arrayBuffer();return E.from(e)}else throw new TypeError("invalid HTTP response object, has no buffer method, and no arrayBuffer method")}constructor(t,e={}){this.auth={},this.baseOverrides={},this.url=t,this.auth=e.auth||{};let n=e.fetch||globalThis.fetch.bind(globalThis);if(!n)throw new TypeError("no fetch function supplied, and none found in global environment");e.overrides&&(this.baseOverrides=e.overrides),this.fetchImplementation=n}async fetch(t,e){let n;try{n=await this.fetchImplementation(t,e)}catch(i){if(`${i}`.includes("Failed to fetch"))console.warn(`generic-filehandle: refetching ${t} to attempt to work around chrome CORS header caching bug`),n=await this.fetchImplementation(t,{...e,cache:"reload"});else throw i}return n}async read(t,e=0,n,i=0,o={}){let{headers:a={},signal:s,overrides:l={}}=o;n<1/0?a.range=`bytes=${i}-${i+n}`:n===1/0&&i!==0&&(a.range=`bytes=${i}-`),this.auth&&this.auth.user&&this.auth.password&&(a.Authorization=`Basic ${(0,Fo.encode)(this.auth.user+":"+this.auth.password)}`);let f={...this.baseOverrides,...l,headers:{...a,...l.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:s},u=await this.fetch(this.url,f);if(!u.ok)throw new Error(`HTTP ${u.status} ${u.statusText} ${this.url}`);if(u.status===200&&i===0||u.status===206){let p=await this.getBufferFromResponse(u),g=p.copy(t,e,0,Math.min(n,p.length)),h=u.headers.get("content-range"),_=/\/(\d+)$/.exec(h||"");return _&&_[1]&&(this._stat={size:parseInt(_[1],10)}),{bytesRead:g,buffer:t}}if(u.status===200)throw new Error("${this.url} fetch returned status 200, expected 206");if(u.status===404)return{bytesRead:0,buffer:t};throw new Error(`HTTP ${u.status} fetching ${this.url}`)}async readFile(t={}){let e,n;typeof t=="string"?(e=t,n={}):(e=t.encoding,n=t,delete n.encoding);let{headers:i={},signal:o,overrides:a={}}=n;this.auth&&this.auth.user&&this.auth.password&&(i.Authorization=`Basic ${(0,Fo.encode)(this.auth.user+":"+this.auth.password)}`);let s={headers:i,method:"GET",redirect:"follow",mode:"cors",signal:o,...this.baseOverrides,...a},l=await this.fetch(this.url,s);if(!l)throw new Error("generic-filehandle failed to fetch");if(l.status===404)return E.alloc(1);if(l.status!==200)throw Object.assign(new Error(`HTTP ${l.status} fetching ${this.url}`),{status:l.status});if(e==="utf8")return l.text();if(e)throw new Error(`unsupported encoding: ${e}`);return this.getBufferFromResponse(l)}async stat(){if(!this._stat){let t=E.allocUnsafe(10);if(await this.read(t,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}};d();m();d();m();d();m();d();m();var ul={},Bo={},Oo=34,Vr=10,Uo=13;function cl(r){return new Function("d","return {"+r.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function Vm(r,t){var e=cl(r);return function(n,i){return t(e(n),i,r)}}function ll(r){var t=Object.create(null),e=[];return r.forEach(function(n){for(var i in n)i in t||e.push(t[i]=i)}),e}function pe(r,t){var e=r+"",n=e.length;return n<t?new Array(t-n+1).join(0)+e:e}function Zm(r){return r<0?"-"+pe(-r,6):r>9999?"+"+pe(r,6):pe(r,4)}function Ym(r){var t=r.getUTCHours(),e=r.getUTCMinutes(),n=r.getUTCSeconds(),i=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":Zm(r.getUTCFullYear(),4)+"-"+pe(r.getUTCMonth()+1,2)+"-"+pe(r.getUTCDate(),2)+(i?"T"+pe(t,2)+":"+pe(e,2)+":"+pe(n,2)+"."+pe(i,3)+"Z":n?"T"+pe(t,2)+":"+pe(e,2)+":"+pe(n,2)+"Z":e||t?"T"+pe(t,2)+":"+pe(e,2)+"Z":"")}function hl(r){var t=new RegExp('["'+r+`
\r]`),e=r.charCodeAt(0);function n(p,g){var h,_,x=i(p,function(C,A){if(h)return h(C,A-1);_=C,h=g?Vm(C,g):cl(C)});return x.columns=_||[],x}function i(p,g){var h=[],_=p.length,x=0,C=0,A,I=_<=0,k=!1;p.charCodeAt(_-1)===Vr&&--_,p.charCodeAt(_-1)===Uo&&--_;function S(){if(I)return Bo;if(k)return k=!1,ul;var O,T=x,N;if(p.charCodeAt(T)===Oo){for(;x++<_&&p.charCodeAt(x)!==Oo||p.charCodeAt(++x)===Oo;);return(O=x)>=_?I=!0:(N=p.charCodeAt(x++))===Vr?k=!0:N===Uo&&(k=!0,p.charCodeAt(x)===Vr&&++x),p.slice(T+1,O-1).replace(/""/g,'"')}for(;x<_;){if((N=p.charCodeAt(O=x++))===Vr)k=!0;else if(N===Uo)k=!0,p.charCodeAt(x)===Vr&&++x;else if(N!==e)continue;return p.slice(T,O)}return I=!0,p.slice(T,_)}for(;(A=S())!==Bo;){for(var F=[];A!==ul&&A!==Bo;)F.push(A),A=S();g&&(F=g(F,C++))==null||h.push(F)}return h}function o(p,g){return p.map(function(h){return g.map(function(_){return u(h[_])}).join(r)})}function a(p,g){return g==null&&(g=ll(p)),[g.map(u).join(r)].concat(o(p,g)).join(`
`)}function s(p,g){return g==null&&(g=ll(p)),o(p,g).join(`
`)}function l(p){return p.map(f).join(`
`)}function f(p){return p.map(u).join(r)}function u(p){return p==null?"":p instanceof Date?Ym(p):t.test(p+="")?'"'+p.replace(/"/g,'""')+'"':p}return{parse:n,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:f,formatValue:u}}d();m();var $t=hl("	"),Hm=$t.parse,Po=$t.parseRows,qm=$t.format,jm=$t.formatBody,Gm=$t.formatRows,Wm=$t.formatRow,Xm=$t.formatValue;d();m();d();m();d();m();d();m();d();m();var we="$";function ti(){}ti.prototype=pl.prototype={constructor:ti,has:function(r){return we+r in this},get:function(r){return this[we+r]},set:function(r,t){return this[we+r]=t,this},remove:function(r){var t=we+r;return t in this&&delete this[t]},clear:function(){for(var r in this)r[0]===we&&delete this[r]},keys:function(){var r=[];for(var t in this)t[0]===we&&r.push(t.slice(1));return r},values:function(){var r=[];for(var t in this)t[0]===we&&r.push(this[t]);return r},entries:function(){var r=[];for(var t in this)t[0]===we&&r.push({key:t.slice(1),value:this[t]});return r},size:function(){var r=0;for(var t in this)t[0]===we&&++r;return r},empty:function(){for(var r in this)if(r[0]===we)return!1;return!0},each:function(r){for(var t in this)t[0]===we&&r(this[t],t.slice(1),this)}};function pl(r,t){var e=new ti;if(r instanceof ti)r.each(function(s,l){e.set(l,s)});else if(Array.isArray(r)){var n=-1,i=r.length,o;if(t==null)for(;++n<i;)e.set(n,r[n]);else for(;++n<i;)e.set(t(o=r[n],n,r),o)}else if(r)for(var a in r)e.set(a,r[a]);return e}var ir=pl;d();m();function ri(){}var It=ir.prototype;ri.prototype=Km.prototype={constructor:ri,has:It.has,add:function(r){return r+="",this[we+r]=r,this},remove:It.remove,clear:It.clear,values:It.keys,size:It.size,empty:It.empty,each:It.each};function Km(r,t){var e=new ri;if(r instanceof ri)r.each(function(o){e.add(o)});else if(r){var n=-1,i=r.length;if(t==null)for(;++n<i;)e.add(r[n]);else for(;++n<i;)e.add(t(r[n],n,r))}return e}d();m();d();m();d();m();d();m();d();m();var Jm={value:function(){}};function ml(){for(var r=0,t=arguments.length,e={},n;r<t;++r){if(!(n=arguments[r]+"")||n in e||/[\s.]/.test(n))throw new Error("illegal type: "+n);e[n]=[]}return new ni(e)}function ni(r){this._=r}function Qm(r,t){return r.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}ni.prototype=ml.prototype={constructor:ni,on:function(r,t){var e=this._,n=Qm(r+"",e),i,o=-1,a=n.length;if(arguments.length<2){for(;++o<a;)if((i=(r=n[o]).type)&&(i=eg(e[i],r.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(r=n[o]).type)e[i]=dl(e[i],r.name,t);else if(t==null)for(i in e)e[i]=dl(e[i],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new ni(r)},call:function(r,t){if((i=arguments.length-2)>0)for(var e=new Array(i),n=0,i,o;n<i;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,i=o.length;n<i;++n)o[n].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],i=0,o=n.length;i<o;++i)n[i].value.apply(t,e)}};function eg(r,t){for(var e=0,n=r.length,i;e<n;++e)if((i=r[e]).name===t)return i.value}function dl(r,t,e){for(var n=0,i=r.length;n<i;++n)if(r[n].name===t){r[n]=Jm,r=r.slice(0,n).concat(r.slice(n+1));break}return e!=null&&r.push({name:t,value:e}),r}var Do=ml;function Zr(r,t){var e,n=Do("beforesend","progress","load","error"),i,o=ir(),a=new XMLHttpRequest,s=null,l=null,f,u,p=0;typeof XDomainRequest!="undefined"&&!("withCredentials"in a)&&/^(http(s)?:)?\/\//.test(r)&&(a=new XDomainRequest),"onload"in a?a.onload=a.onerror=a.ontimeout=g:a.onreadystatechange=function(h){a.readyState>3&&g(h)};function g(h){var _=a.status,x;if(!_&&rg(a)||_>=200&&_<300||_===304){if(f)try{x=f.call(e,a)}catch(C){n.call("error",e,C);return}else x=a;n.call("load",e,x)}else n.call("error",e,h)}if(a.onprogress=function(h){n.call("progress",e,h)},e={header:function(h,_){return h=(h+"").toLowerCase(),arguments.length<2?o.get(h):(_==null?o.remove(h):o.set(h,_+""),e)},mimeType:function(h){return arguments.length?(i=h==null?null:h+"",e):i},responseType:function(h){return arguments.length?(u=h,e):u},timeout:function(h){return arguments.length?(p=+h,e):p},user:function(h){return arguments.length<1?s:(s=h==null?null:h+"",e)},password:function(h){return arguments.length<1?l:(l=h==null?null:h+"",e)},response:function(h){return f=h,e},get:function(h,_){return e.send("GET",h,_)},post:function(h,_){return e.send("POST",h,_)},send:function(h,_,x){return a.open(h,r,!0,s,l),i!=null&&!o.has("accept")&&o.set("accept",i+",*/*"),a.setRequestHeader&&o.each(function(C,A){a.setRequestHeader(A,C)}),i!=null&&a.overrideMimeType&&a.overrideMimeType(i),u!=null&&(a.responseType=u),p>0&&(a.timeout=p),x==null&&typeof _=="function"&&(x=_,_=null),x!=null&&x.length===1&&(x=tg(x)),x!=null&&e.on("error",x).on("load",function(C){x(null,C)}),n.call("beforesend",e,a),a.send(_==null?null:_),e},abort:function(){return a.abort(),e},on:function(){var h=n.on.apply(n,arguments);return h===n?e:h}},t!=null){if(typeof t!="function")throw new Error("invalid callback: "+t);return e.get(t)}return e}function tg(r){return function(t,e){r(t==null?e:null)}}function rg(r){var t=r.responseType;return t&&t!=="text"?r.response:r.responseText}d();m();d();m();function ht(r,t){return function(e,n){var i=Zr(e).mimeType(r).response(t);if(n!=null){if(typeof n!="function")throw new Error("invalid callback: "+n);return i.get(n)}return i}}var ng=ht("text/html",function(r){return document.createRange().createContextualFragment(r.responseText)});d();m();var ig=ht("application/json",function(r){return JSON.parse(r.responseText)});d();m();var zo=ht("text/plain",function(r){return r.responseText});d();m();var og=ht("application/xml",function(r){var t=r.responseXML;if(!t)throw new Error("parse error");return t});d();m();d();m();d();m();var gl={},Lo={},Mo=34,Yr=10,Vo=13;function wl(r){return new Function("d","return {"+r.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function ag(r,t){var e=wl(r);return function(n,i){return t(e(n),i,r)}}function bl(r){var t=Object.create(null),e=[];return r.forEach(function(n){for(var i in n)i in t||e.push(t[i]=i)}),e}function de(r,t){var e=r+"",n=e.length;return n<t?new Array(t-n+1).join(0)+e:e}function sg(r){return r<0?"-"+de(-r,6):r>9999?"+"+de(r,6):de(r,4)}function fg(r){var t=r.getUTCHours(),e=r.getUTCMinutes(),n=r.getUTCSeconds(),i=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":sg(r.getUTCFullYear(),4)+"-"+de(r.getUTCMonth()+1,2)+"-"+de(r.getUTCDate(),2)+(i?"T"+de(t,2)+":"+de(e,2)+":"+de(n,2)+"."+de(i,3)+"Z":n?"T"+de(t,2)+":"+de(e,2)+":"+de(n,2)+"Z":e||t?"T"+de(t,2)+":"+de(e,2)+"Z":"")}function ii(r){var t=new RegExp('["'+r+`
\r]`),e=r.charCodeAt(0);function n(p,g){var h,_,x=i(p,function(C,A){if(h)return h(C,A-1);_=C,h=g?ag(C,g):wl(C)});return x.columns=_||[],x}function i(p,g){var h=[],_=p.length,x=0,C=0,A,I=_<=0,k=!1;p.charCodeAt(_-1)===Yr&&--_,p.charCodeAt(_-1)===Vo&&--_;function S(){if(I)return Lo;if(k)return k=!1,gl;var O,T=x,N;if(p.charCodeAt(T)===Mo){for(;x++<_&&p.charCodeAt(x)!==Mo||p.charCodeAt(++x)===Mo;);return(O=x)>=_?I=!0:(N=p.charCodeAt(x++))===Yr?k=!0:N===Vo&&(k=!0,p.charCodeAt(x)===Yr&&++x),p.slice(T+1,O-1).replace(/""/g,'"')}for(;x<_;){if((N=p.charCodeAt(O=x++))===Yr)k=!0;else if(N===Vo)k=!0,p.charCodeAt(x)===Yr&&++x;else if(N!==e)continue;return p.slice(T,O)}return I=!0,p.slice(T,_)}for(;(A=S())!==Lo;){for(var F=[];A!==gl&&A!==Lo;)F.push(A),A=S();g&&(F=g(F,C++))==null||h.push(F)}return h}function o(p,g){return p.map(function(h){return g.map(function(_){return u(h[_])}).join(r)})}function a(p,g){return g==null&&(g=bl(p)),[g.map(u).join(r)].concat(o(p,g)).join(`
`)}function s(p,g){return g==null&&(g=bl(p)),o(p,g).join(`
`)}function l(p){return p.map(f).join(`
`)}function f(p){return p.map(u).join(r)}function u(p){return p==null?"":p instanceof Date?fg(p):t.test(p+="")?'"'+p.replace(/"/g,'""')+'"':p}return{parse:n,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:f,formatValue:u}}d();m();var Nt=ii(","),Zo=Nt.parse,ug=Nt.parseRows,lg=Nt.format,cg=Nt.formatBody,hg=Nt.formatRows,pg=Nt.formatRow,dg=Nt.formatValue;d();m();var Ft=ii("	"),Yo=Ft.parse,mg=Ft.parseRows,gg=Ft.format,bg=Ft.formatBody,wg=Ft.formatRows,_g=Ft.formatRow,yg=Ft.formatValue;d();m();function oi(r,t){return function(e,n,i){arguments.length<3&&(i=n,n=null);var o=Zr(e).mimeType(r);return o.row=function(a){return arguments.length?o.response(xg(t,n=a)):n},o.row(n),i?o.get(i):o}}function xg(r,t){return function(e){return r(e.responseText,t)}}var vg=oi("text/csv",Zo);d();m();var Eg=oi("text/tab-separated-values",Yo);var yl=(r,t,e)=>e.chrPositions[r].pos+t;function Sg(r){let t=[],e={},n={},i=0;for(let o=0;o<r.length;o++){let a=Number(r[o][1]);i+=a;let s={id:o,chr:r[o][0],pos:i-a};t.push(s),n[s.chr]=s,e[r[o][0]]=a}return{chrToAbs:([o,a])=>yl(o,a,{chrPositions:n}),cumPositions:t,chrPositions:n,totalLength:i,chromLengths:e}}function Ag(r,t){let e={};return e.absToChr=n=>e.chrPositions?absToChr(n,e):null,e.chrToAbs=([n,i]=[])=>e.chrPositions?yl(n,i,e):null,zo(r,(n,i)=>{if(n)t&&t(null);else{let o=Po(i),a=Sg(o);Object.keys(a).forEach(s=>{e[s]=a[s]}),t&&t(e)}})}var xl=function(t,...e){if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');class n{constructor(o){this.dataConfig=o,this.trackUid=_l.default.nice(),this.bigBedFile=null,this.autoSql=null,this.parser=null,this.TILE_SIZE=1024,this.errorTxt="",this.dataPromises=[],this.dataPromises.push(this.loadChromsizes(o)),this.dataPromises.push(this.loadBigBed(o))}loadChromsizes(o){return o.chromSizesUrl?new Promise(a=>{Ag(o.chromSizesUrl,s=>{this.chromSizes=s,a()})}):(console.error('Please enter a "chromSizesUrl" field to the data config'),null)}async loadBigBed(o){return o.url?(this.bigBedFile=new Lr({filehandle:new nr(o.url)}),this.autoSql=await this.bigBedFile.getHeader(),this.parser=new rr({autoSql:this.autoSql}),this.bigBedFile):(console.error('Please enter a "url" field to the data config'),null)}tilesetInfo(o){return this.tilesetInfoLoading=!0,Promise.all(this.dataPromises).then(()=>{this.tilesetInfoLoading=!1;let a={},s=this.chromSizes.totalLength;return a={tile_size:this.TILE_SIZE,max_zoom:Math.ceil(Math.log(s/this.TILE_SIZE)/Math.log(2)),max_width:2**Math.ceil(Math.log(s)/Math.log(2)),min_pos:[0],max_pos:[s]},o&&o(a),a}).catch(a=>{this.tilesetInfoLoading=!1,console.error(a),o&&o({error:`Error parsing tabix: ${a}`})})}async fetchTilesDebounced(o,a){let s={},l=[],f=[];for(let u of a){let p=u.split("."),g=parseInt(p[0],10),h=parseInt(p[1],10);if(Number.isNaN(h)||Number.isNaN(g)){console.warn("Invalid tile zoom or position:",g,h);continue}l.push(u),f.push(await this.tile(g,h))}for(let u=0;u<f.length;u++){let p=l[u];s[p]=f[u],s[p].tilePositionId=p}return o(s),s}tile(o,a){return this.tilesetInfo().then(async s=>{let l=+s.max_width/2**+o,f=[],u={tilePos:[a],tileId:"tabix."+o+"."+a,zoomLevel:o},g=s.min_pos[0]+a*l,h=s.min_pos[0]+(a+1)*l,{chromLengths:_,cumPositions:x}=this.chromSizes,C=[];for(let A=0;A<x.length;A++){let I=x[A].chr,k=x[A].pos,S=x[A].pos+_[I],F,O;if(k<=g&&g<S)if(h>S){F=g-k,O=S-k;let N=(await this.bigBedFile.getFeatures(I,F,O)).map(B=>{let{start:U,end:L,rest:fe,uniqueId:Ne}=B;return parser.parseLine(`${I}	${U}	${L}	${fe}`,{uniqueId:Ne})});console.log(`lines ${JSON.stringify(N)}`),g=S}else{F=Math.floor(g-k),O=Math.ceil(h-k);let N=(await this.bigBedFile.getFeatures(I,F,O)).map(B=>{let{start:U,end:L,rest:fe,uniqueId:Ne}=B;return parser.parseLine(`${I}	${U}	${L}	${fe}`,{uniqueId:Ne})});console.log(`lines ${JSON.stringify(N)}`);break}}return C})}}return new n(...e)};xl.config={type:"bigbed"};var Tg=xl;export{Tg as BigBedDataFetcher};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*! https://mths.be/base64 v1.0.0 by @mathias | MIT license */
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */
//# sourceMappingURL=index.min.js.map
