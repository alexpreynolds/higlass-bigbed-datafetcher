var yf=Object.create;var pr=Object.defineProperty;var Ef=Object.getOwnPropertyDescriptor;var Tf=Object.getOwnPropertyNames;var Af=Object.getPrototypeOf,Sf=Object.prototype.hasOwnProperty;var z=(r,t)=>()=>(r&&(t=r(r=0)),t);var dr=(r,t)=>()=>(t||r((t={exports:{}}).exports,t),t.exports),Cf=(r,t)=>{for(var e in t)pr(r,e,{get:t[e],enumerable:!0})},Zi=(r,t,e,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Tf(t))!Sf.call(r,i)&&i!==e&&pr(r,i,{get:()=>t[i],enumerable:!(n=Ef(t,i))||n.enumerable});return r};var It=(r,t,e)=>(e=r!=null?yf(Af(r)):{},Zi(t||!r||!r.__esModule?pr(e,"default",{value:r,enumerable:!0}):e,r)),kf=r=>Zi(pr({},"__esModule",{value:!0}),r);function Hi(){throw new Error("setTimeout has not been defined")}function ji(){throw new Error("clearTimeout has not been defined")}function Wi(r){if(Oe===setTimeout)return setTimeout(r,0);if((Oe===Hi||!Oe)&&setTimeout)return Oe=setTimeout,setTimeout(r,0);try{return Oe(r,0)}catch(t){try{return Oe.call(null,r,0)}catch(e){return Oe.call(this,r,0)}}}function Rf(r){if(Pe===clearTimeout)return clearTimeout(r);if((Pe===ji||!Pe)&&clearTimeout)return Pe=clearTimeout,clearTimeout(r);try{return Pe(r)}catch(t){try{return Pe.call(null,r)}catch(e){return Pe.call(this,r)}}}function If(){!dt||!We||(dt=!1,We.length?Se=We.concat(Se):mr=-1,Se.length&&Gi())}function Gi(){if(!dt){var r=Wi(If);dt=!0;for(var t=Se.length;t;){for(We=Se,Se=[];++mr<t;)We&&We[mr].run();mr=-1,t=Se.length}We=null,dt=!1,Rf(r)}}function $f(r){var t=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)t[e-1]=arguments[e];Se.push(new Ki(r,t)),Se.length===1&&!dt&&Wi(Gi)}function Ki(r,t){this.fun=r,this.array=t}function Ge(){}function Gf(r){throw new Error("process.binding is not supported")}function Kf(){return"/"}function Xf(r){throw new Error("process.chdir is not supported")}function qf(){return 0}function Qf(r){var t=Jf.call(pt)*.001,e=Math.floor(t),n=Math.floor(t%1*1e9);return r&&(e=e-r[0],n=n-r[1],n<0&&(e--,n+=1e9)),[e,n]}function tu(){var r=new Date,t=r-eu;return t/1e3}var Oe,Pe,Se,dt,We,mr,Uf,Nf,Ff,Bf,Of,Pf,Df,zf,Mf,Lf,Vf,Zf,Yf,Hf,jf,Wf,pt,Jf,eu,b,Yi,p=z(()=>{Oe=Hi,Pe=ji;typeof globalThis.setTimeout=="function"&&(Oe=setTimeout);typeof globalThis.clearTimeout=="function"&&(Pe=clearTimeout);Se=[],dt=!1,mr=-1;Ki.prototype.run=function(){this.fun.apply(null,this.array)};Uf="browser",Nf="browser",Ff=!0,Bf={},Of=[],Pf="",Df={},zf={},Mf={};Lf=Ge,Vf=Ge,Zf=Ge,Yf=Ge,Hf=Ge,jf=Ge,Wf=Ge;pt=globalThis.performance||{},Jf=pt.now||pt.mozNow||pt.msNow||pt.oNow||pt.webkitNow||function(){return new Date().getTime()};eu=new Date;b={nextTick:$f,title:Uf,browser:Ff,env:Bf,argv:Of,version:Pf,versions:Df,on:Lf,addListener:Vf,once:Zf,off:Yf,removeListener:Hf,removeAllListeners:jf,emit:Wf,binding:Gf,cwd:Kf,chdir:Xf,umask:qf,hrtime:Qf,platform:Nf,release:zf,config:Mf,uptime:tu},Yi={};Object.keys(Yi).forEach(r=>{let t=r.split("."),e=b;for(let n=0;n<t.length;n++){let i=t[n];n===t.length-1?e[i]=Yi[r]:e=e[i]||(e[i]={})}})});function Qi(){En=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,e=r.length;t<e;++t)ge[t]=r[t],ie[r.charCodeAt(t)]=t;ie["-".charCodeAt(0)]=62,ie["_".charCodeAt(0)]=63}function nu(r){En||Qi();var t,e,n,i,o,a,s=r.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=r[s-2]==="="?2:r[s-1]==="="?1:0,a=new ru(s*3/4-o),n=o>0?s-4:s;var l=0;for(t=0,e=0;t<n;t+=4,e+=3)i=ie[r.charCodeAt(t)]<<18|ie[r.charCodeAt(t+1)]<<12|ie[r.charCodeAt(t+2)]<<6|ie[r.charCodeAt(t+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=i&255;return o===2?(i=ie[r.charCodeAt(t)]<<2|ie[r.charCodeAt(t+1)]>>4,a[l++]=i&255):o===1&&(i=ie[r.charCodeAt(t)]<<10|ie[r.charCodeAt(t+1)]<<4|ie[r.charCodeAt(t+2)]>>2,a[l++]=i>>8&255,a[l++]=i&255),a}function iu(r){return ge[r>>18&63]+ge[r>>12&63]+ge[r>>6&63]+ge[r&63]}function ou(r,t,e){for(var n,i=[],o=t;o<e;o+=3)n=(r[o]<<16)+(r[o+1]<<8)+r[o+2],i.push(iu(n));return i.join("")}function Xi(r){En||Qi();for(var t,e=r.length,n=e%3,i="",o=[],a=16383,s=0,l=e-n;s<l;s+=a)o.push(ou(r,s,s+a>l?l:s+a));return n===1?(t=r[e-1],i+=ge[t>>2],i+=ge[t<<4&63],i+="=="):n===2&&(t=(r[e-2]<<8)+r[e-1],i+=ge[t>>10],i+=ge[t>>4&63],i+=ge[t<<2&63],i+="="),o.push(i),o.join("")}function wr(){return m.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Ce(r,t){if(wr()<t)throw new RangeError("Invalid typed array length");return m.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=m.prototype):(r===null&&(r=new m(t)),r.length=t),r}function m(r,t,e){if(!m.TYPED_ARRAY_SUPPORT&&!(this instanceof m))return new m(r,t,e);if(typeof r=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return Tn(this,r)}return eo(this,r,t,e)}function eo(r,t,e,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer?fu(r,t,e,n):typeof t=="string"?su(r,t,e):uu(r,t)}function to(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function au(r,t,e,n){return to(t),t<=0?Ce(r,t):e!==void 0?typeof n=="string"?Ce(r,t).fill(e,n):Ce(r,t).fill(e):Ce(r,t)}function Tn(r,t){if(to(t),r=Ce(r,t<0?0:An(t)|0),!m.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)r[e]=0;return r}function su(r,t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!m.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=ro(t,e)|0;r=Ce(r,n);var i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}function yn(r,t){var e=t.length<0?0:An(t.length)|0;r=Ce(r,e);for(var n=0;n<e;n+=1)r[n]=t[n]&255;return r}function fu(r,t,e,n){if(t.byteLength,e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return e===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,e):t=new Uint8Array(t,e,n),m.TYPED_ARRAY_SUPPORT?(r=t,r.__proto__=m.prototype):r=yn(r,t),r}function uu(r,t){if(_e(t)){var e=An(t.length)|0;return r=Ce(r,e),r.length===0||t.copy(r,0,0,e),r}if(t){if(typeof ArrayBuffer!="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||ku(t.length)?Ce(r,0):yn(r,t);if(t.type==="Buffer"&&Array.isArray(t.data))return yn(r,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function An(r){if(r>=wr())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+wr().toString(16)+" bytes");return r|0}function _e(r){return!!(r!=null&&r._isBuffer)}function ro(r,t){if(_e(r))return r.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var e=r.length;if(e===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return gr(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return uo(r).length;default:if(n)return gr(r).length;t=(""+t).toLowerCase(),n=!0}}function lu(r,t,e){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return xu(this,t,e);case"utf8":case"utf-8":return oo(this,t,e);case"ascii":return _u(this,t,e);case"latin1":case"binary":return bu(this,t,e);case"base64":return wu(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return vu(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}function Ke(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}function no(r,t,e,n,i){if(r.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(i)return-1;e=r.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof t=="string"&&(t=m.from(t,n)),_e(t))return t.length===0?-1:qi(r,t,e,n,i);if(typeof t=="number")return t=t&255,m.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):qi(r,[t],e,n,i);throw new TypeError("val must be string, number or Buffer")}function qi(r,t,e,n,i){var o=1,a=r.length,s=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||t.length<2)return-1;o=2,a/=2,s/=2,e/=2}function l(c,g){return o===1?c[g]:c.readUInt16BE(g*o)}var f;if(i){var u=-1;for(f=e;f<a;f++)if(l(r,f)===l(t,u===-1?0:f-u)){if(u===-1&&(u=f),f-u+1===s)return u*o}else u!==-1&&(f-=f-u),u=-1}else for(e+s>a&&(e=a-s),f=e;f>=0;f--){for(var h=!0,w=0;w<s;w++)if(l(r,f+w)!==l(t,w)){h=!1;break}if(h)return f}return-1}function cu(r,t,e,n){e=Number(e)||0;var i=r.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(a*2,2),16);if(isNaN(s))return a;r[e+a]=s}return a}function hu(r,t,e,n){return xr(gr(t,r.length-e),r,e,n)}function io(r,t,e,n){return xr(Su(t),r,e,n)}function pu(r,t,e,n){return io(r,t,e,n)}function du(r,t,e,n){return xr(uo(t),r,e,n)}function mu(r,t,e,n){return xr(Cu(t,r.length-e),r,e,n)}function wu(r,t,e){return t===0&&e===r.length?Xi(r):Xi(r.slice(t,e))}function oo(r,t,e){e=Math.min(r.length,e);for(var n=[],i=t;i<e;){var o=r[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=e){var l,f,u,h;switch(s){case 1:o<128&&(a=o);break;case 2:l=r[i+1],(l&192)===128&&(h=(o&31)<<6|l&63,h>127&&(a=h));break;case 3:l=r[i+1],f=r[i+2],(l&192)===128&&(f&192)===128&&(h=(o&15)<<12|(l&63)<<6|f&63,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:l=r[i+1],f=r[i+2],u=r[i+3],(l&192)===128&&(f&192)===128&&(u&192)===128&&(h=(o&15)<<18|(l&63)<<12|(f&63)<<6|u&63,h>65535&&h<1114112&&(a=h))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s}return gu(n)}function gu(r){var t=r.length;if(t<=Ji)return String.fromCharCode.apply(String,r);for(var e="",n=0;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=Ji));return e}function _u(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]&127);return n}function bu(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]);return n}function xu(r,t,e){var n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=t;o<e;++o)i+=Au(r[o]);return i}function vu(r,t,e){for(var n=r.slice(t,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}function M(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}function X(r,t,e,n,i,o){if(!_e(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(e+n>r.length)throw new RangeError("Index out of range")}function _r(r,t,e,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(r.length-e,2);i<o;++i)r[e+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}function br(r,t,e,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(r.length-e,4);i<o;++i)r[e+i]=t>>>(n?i:3-i)*8&255}function ao(r,t,e,n,i,o){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function so(r,t,e,n,i){return i||ao(r,t,e,4,34028234663852886e22,-34028234663852886e22),co(r,t,e,n,23,4),e+4}function fo(r,t,e,n,i){return i||ao(r,t,e,8,17976931348623157e292,-17976931348623157e292),co(r,t,e,n,52,8),e+8}function Eu(r){if(r=Tu(r).replace(yu,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function Tu(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function Au(r){return r<16?"0"+r.toString(16):r.toString(16)}function gr(r,t){t=t||1/0;for(var e,n=r.length,i=null,o=[],a=0;a<n;++a){if(e=r.charCodeAt(a),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}function Su(r){for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function Cu(r,t){for(var e,n,i,o=[],a=0;a<r.length&&!((t-=2)<0);++a)e=r.charCodeAt(a),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function uo(r){return nu(Eu(r))}function xr(r,t,e,n){for(var i=0;i<n&&!(i+e>=t.length||i>=r.length);++i)t[i+e]=r[i];return i}function ku(r){return r!==r}function Ru(r){return r!=null&&(!!r._isBuffer||lo(r)||Iu(r))}function lo(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Iu(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&lo(r.slice(0,0))}function vr(r,t,e,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,f=l>>1,u=-7,h=e?i-1:0,w=e?-1:1,c=r[t+h];for(h+=w,o=c&(1<<-u)-1,c>>=-u,u+=s;u>0;o=o*256+r[t+h],h+=w,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=a*256+r[t+h],h+=w,u-=8);if(o===0)o=1-f;else{if(o===l)return a?NaN:(c?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-f}return(c?-1:1)*a*Math.pow(2,o-n)}function co(r,t,e,n,i,o){var a,s,l,f=o*8-i-1,u=(1<<f)-1,h=u>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?t+=w/l:t+=w*Math.pow(2,1-h),t*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a=a+h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;r[e+c]=s&255,c+=g,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;r[e+c]=a&255,c+=g,a/=256,f-=8);r[e+c-g]|=_*128}var ge,ie,ru,En,Ji,yu,ho=z(()=>{p();d();ge=[],ie=[],ru=typeof Uint8Array!="undefined"?Uint8Array:Array,En=!1;m.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;m.poolSize=8192;m._augment=function(r){return r.__proto__=m.prototype,r};m.from=function(r,t,e){return eo(null,r,t,e)};m.kMaxLength=wr();m.TYPED_ARRAY_SUPPORT&&(m.prototype.__proto__=Uint8Array.prototype,m.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&m[Symbol.species]);m.alloc=function(r,t,e){return au(null,r,t,e)};m.allocUnsafe=function(r){return Tn(null,r)};m.allocUnsafeSlow=function(r){return Tn(null,r)};m.isBuffer=Ru;m.compare=function(t,e){if(!_e(t)||!_e(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0};m.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};m.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return m.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=m.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!_e(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i};m.byteLength=ro;m.prototype._isBuffer=!0;m.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Ke(this,e,e+1);return this};m.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Ke(this,e,e+3),Ke(this,e+1,e+2);return this};m.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Ke(this,e,e+7),Ke(this,e+1,e+6),Ke(this,e+2,e+5),Ke(this,e+3,e+4);return this};m.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?oo(this,0,t):lu.apply(this,arguments)};m.prototype.equals=function(t){if(!_e(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:m.compare(this,t)===0};m.prototype.compare=function(t,e,n,i,o){if(!_e(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var a=o-i,s=n-e,l=Math.min(a,s),f=this.slice(i,o),u=t.slice(e,n),h=0;h<l;++h)if(f[h]!==u[h]){a=f[h],s=u[h];break}return a<s?-1:s<a?1:0};m.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};m.prototype.indexOf=function(t,e,n){return no(this,t,e,n,!0)};m.prototype.lastIndexOf=function(t,e,n){return no(this,t,e,n,!1)};m.prototype.write=function(t,e,n,i){if(e===void 0)i="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")i=e,n=this.length,e=0;else if(isFinite(e))e=e|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-e;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return cu(this,t,e,n);case"utf8":case"utf-8":return hu(this,t,e,n);case"ascii":return io(this,t,e,n);case"latin1":case"binary":return pu(this,t,e,n);case"base64":return du(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return mu(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};m.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};Ji=4096;m.prototype.slice=function(t,e){var n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var i;if(m.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=m.prototype;else{var o=e-t;i=new m(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+t]}return i};m.prototype.readUIntLE=function(t,e,n){t=t|0,e=e|0,n||M(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return i};m.prototype.readUIntBE=function(t,e,n){t=t|0,e=e|0,n||M(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i};m.prototype.readUInt8=function(t,e){return e||M(t,1,this.length),this[t]};m.prototype.readUInt16LE=function(t,e){return e||M(t,2,this.length),this[t]|this[t+1]<<8};m.prototype.readUInt16BE=function(t,e){return e||M(t,2,this.length),this[t]<<8|this[t+1]};m.prototype.readUInt32LE=function(t,e){return e||M(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};m.prototype.readUInt32BE=function(t,e){return e||M(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};m.prototype.readIntLE=function(t,e,n){t=t|0,e=e|0,n||M(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i};m.prototype.readIntBE=function(t,e,n){t=t|0,e=e|0,n||M(t,e,this.length);for(var i=e,o=1,a=this[t+--i];i>0&&(o*=256);)a+=this[t+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*e)),a};m.prototype.readInt8=function(t,e){return e||M(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};m.prototype.readInt16LE=function(t,e){e||M(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};m.prototype.readInt16BE=function(t,e){e||M(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};m.prototype.readInt32LE=function(t,e){return e||M(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};m.prototype.readInt32BE=function(t,e){return e||M(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};m.prototype.readFloatLE=function(t,e){return e||M(t,4,this.length),vr(this,t,!0,23,4)};m.prototype.readFloatBE=function(t,e){return e||M(t,4,this.length),vr(this,t,!1,23,4)};m.prototype.readDoubleLE=function(t,e){return e||M(t,8,this.length),vr(this,t,!0,52,8)};m.prototype.readDoubleBE=function(t,e){return e||M(t,8,this.length),vr(this,t,!1,52,8)};m.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;X(this,t,e,n,o,0)}var a=1,s=0;for(this[e]=t&255;++s<n&&(a*=256);)this[e+s]=t/a&255;return e+n};m.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;X(this,t,e,n,o,0)}var a=n-1,s=1;for(this[e+a]=t&255;--a>=0&&(s*=256);)this[e+a]=t/s&255;return e+n};m.prototype.writeUInt8=function(t,e,n){return t=+t,e=e|0,n||X(this,t,e,1,255,0),m.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t&255,e+1};m.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e|0,n||X(this,t,e,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):_r(this,t,e,!0),e+2};m.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e|0,n||X(this,t,e,2,65535,0),m.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):_r(this,t,e,!1),e+2};m.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e|0,n||X(this,t,e,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255):br(this,t,e,!0),e+4};m.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e|0,n||X(this,t,e,4,4294967295,0),m.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):br(this,t,e,!1),e+4};m.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=e|0,!i){var o=Math.pow(2,8*n-1);X(this,t,e,n,o-1,-o)}var a=0,s=1,l=0;for(this[e]=t&255;++a<n&&(s*=256);)t<0&&l===0&&this[e+a-1]!==0&&(l=1),this[e+a]=(t/s>>0)-l&255;return e+n};m.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=e|0,!i){var o=Math.pow(2,8*n-1);X(this,t,e,n,o-1,-o)}var a=n-1,s=1,l=0;for(this[e+a]=t&255;--a>=0&&(s*=256);)t<0&&l===0&&this[e+a+1]!==0&&(l=1),this[e+a]=(t/s>>0)-l&255;return e+n};m.prototype.writeInt8=function(t,e,n){return t=+t,e=e|0,n||X(this,t,e,1,127,-128),m.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=t&255,e+1};m.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e|0,n||X(this,t,e,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):_r(this,t,e,!0),e+2};m.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e|0,n||X(this,t,e,2,32767,-32768),m.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):_r(this,t,e,!1),e+2};m.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e|0,n||X(this,t,e,4,2147483647,-2147483648),m.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):br(this,t,e,!0),e+4};m.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e|0,n||X(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),m.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):br(this,t,e,!1),e+4};m.prototype.writeFloatLE=function(t,e,n){return so(this,t,e,!0,n)};m.prototype.writeFloatBE=function(t,e,n){return so(this,t,e,!1,n)};m.prototype.writeDoubleLE=function(t,e,n){return fo(this,t,e,!0,n)};m.prototype.writeDoubleBE=function(t,e,n){return fo(this,t,e,!1,n)};m.prototype.copy=function(t,e,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n,a;if(this===t&&n<e&&e<i)for(a=o-1;a>=0;--a)t[a+e]=this[a+n];else if(o<1e3||!m.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o};m.prototype.fill=function(t,e,n,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),t.length===1){var o=t.charCodeAt(0);o<256&&(t=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!m.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof t=="number"&&(t=t&255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var a;if(typeof t=="number")for(a=e;a<n;++a)this[a]=t;else{var s=_e(t)?t:gr(new m(t,i).toString()),l=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%l]}return this};yu=/[^+\/0-9A-Za-z-_]/g});var d=z(()=>{ho()});function $t(){if(!yr&&(yr=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto!="undefined"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!yr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return yr($u)}var yr,$u,Sn=z(()=>{p();d();$u=new Uint8Array(16)});var po,mo=z(()=>{p();d();po=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i});function Uu(r){return typeof r=="string"&&po.test(r)}var De,Ut=z(()=>{p();d();mo();De=Uu});function Nu(r){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,e=(Z[r[t+0]]+Z[r[t+1]]+Z[r[t+2]]+Z[r[t+3]]+"-"+Z[r[t+4]]+Z[r[t+5]]+"-"+Z[r[t+6]]+Z[r[t+7]]+"-"+Z[r[t+8]]+Z[r[t+9]]+"-"+Z[r[t+10]]+Z[r[t+11]]+Z[r[t+12]]+Z[r[t+13]]+Z[r[t+14]]+Z[r[t+15]]).toLowerCase();if(!De(e))throw TypeError("Stringified UUID is invalid");return e}var Z,Er,ze,Nt=z(()=>{p();d();Ut();Z=[];for(Er=0;Er<256;++Er)Z.push((Er+256).toString(16).substr(1));ze=Nu});function Fu(r,t,e){var n=t&&e||0,i=t||new Array(16);r=r||{};var o=r.node||wo,a=r.clockseq!==void 0?r.clockseq:Cn;if(o==null||a==null){var s=r.random||(r.rng||$t)();o==null&&(o=wo=[s[0]|1,s[1],s[2],s[3],s[4],s[5]]),a==null&&(a=Cn=(s[6]<<8|s[7])&16383)}var l=r.msecs!==void 0?r.msecs:Date.now(),f=r.nsecs!==void 0?r.nsecs:Rn+1,u=l-kn+(f-Rn)/1e4;if(u<0&&r.clockseq===void 0&&(a=a+1&16383),(u<0||l>kn)&&r.nsecs===void 0&&(f=0),f>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");kn=l,Rn=f,Cn=a,l+=122192928e5;var h=((l&268435455)*1e4+f)%4294967296;i[n++]=h>>>24&255,i[n++]=h>>>16&255,i[n++]=h>>>8&255,i[n++]=h&255;var w=l/4294967296*1e4&268435455;i[n++]=w>>>8&255,i[n++]=w&255,i[n++]=w>>>24&15|16,i[n++]=w>>>16&255,i[n++]=a>>>8|128,i[n++]=a&255;for(var c=0;c<6;++c)i[n+c]=o[c];return t||ze(i)}var wo,Cn,kn,Rn,go,_o=z(()=>{p();d();Sn();Nt();kn=0,Rn=0;go=Fu});function Bu(r){if(!De(r))throw TypeError("Invalid UUID");var t,e=new Uint8Array(16);return e[0]=(t=parseInt(r.slice(0,8),16))>>>24,e[1]=t>>>16&255,e[2]=t>>>8&255,e[3]=t&255,e[4]=(t=parseInt(r.slice(9,13),16))>>>8,e[5]=t&255,e[6]=(t=parseInt(r.slice(14,18),16))>>>8,e[7]=t&255,e[8]=(t=parseInt(r.slice(19,23),16))>>>8,e[9]=t&255,e[10]=(t=parseInt(r.slice(24,36),16))/1099511627776&255,e[11]=t/4294967296&255,e[12]=t>>>24&255,e[13]=t>>>16&255,e[14]=t>>>8&255,e[15]=t&255,e}var Tr,In=z(()=>{p();d();Ut();Tr=Bu});function Ou(r){r=unescape(encodeURIComponent(r));for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e));return t}function Ar(r,t,e){function n(i,o,a,s){if(typeof i=="string"&&(i=Ou(i)),typeof o=="string"&&(o=Tr(o)),o.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var l=new Uint8Array(16+i.length);if(l.set(o),l.set(i,o.length),l=e(l),l[6]=l[6]&15|t,l[8]=l[8]&63|128,a){s=s||0;for(var f=0;f<16;++f)a[s+f]=l[f];return a}return ze(l)}try{n.name=r}catch(i){}return n.DNS=Pu,n.URL=Du,n}var Pu,Du,$n=z(()=>{p();d();Nt();In();Pu="6ba7b810-9dad-11d1-80b4-00c04fd430c8",Du="6ba7b811-9dad-11d1-80b4-00c04fd430c8"});function zu(r){if(typeof r=="string"){var t=unescape(encodeURIComponent(r));r=new Uint8Array(t.length);for(var e=0;e<t.length;++e)r[e]=t.charCodeAt(e)}return Mu(Lu(Vu(r),r.length*8))}function Mu(r){for(var t=[],e=r.length*32,n="0123456789abcdef",i=0;i<e;i+=8){var o=r[i>>5]>>>i%32&255,a=parseInt(n.charAt(o>>>4&15)+n.charAt(o&15),16);t.push(a)}return t}function bo(r){return(r+64>>>9<<4)+14+1}function Lu(r,t){r[t>>5]|=128<<t%32,r[bo(t)-1]=t;for(var e=1732584193,n=-271733879,i=-1732584194,o=271733878,a=0;a<r.length;a+=16){var s=e,l=n,f=i,u=o;e=H(e,n,i,o,r[a],7,-680876936),o=H(o,e,n,i,r[a+1],12,-389564586),i=H(i,o,e,n,r[a+2],17,606105819),n=H(n,i,o,e,r[a+3],22,-1044525330),e=H(e,n,i,o,r[a+4],7,-176418897),o=H(o,e,n,i,r[a+5],12,1200080426),i=H(i,o,e,n,r[a+6],17,-1473231341),n=H(n,i,o,e,r[a+7],22,-45705983),e=H(e,n,i,o,r[a+8],7,1770035416),o=H(o,e,n,i,r[a+9],12,-1958414417),i=H(i,o,e,n,r[a+10],17,-42063),n=H(n,i,o,e,r[a+11],22,-1990404162),e=H(e,n,i,o,r[a+12],7,1804603682),o=H(o,e,n,i,r[a+13],12,-40341101),i=H(i,o,e,n,r[a+14],17,-1502002290),n=H(n,i,o,e,r[a+15],22,1236535329),e=j(e,n,i,o,r[a+1],5,-165796510),o=j(o,e,n,i,r[a+6],9,-1069501632),i=j(i,o,e,n,r[a+11],14,643717713),n=j(n,i,o,e,r[a],20,-373897302),e=j(e,n,i,o,r[a+5],5,-701558691),o=j(o,e,n,i,r[a+10],9,38016083),i=j(i,o,e,n,r[a+15],14,-660478335),n=j(n,i,o,e,r[a+4],20,-405537848),e=j(e,n,i,o,r[a+9],5,568446438),o=j(o,e,n,i,r[a+14],9,-1019803690),i=j(i,o,e,n,r[a+3],14,-187363961),n=j(n,i,o,e,r[a+8],20,1163531501),e=j(e,n,i,o,r[a+13],5,-1444681467),o=j(o,e,n,i,r[a+2],9,-51403784),i=j(i,o,e,n,r[a+7],14,1735328473),n=j(n,i,o,e,r[a+12],20,-1926607734),e=W(e,n,i,o,r[a+5],4,-378558),o=W(o,e,n,i,r[a+8],11,-2022574463),i=W(i,o,e,n,r[a+11],16,1839030562),n=W(n,i,o,e,r[a+14],23,-35309556),e=W(e,n,i,o,r[a+1],4,-1530992060),o=W(o,e,n,i,r[a+4],11,1272893353),i=W(i,o,e,n,r[a+7],16,-155497632),n=W(n,i,o,e,r[a+10],23,-1094730640),e=W(e,n,i,o,r[a+13],4,681279174),o=W(o,e,n,i,r[a],11,-358537222),i=W(i,o,e,n,r[a+3],16,-722521979),n=W(n,i,o,e,r[a+6],23,76029189),e=W(e,n,i,o,r[a+9],4,-640364487),o=W(o,e,n,i,r[a+12],11,-421815835),i=W(i,o,e,n,r[a+15],16,530742520),n=W(n,i,o,e,r[a+2],23,-995338651),e=G(e,n,i,o,r[a],6,-198630844),o=G(o,e,n,i,r[a+7],10,1126891415),i=G(i,o,e,n,r[a+14],15,-1416354905),n=G(n,i,o,e,r[a+5],21,-57434055),e=G(e,n,i,o,r[a+12],6,1700485571),o=G(o,e,n,i,r[a+3],10,-1894986606),i=G(i,o,e,n,r[a+10],15,-1051523),n=G(n,i,o,e,r[a+1],21,-2054922799),e=G(e,n,i,o,r[a+8],6,1873313359),o=G(o,e,n,i,r[a+15],10,-30611744),i=G(i,o,e,n,r[a+6],15,-1560198380),n=G(n,i,o,e,r[a+13],21,1309151649),e=G(e,n,i,o,r[a+4],6,-145523070),o=G(o,e,n,i,r[a+11],10,-1120210379),i=G(i,o,e,n,r[a+2],15,718787259),n=G(n,i,o,e,r[a+9],21,-343485551),e=Me(e,s),n=Me(n,l),i=Me(i,f),o=Me(o,u)}return[e,n,i,o]}function Vu(r){if(r.length===0)return[];for(var t=r.length*8,e=new Uint32Array(bo(t)),n=0;n<t;n+=8)e[n>>5]|=(r[n/8]&255)<<n%32;return e}function Me(r,t){var e=(r&65535)+(t&65535),n=(r>>16)+(t>>16)+(e>>16);return n<<16|e&65535}function Zu(r,t){return r<<t|r>>>32-t}function Sr(r,t,e,n,i,o){return Me(Zu(Me(Me(t,r),Me(n,o)),i),e)}function H(r,t,e,n,i,o,a){return Sr(t&e|~t&n,r,t,i,o,a)}function j(r,t,e,n,i,o,a){return Sr(t&n|e&~n,r,t,i,o,a)}function W(r,t,e,n,i,o,a){return Sr(t^e^n,r,t,i,o,a)}function G(r,t,e,n,i,o,a){return Sr(e^(t|~n),r,t,i,o,a)}var xo,vo=z(()=>{p();d();xo=zu});var Yu,yo,Eo=z(()=>{p();d();$n();vo();Yu=Ar("v3",48,xo),yo=Yu});function Hu(r,t,e){r=r||{};var n=r.random||(r.rng||$t)();if(n[6]=n[6]&15|64,n[8]=n[8]&63|128,t){e=e||0;for(var i=0;i<16;++i)t[e+i]=n[i];return t}return ze(n)}var To,Ao=z(()=>{p();d();Sn();Nt();To=Hu});function ju(r,t,e,n){switch(r){case 0:return t&e^~t&n;case 1:return t^e^n;case 2:return t&e^t&n^e&n;case 3:return t^e^n}}function Un(r,t){return r<<t|r>>>32-t}function Wu(r){var t=[1518500249,1859775393,2400959708,3395469782],e=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof r=="string"){var n=unescape(encodeURIComponent(r));r=[];for(var i=0;i<n.length;++i)r.push(n.charCodeAt(i))}else Array.isArray(r)||(r=Array.prototype.slice.call(r));r.push(128);for(var o=r.length/4+2,a=Math.ceil(o/16),s=new Array(a),l=0;l<a;++l){for(var f=new Uint32Array(16),u=0;u<16;++u)f[u]=r[l*64+u*4]<<24|r[l*64+u*4+1]<<16|r[l*64+u*4+2]<<8|r[l*64+u*4+3];s[l]=f}s[a-1][14]=(r.length-1)*8/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=(r.length-1)*8&4294967295;for(var h=0;h<a;++h){for(var w=new Uint32Array(80),c=0;c<16;++c)w[c]=s[h][c];for(var g=16;g<80;++g)w[g]=Un(w[g-3]^w[g-8]^w[g-14]^w[g-16],1);for(var _=e[0],T=e[1],E=e[2],C=e[3],A=e[4],v=0;v<80;++v){var k=Math.floor(v/20),I=Un(_,5)+ju(k,T,E,C)+A+t[k]+w[v]>>>0;A=C,C=E,E=Un(T,30)>>>0,T=_,_=I}e[0]=e[0]+_>>>0,e[1]=e[1]+T>>>0,e[2]=e[2]+E>>>0,e[3]=e[3]+C>>>0,e[4]=e[4]+A>>>0}return[e[0]>>24&255,e[0]>>16&255,e[0]>>8&255,e[0]&255,e[1]>>24&255,e[1]>>16&255,e[1]>>8&255,e[1]&255,e[2]>>24&255,e[2]>>16&255,e[2]>>8&255,e[2]&255,e[3]>>24&255,e[3]>>16&255,e[3]>>8&255,e[3]&255,e[4]>>24&255,e[4]>>16&255,e[4]>>8&255,e[4]&255]}var So,Co=z(()=>{p();d();So=Wu});var Gu,ko,Ro=z(()=>{p();d();$n();Co();Gu=Ar("v5",80,So),ko=Gu});var Io,$o=z(()=>{p();d();Io="00000000-0000-0000-0000-000000000000"});function Ku(r){if(!De(r))throw TypeError("Invalid UUID");return parseInt(r.substr(14,1),16)}var Uo,No=z(()=>{p();d();Ut();Uo=Ku});var Fo={};Cf(Fo,{NIL:()=>Io,parse:()=>Tr,stringify:()=>ze,v1:()=>go,v3:()=>yo,v4:()=>To,v5:()=>ko,validate:()=>De,version:()=>Uo});var Bo=z(()=>{p();d();_o();Eo();Ao();Ro();$o();No();Ut();Nt();In()});var Oo=dr(Ft=>{p();d();var Cr=(Bo(),kf(Fo)),Nn=(()=>typeof m!="undefined"?r=>m.from(r).toString("base64"):r=>btoa(String.fromCharCode(...r)))(),Xu=(()=>typeof m!="undefined"?r=>m.from(r,"base64"):r=>Uint8Array.from(atob(r),t=>t.charCodeAt(0)))();Ft.encode=function(r){var t=Cr.parse(r),e=Nn(t),n=e.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return n};Ft.decode=function(r){var t=r.replace(/-/g,"+").replace(/_/g,"/")+"==";return Cr.stringify(Xu(t))};Ft.v4=function(){var r=Cr.v4(null,new Uint8Array(16)),t=Nn(r),e=t.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return e};Ft.nice=function(){var r=Cr.v4(null,new Uint8Array(16));r[0]=r[0]&127;var t=Nn(r),e=t.replace(/\+/g,"-").replace(/\//g,"_").substring(0,22);return e}});var Do=dr((id,Po)=>{p();d();Po.exports=Oo()});var Ln=dr((gd,aa)=>{"use strict";p();d();var Mn=class{constructor(t={}){if(!(t.maxSize&&t.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=t.maxSize,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(t,e){this.cache.set(t,e),this._size++,this._size>=this.maxSize&&(this._size=0,this.oldCache=this.cache,this.cache=new Map)}get(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t)){let e=this.oldCache.get(t);return this.oldCache.delete(t),this._set(t,e),e}}set(t,e){return this.cache.has(t)?this.cache.set(t,e):this._set(t,e),this}has(t){return this.cache.has(t)||this.oldCache.has(t)}peek(t){if(this.cache.has(t))return this.cache.get(t);if(this.oldCache.has(t))return this.oldCache.get(t)}delete(t){let e=this.cache.delete(t);return e&&this._size--,this.oldCache.delete(t)||e}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[t]of this)yield t}*values(){for(let[,t]of this)yield t}*[Symbol.iterator](){for(let t of this.cache)yield t;for(let t of this.oldCache){let[e]=t;this.cache.has(e)||(yield t)}}get size(){let t=0;for(let e of this.oldCache.keys())this.cache.has(e)||t++;return this._size+t}};aa.exports=Mn});var xi=dr(()=>{p();d()});p();d();p();d();var bf=It(Do(),1);p();d();p();d();p();d();var kr=BigInt(32);function zo(r,t,e){let n=Number(!!e),i=Number(!e);return BigInt(r.getInt32(t,e)*i+r.getInt32(t+4,e)*n)<<kr|BigInt(r.getUint32(t,e)*n+r.getUint32(t+4,e)*i)}function Mo(r,t,e){let n=r.getUint32(t,e),i=r.getUint32(t+4,e),o=Number(!!e),a=Number(!e);return BigInt(n*a+i*o)<<kr|BigInt(n*o+i*a)}function Lo(r,t,e,n){let i=Number(e>>kr),o=Number(e&BigInt(4294967295));n?(r.setInt32(t+4,i,n),r.setUint32(t,o,n)):(r.setInt32(t,i,n),r.setUint32(t+4,o,n))}function Vo(r,t,e,n){let i=Number(e>>kr),o=Number(e&BigInt(4294967295));n?(r.setUint32(t+4,i,n),r.setUint32(t,o,n)):(r.setUint32(t,i,n),r.setUint32(t+4,o,n))}"getBigInt64"in DataView||(DataView.prototype.getBigInt64=function(r,t){return zo(this,r,t)});"getBigUint64"in DataView||(DataView.prototype.getBigUint64=function(r,t){return Mo(this,r,t)});"setBigInt64"in DataView||(DataView.prototype.setBigInt64=function(r,t,e){Lo(this,r,t,e)});"setBigUint64"in DataView||(DataView.prototype.setBigUint64=function(r,t,e){Vo(this,r,t,e)});p();d();p();d();p();d();var be=[],oe=[],qu=typeof Uint8Array!="undefined"?Uint8Array:Array,Bn=!1;function jo(){Bn=!0;for(var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=0,e=r.length;t<e;++t)be[t]=r[t],oe[r.charCodeAt(t)]=t;oe["-".charCodeAt(0)]=62,oe["_".charCodeAt(0)]=63}function Ju(r){Bn||jo();var t,e,n,i,o,a,s=r.length;if(s%4>0)throw new Error("Invalid string. Length must be a multiple of 4");o=r[s-2]==="="?2:r[s-1]==="="?1:0,a=new qu(s*3/4-o),n=o>0?s-4:s;var l=0;for(t=0,e=0;t<n;t+=4,e+=3)i=oe[r.charCodeAt(t)]<<18|oe[r.charCodeAt(t+1)]<<12|oe[r.charCodeAt(t+2)]<<6|oe[r.charCodeAt(t+3)],a[l++]=i>>16&255,a[l++]=i>>8&255,a[l++]=i&255;return o===2?(i=oe[r.charCodeAt(t)]<<2|oe[r.charCodeAt(t+1)]>>4,a[l++]=i&255):o===1&&(i=oe[r.charCodeAt(t)]<<10|oe[r.charCodeAt(t+1)]<<4|oe[r.charCodeAt(t+2)]>>2,a[l++]=i>>8&255,a[l++]=i&255),a}function Qu(r){return be[r>>18&63]+be[r>>12&63]+be[r>>6&63]+be[r&63]}function el(r,t,e){for(var n,i=[],o=t;o<e;o+=3)n=(r[o]<<16)+(r[o+1]<<8)+r[o+2],i.push(Qu(n));return i.join("")}function Zo(r){Bn||jo();for(var t,e=r.length,n=e%3,i="",o=[],a=16383,s=0,l=e-n;s<l;s+=a)o.push(el(r,s,s+a>l?l:s+a));return n===1?(t=r[e-1],i+=be[t>>2],i+=be[t<<4&63],i+="=="):n===2&&(t=(r[e-2]<<8)+r[e-1],i+=be[t>>10],i+=be[t>>4&63],i+=be[t<<2&63],i+="="),o.push(i),o.join("")}function $r(r,t,e,n,i){var o,a,s=i*8-n-1,l=(1<<s)-1,f=l>>1,u=-7,h=e?i-1:0,w=e?-1:1,c=r[t+h];for(h+=w,o=c&(1<<-u)-1,c>>=-u,u+=s;u>0;o=o*256+r[t+h],h+=w,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=n;u>0;a=a*256+r[t+h],h+=w,u-=8);if(o===0)o=1-f;else{if(o===l)return a?NaN:(c?-1:1)*(1/0);a=a+Math.pow(2,n),o=o-f}return(c?-1:1)*a*Math.pow(2,o-n)}function Wo(r,t,e,n,i,o){var a,s,l,f=o*8-i-1,u=(1<<f)-1,h=u>>1,w=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,c=n?0:o-1,g=n?1:-1,_=t<0||t===0&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+h>=1?t+=w/l:t+=w*Math.pow(2,1-h),t*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a=a+h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;r[e+c]=s&255,c+=g,s/=256,i-=8);for(a=a<<i|s,f+=i;f>0;r[e+c]=a&255,c+=g,a/=256,f-=8);r[e+c-g]|=_*128}var tl={}.toString,Go=Array.isArray||function(r){return tl.call(r)=="[object Array]"};var rl=50;x.TYPED_ARRAY_SUPPORT=globalThis.TYPED_ARRAY_SUPPORT!==void 0?globalThis.TYPED_ARRAY_SUPPORT:!0;var sd=Rr();function Rr(){return x.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function ke(r,t){if(Rr()<t)throw new RangeError("Invalid typed array length");return x.TYPED_ARRAY_SUPPORT?(r=new Uint8Array(t),r.__proto__=x.prototype):(r===null&&(r=new x(t)),r.length=t),r}function x(r,t,e){if(!x.TYPED_ARRAY_SUPPORT&&!(this instanceof x))return new x(r,t,e);if(typeof r=="number"){if(typeof t=="string")throw new Error("If encoding is specified then the first argument must be a string");return On(this,r)}return Ko(this,r,t,e)}x.poolSize=8192;x._augment=function(r){return r.__proto__=x.prototype,r};function Ko(r,t,e,n){if(typeof t=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&t instanceof ArrayBuffer?ol(r,t,e,n):typeof t=="string"?il(r,t,e):al(r,t)}x.from=function(r,t,e){return Ko(null,r,t,e)};x.TYPED_ARRAY_SUPPORT&&(x.prototype.__proto__=Uint8Array.prototype,x.__proto__=Uint8Array);function Xo(r){if(typeof r!="number")throw new TypeError('"size" argument must be a number');if(r<0)throw new RangeError('"size" argument must not be negative')}function nl(r,t,e,n){return Xo(t),t<=0?ke(r,t):e!==void 0?typeof n=="string"?ke(r,t).fill(e,n):ke(r,t).fill(e):ke(r,t)}x.alloc=function(r,t,e){return nl(null,r,t,e)};function On(r,t){if(Xo(t),r=ke(r,t<0?0:Pn(t)|0),!x.TYPED_ARRAY_SUPPORT)for(var e=0;e<t;++e)r[e]=0;return r}x.allocUnsafe=function(r){return On(null,r)};x.allocUnsafeSlow=function(r){return On(null,r)};function il(r,t,e){if((typeof e!="string"||e==="")&&(e="utf8"),!x.isEncoding(e))throw new TypeError('"encoding" must be a valid string encoding');var n=qo(t,e)|0;r=ke(r,n);var i=r.write(t,e);return i!==n&&(r=r.slice(0,i)),r}function Fn(r,t){var e=t.length<0?0:Pn(t.length)|0;r=ke(r,e);for(var n=0;n<e;n+=1)r[n]=t[n]&255;return r}function ol(r,t,e,n){if(t.byteLength,e<0||t.byteLength<e)throw new RangeError("'offset' is out of bounds");if(t.byteLength<e+(n||0))throw new RangeError("'length' is out of bounds");return e===void 0&&n===void 0?t=new Uint8Array(t):n===void 0?t=new Uint8Array(t,e):t=new Uint8Array(t,e,n),x.TYPED_ARRAY_SUPPORT?(r=t,r.__proto__=x.prototype):r=Fn(r,t),r}function al(r,t){if(xe(t)){var e=Pn(t.length)|0;return r=ke(r,e),r.length===0||t.copy(r,0,0,e),r}if(t){if(typeof ArrayBuffer!="undefined"&&t.buffer instanceof ArrayBuffer||"length"in t)return typeof t.length!="number"||Al(t.length)?ke(r,0):Fn(r,t);if(t.type==="Buffer"&&Go(t.data))return Fn(r,t.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function Pn(r){if(r>=Rr())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Rr().toString(16)+" bytes");return r|0}x.isBuffer=Sl;function xe(r){return!!(r!=null&&r._isBuffer)}x.compare=function(t,e){if(!xe(t)||!xe(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,i=e.length,o=0,a=Math.min(n,i);o<a;++o)if(t[o]!==e[o]){n=t[o],i=e[o];break}return n<i?-1:i<n?1:0};x.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}};x.concat=function(t,e){if(!Go(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return x.alloc(0);var n;if(e===void 0)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var i=x.allocUnsafe(e),o=0;for(n=0;n<t.length;++n){var a=t[n];if(!xe(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(i,o),o+=a.length}return i};function qo(r,t){if(xe(r))return r.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(r)||r instanceof ArrayBuffer))return r.byteLength;typeof r!="string"&&(r=""+r);var e=r.length;if(e===0)return 0;for(var n=!1;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":case void 0:return Ir(r).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return ia(r).length;default:if(n)return Ir(r).length;t=(""+t).toLowerCase(),n=!0}}x.byteLength=qo;function sl(r,t,e){var n=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(r||(r="utf8");;)switch(r){case"hex":return gl(this,t,e);case"utf8":case"utf-8":return ea(this,t,e);case"ascii":return ml(this,t,e);case"latin1":case"binary":return wl(this,t,e);case"base64":return pl(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return _l(this,t,e);default:if(n)throw new TypeError("Unknown encoding: "+r);r=(r+"").toLowerCase(),n=!0}}x.prototype._isBuffer=!0;function Xe(r,t,e){var n=r[t];r[t]=r[e],r[e]=n}x.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)Xe(this,e,e+1);return this};x.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)Xe(this,e,e+3),Xe(this,e+1,e+2);return this};x.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)Xe(this,e,e+7),Xe(this,e+1,e+6),Xe(this,e+2,e+5),Xe(this,e+3,e+4);return this};x.prototype.toString=function(){var t=this.length|0;return t===0?"":arguments.length===0?ea(this,0,t):sl.apply(this,arguments)};x.prototype.equals=function(t){if(!xe(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:x.compare(this,t)===0};x.prototype.inspect=function(){var t="",e=rl;return this.length>0&&(t=this.toString("hex",0,e).match(/.{2}/g).join(" "),this.length>e&&(t+=" ... ")),"<Buffer "+t+">"};x.prototype.compare=function(t,e,n,i,o){if(!xe(t))throw new TypeError("Argument must be a Buffer");if(e===void 0&&(e=0),n===void 0&&(n=t?t.length:0),i===void 0&&(i=0),o===void 0&&(o=this.length),e<0||n>t.length||i<0||o>this.length)throw new RangeError("out of range index");if(i>=o&&e>=n)return 0;if(i>=o)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,i>>>=0,o>>>=0,this===t)return 0;for(var a=o-i,s=n-e,l=Math.min(a,s),f=this.slice(i,o),u=t.slice(e,n),h=0;h<l;++h)if(f[h]!==u[h]){a=f[h],s=u[h];break}return a<s?-1:s<a?1:0};function Jo(r,t,e,n,i){if(r.length===0)return-1;if(typeof e=="string"?(n=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,isNaN(e)&&(e=i?0:r.length-1),e<0&&(e=r.length+e),e>=r.length){if(i)return-1;e=r.length-1}else if(e<0)if(i)e=0;else return-1;if(typeof t=="string"&&(t=x.from(t,n)),xe(t))return t.length===0?-1:Yo(r,t,e,n,i);if(typeof t=="number")return t=t&255,x.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?i?Uint8Array.prototype.indexOf.call(r,t,e):Uint8Array.prototype.lastIndexOf.call(r,t,e):Yo(r,[t],e,n,i);throw new TypeError("val must be string, number or Buffer")}function Yo(r,t,e,n,i){var o=1,a=r.length,s=t.length;if(n!==void 0&&(n=String(n).toLowerCase(),n==="ucs2"||n==="ucs-2"||n==="utf16le"||n==="utf-16le")){if(r.length<2||t.length<2)return-1;o=2,a/=2,s/=2,e/=2}function l(c,g){return o===1?c[g]:c.readUInt16BE(g*o)}var f;if(i){var u=-1;for(f=e;f<a;f++)if(l(r,f)===l(t,u===-1?0:f-u)){if(u===-1&&(u=f),f-u+1===s)return u*o}else u!==-1&&(f-=f-u),u=-1}else for(e+s>a&&(e=a-s),f=e;f>=0;f--){for(var h=!0,w=0;w<s;w++)if(l(r,f+w)!==l(t,w)){h=!1;break}if(h)return f}return-1}x.prototype.includes=function(t,e,n){return this.indexOf(t,e,n)!==-1};x.prototype.indexOf=function(t,e,n){return Jo(this,t,e,n,!0)};x.prototype.lastIndexOf=function(t,e,n){return Jo(this,t,e,n,!1)};function fl(r,t,e,n){e=Number(e)||0;var i=r.length-e;n?(n=Number(n),n>i&&(n=i)):n=i;var o=t.length;if(o%2!==0)throw new TypeError("Invalid hex string");n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s=parseInt(t.substr(a*2,2),16);if(isNaN(s))return a;r[e+a]=s}return a}function ul(r,t,e,n){return Fr(Ir(t,r.length-e),r,e,n)}function Qo(r,t,e,n){return Fr(El(t),r,e,n)}function ll(r,t,e,n){return Qo(r,t,e,n)}function cl(r,t,e,n){return Fr(ia(t),r,e,n)}function hl(r,t,e,n){return Fr(Tl(t,r.length-e),r,e,n)}x.prototype.write=function(t,e,n,i){if(e===void 0)i="utf8",n=this.length,e=0;else if(n===void 0&&typeof e=="string")i=e,n=this.length,e=0;else if(isFinite(e))e=e|0,isFinite(n)?(n=n|0,i===void 0&&(i="utf8")):(i=n,n=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var o=this.length-e;if((n===void 0||n>o)&&(n=o),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");i||(i="utf8");for(var a=!1;;)switch(i){case"hex":return fl(this,t,e,n);case"utf8":case"utf-8":return ul(this,t,e,n);case"ascii":return Qo(this,t,e,n);case"latin1":case"binary":return ll(this,t,e,n);case"base64":return cl(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return hl(this,t,e,n);default:if(a)throw new TypeError("Unknown encoding: "+i);i=(""+i).toLowerCase(),a=!0}};x.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function pl(r,t,e){return t===0&&e===r.length?Zo(r):Zo(r.slice(t,e))}function ea(r,t,e){e=Math.min(r.length,e);for(var n=[],i=t;i<e;){var o=r[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=e){var l,f,u,h;switch(s){case 1:o<128&&(a=o);break;case 2:l=r[i+1],(l&192)===128&&(h=(o&31)<<6|l&63,h>127&&(a=h));break;case 3:l=r[i+1],f=r[i+2],(l&192)===128&&(f&192)===128&&(h=(o&15)<<12|(l&63)<<6|f&63,h>2047&&(h<55296||h>57343)&&(a=h));break;case 4:l=r[i+1],f=r[i+2],u=r[i+3],(l&192)===128&&(f&192)===128&&(u&192)===128&&(h=(o&15)<<18|(l&63)<<12|(f&63)<<6|u&63,h>65535&&h<1114112&&(a=h))}}a===null?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|a&1023),n.push(a),i+=s}return dl(n)}var Ho=4096;function dl(r){var t=r.length;if(t<=Ho)return String.fromCharCode.apply(String,r);for(var e="",n=0;n<t;)e+=String.fromCharCode.apply(String,r.slice(n,n+=Ho));return e}function ml(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]&127);return n}function wl(r,t,e){var n="";e=Math.min(r.length,e);for(var i=t;i<e;++i)n+=String.fromCharCode(r[i]);return n}function gl(r,t,e){var n=r.length;(!t||t<0)&&(t=0),(!e||e<0||e>n)&&(e=n);for(var i="",o=t;o<e;++o)i+=yl(r[o]);return i}function _l(r,t,e){for(var n=r.slice(t,e),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+n[o+1]*256);return i}x.prototype.slice=function(t,e){var n=this.length;t=~~t,e=e===void 0?n:~~e,t<0?(t+=n,t<0&&(t=0)):t>n&&(t=n),e<0?(e+=n,e<0&&(e=0)):e>n&&(e=n),e<t&&(e=t);var i;if(x.TYPED_ARRAY_SUPPORT)i=this.subarray(t,e),i.__proto__=x.prototype;else{var o=e-t;i=new x(o,void 0);for(var a=0;a<o;++a)i[a]=this[a+t]}return i};function L(r,t,e){if(r%1!==0||r<0)throw new RangeError("offset is not uint");if(r+t>e)throw new RangeError("Trying to access beyond buffer length")}x.prototype.readUIntLE=function(t,e,n){t=t|0,e=e|0,n||L(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return i};x.prototype.readUIntBE=function(t,e,n){t=t|0,e=e|0,n||L(t,e,this.length);for(var i=this[t+--e],o=1;e>0&&(o*=256);)i+=this[t+--e]*o;return i};x.prototype.readUInt8=function(t,e){return e||L(t,1,this.length),this[t]};x.prototype.readUInt16LE=function(t,e){return e||L(t,2,this.length),this[t]|this[t+1]<<8};x.prototype.readUInt16BE=function(t,e){return e||L(t,2,this.length),this[t]<<8|this[t+1]};x.prototype.readUInt32LE=function(t,e){return e||L(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216};x.prototype.readUInt32BE=function(t,e){return e||L(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])};x.prototype.readIntLE=function(t,e,n){t=t|0,e=e|0,n||L(t,e,this.length);for(var i=this[t],o=1,a=0;++a<e&&(o*=256);)i+=this[t+a]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*e)),i};x.prototype.readIntBE=function(t,e,n){t=t|0,e=e|0,n||L(t,e,this.length);for(var i=e,o=1,a=this[t+--i];i>0&&(o*=256);)a+=this[t+--i]*o;return o*=128,a>=o&&(a-=Math.pow(2,8*e)),a};x.prototype.readInt8=function(t,e){return e||L(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]};x.prototype.readInt16LE=function(t,e){e||L(t,2,this.length);var n=this[t]|this[t+1]<<8;return n&32768?n|4294901760:n};x.prototype.readInt16BE=function(t,e){e||L(t,2,this.length);var n=this[t+1]|this[t]<<8;return n&32768?n|4294901760:n};x.prototype.readInt32LE=function(t,e){return e||L(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24};x.prototype.readInt32BE=function(t,e){return e||L(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]};x.prototype.readFloatLE=function(t,e){return e||L(t,4,this.length),$r(this,t,!0,23,4)};x.prototype.readFloatBE=function(t,e){return e||L(t,4,this.length),$r(this,t,!1,23,4)};x.prototype.readDoubleLE=function(t,e){return e||L(t,8,this.length),$r(this,t,!0,52,8)};x.prototype.readDoubleBE=function(t,e){return e||L(t,8,this.length),$r(this,t,!1,52,8)};function q(r,t,e,n,i,o){if(!xe(r))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(e+n>r.length)throw new RangeError("Index out of range")}x.prototype.writeUIntLE=function(t,e,n,i){if(t=+t,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;q(this,t,e,n,o,0)}var a=1,s=0;for(this[e]=t&255;++s<n&&(a*=256);)this[e+s]=t/a&255;return e+n};x.prototype.writeUIntBE=function(t,e,n,i){if(t=+t,e=e|0,n=n|0,!i){var o=Math.pow(2,8*n)-1;q(this,t,e,n,o,0)}var a=n-1,s=1;for(this[e+a]=t&255;--a>=0&&(s*=256);)this[e+a]=t/s&255;return e+n};x.prototype.writeUInt8=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,1,255,0),x.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=t&255,e+1};function Ur(r,t,e,n){t<0&&(t=65535+t+1);for(var i=0,o=Math.min(r.length-e,2);i<o;++i)r[e+i]=(t&255<<8*(n?i:1-i))>>>(n?i:1-i)*8}x.prototype.writeUInt16LE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,2,65535,0),x.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):Ur(this,t,e,!0),e+2};x.prototype.writeUInt16BE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,2,65535,0),x.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):Ur(this,t,e,!1),e+2};function Nr(r,t,e,n){t<0&&(t=4294967295+t+1);for(var i=0,o=Math.min(r.length-e,4);i<o;++i)r[e+i]=t>>>(n?i:3-i)*8&255}x.prototype.writeUInt32LE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,4,4294967295,0),x.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255):Nr(this,t,e,!0),e+4};x.prototype.writeUInt32BE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,4,4294967295,0),x.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):Nr(this,t,e,!1),e+4};x.prototype.writeIntLE=function(t,e,n,i){if(t=+t,e=e|0,!i){var o=Math.pow(2,8*n-1);q(this,t,e,n,o-1,-o)}var a=0,s=1,l=0;for(this[e]=t&255;++a<n&&(s*=256);)t<0&&l===0&&this[e+a-1]!==0&&(l=1),this[e+a]=(t/s>>0)-l&255;return e+n};x.prototype.writeIntBE=function(t,e,n,i){if(t=+t,e=e|0,!i){var o=Math.pow(2,8*n-1);q(this,t,e,n,o-1,-o)}var a=n-1,s=1,l=0;for(this[e+a]=t&255;--a>=0&&(s*=256);)t<0&&l===0&&this[e+a+1]!==0&&(l=1),this[e+a]=(t/s>>0)-l&255;return e+n};x.prototype.writeInt8=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,1,127,-128),x.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=t&255,e+1};x.prototype.writeInt16LE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,2,32767,-32768),x.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8):Ur(this,t,e,!0),e+2};x.prototype.writeInt16BE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,2,32767,-32768),x.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=t&255):Ur(this,t,e,!1),e+2};x.prototype.writeInt32LE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,4,2147483647,-2147483648),x.TYPED_ARRAY_SUPPORT?(this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):Nr(this,t,e,!0),e+4};x.prototype.writeInt32BE=function(t,e,n){return t=+t,e=e|0,n||q(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),x.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255):Nr(this,t,e,!1),e+4};function ta(r,t,e,n,i,o){if(e+n>r.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function ra(r,t,e,n,i){return i||ta(r,t,e,4),Wo(r,t,e,n,23,4),e+4}x.prototype.writeFloatLE=function(t,e,n){return ra(this,t,e,!0,n)};x.prototype.writeFloatBE=function(t,e,n){return ra(this,t,e,!1,n)};function na(r,t,e,n,i){return i||ta(r,t,e,8),Wo(r,t,e,n,52,8),e+8}x.prototype.writeDoubleLE=function(t,e,n){return na(this,t,e,!0,n)};x.prototype.writeDoubleBE=function(t,e,n){return na(this,t,e,!1,n)};x.prototype.copy=function(t,e,n,i){if(n||(n=0),!i&&i!==0&&(i=this.length),e>=t.length&&(e=t.length),e||(e=0),i>0&&i<n&&(i=n),i===n||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(i<0)throw new RangeError("sourceEnd out of bounds");i>this.length&&(i=this.length),t.length-e<i-n&&(i=t.length-e+n);var o=i-n,a;if(this===t&&n<e&&e<i)for(a=o-1;a>=0;--a)t[a+e]=this[a+n];else if(o<1e3||!x.TYPED_ARRAY_SUPPORT)for(a=0;a<o;++a)t[a+e]=this[a+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+o),e);return o};x.prototype.fill=function(t,e,n,i){if(typeof t=="string"){if(typeof e=="string"?(i=e,e=0,n=this.length):typeof n=="string"&&(i=n,n=this.length),t.length===1){var o=t.charCodeAt(0);o<256&&(t=o)}if(i!==void 0&&typeof i!="string")throw new TypeError("encoding must be a string");if(typeof i=="string"&&!x.isEncoding(i))throw new TypeError("Unknown encoding: "+i)}else typeof t=="number"&&(t=t&255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e=e>>>0,n=n===void 0?this.length:n>>>0,t||(t=0);var a;if(typeof t=="number")for(a=e;a<n;++a)this[a]=t;else{var s=xe(t)?t:Ir(new x(t,i).toString()),l=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%l]}return this};var bl=/[^+\/0-9A-Za-z-_]/g;function xl(r){if(r=vl(r).replace(bl,""),r.length<2)return"";for(;r.length%4!==0;)r=r+"=";return r}function vl(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function yl(r){return r<16?"0"+r.toString(16):r.toString(16)}function Ir(r,t){t=t||1/0;for(var e,n=r.length,i=null,o=[],a=0;a<n;++a){if(e=r.charCodeAt(a),e>55295&&e<57344){if(!i){if(e>56319){(t-=3)>-1&&o.push(239,191,189);continue}else if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=e;continue}if(e<56320){(t-=3)>-1&&o.push(239,191,189),i=e;continue}e=(i-55296<<10|e-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,e<128){if((t-=1)<0)break;o.push(e)}else if(e<2048){if((t-=2)<0)break;o.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;o.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;o.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return o}function El(r){for(var t=[],e=0;e<r.length;++e)t.push(r.charCodeAt(e)&255);return t}function Tl(r,t){for(var e,n,i,o=[],a=0;a<r.length&&!((t-=2)<0);++a)e=r.charCodeAt(a),n=e>>8,i=e%256,o.push(i),o.push(n);return o}function ia(r){return Ju(xl(r))}function Fr(r,t,e,n){for(var i=0;i<n&&!(i+e>=t.length||i>=r.length);++i)t[i+e]=r[i];return i}function Al(r){return r!==r}function Sl(r){return r!=null&&(!!r._isBuffer||oa(r)||Cl(r))}function oa(r){return!!r.constructor&&typeof r.constructor.isBuffer=="function"&&r.constructor.isBuffer(r)}function Cl(r){return typeof r.readFloatLE=="function"&&typeof r.slice=="function"&&oa(r.slice(0,0))}p();d();var Dn=class{constructor(t,e){this.code="",this.scopes=[["vars"]],this.bitFields=[],this.tmpVariableCount=0,this.references=new Map,this.imports=[],this.reverseImports=new Map,this.useContextVariables=!1,this.importPath=t,this.useContextVariables=e}generateVariable(t){let e=[...this.scopes[this.scopes.length-1]];return t&&e.push(t),e.join(".")}generateOption(t){switch(typeof t){case"number":return t.toString();case"string":return this.generateVariable(t);case"function":return`${this.addImport(t)}.call(${this.generateVariable()}, vars)`}}generateError(t){this.pushCode(`throw new Error(${t});`)}generateTmpVariable(){return"$tmp"+this.tmpVariableCount++}pushCode(t){this.code+=t+`
`}pushPath(t){t&&this.scopes[this.scopes.length-1].push(t)}popPath(t){t&&this.scopes[this.scopes.length-1].pop()}pushScope(t){this.scopes.push([t])}popScope(){this.scopes.pop()}addImport(t){if(!this.importPath)return`(${t})`;let e=this.reverseImports.get(t);return e||(e=this.imports.push(t)-1,this.reverseImports.set(t,e)),`${this.importPath}[${e}]`}addReference(t){this.references.has(t)||this.references.set(t,{resolved:!1,requested:!1})}markResolved(t){let e=this.references.get(t);e&&(e.resolved=!0)}markRequested(t){t.forEach(e=>{let n=this.references.get(e);n&&(n.requested=!0)})}getUnresolvedReferences(){return Array.from(this.references).filter(([t,e])=>!e.resolved&&!e.requested).map(([t,e])=>t)}},pe=new Map,qe="___parser_",de={uint8:1,uint16le:2,uint16be:2,uint32le:4,uint32be:4,int8:1,int16le:2,int16be:2,int32le:4,int32be:4,int64be:8,int64le:8,uint64be:8,uint64le:8,floatle:4,floatbe:4,doublele:8,doublebe:8},Br={uint8:"Uint8",uint16le:"Uint16",uint16be:"Uint16",uint32le:"Uint32",uint32be:"Uint32",int8:"Int8",int16le:"Int16",int16be:"Int16",int32le:"Int32",int32be:"Int32",int64be:"BigInt64",int64le:"BigInt64",uint64be:"BigUint64",uint64le:"BigUint64",floatle:"Float32",floatbe:"Float32",doublele:"Float64",doublebe:"Float64"},Or={uint8:!1,uint16le:!0,uint16be:!1,uint32le:!0,uint32be:!1,int8:!1,int16le:!0,int16be:!1,int32le:!0,int32be:!1,int64be:!1,int64le:!0,uint64be:!1,uint64le:!0,floatle:!0,floatbe:!1,doublele:!0,doublebe:!1},U=class{constructor(){this.varName="",this.type="",this.options={},this.endian="be",this.useContextVariables=!1}static start(){return new U}primitiveGenerateN(t,e){let n=Br[t],i=Or[t];e.pushCode(`${e.generateVariable(this.varName)} = dataView.get${n}(offset, ${i});`),e.pushCode(`offset += ${de[t]};`)}primitiveN(t,e,n){return this.setNextParser(t,e,n)}useThisEndian(t){return t+this.endian.toLowerCase()}uint8(t,e={}){return this.primitiveN("uint8",t,e)}uint16(t,e={}){return this.primitiveN(this.useThisEndian("uint16"),t,e)}uint16le(t,e={}){return this.primitiveN("uint16le",t,e)}uint16be(t,e={}){return this.primitiveN("uint16be",t,e)}uint32(t,e={}){return this.primitiveN(this.useThisEndian("uint32"),t,e)}uint32le(t,e={}){return this.primitiveN("uint32le",t,e)}uint32be(t,e={}){return this.primitiveN("uint32be",t,e)}int8(t,e={}){return this.primitiveN("int8",t,e)}int16(t,e={}){return this.primitiveN(this.useThisEndian("int16"),t,e)}int16le(t,e={}){return this.primitiveN("int16le",t,e)}int16be(t,e={}){return this.primitiveN("int16be",t,e)}int32(t,e={}){return this.primitiveN(this.useThisEndian("int32"),t,e)}int32le(t,e={}){return this.primitiveN("int32le",t,e)}int32be(t,e={}){return this.primitiveN("int32be",t,e)}bigIntVersionCheck(){if(!DataView.prototype.getBigInt64)throw new Error("BigInt64 is unsupported on this runtime")}int64(t,e={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("int64"),t,e)}int64be(t,e={}){return this.bigIntVersionCheck(),this.primitiveN("int64be",t,e)}int64le(t,e={}){return this.bigIntVersionCheck(),this.primitiveN("int64le",t,e)}uint64(t,e={}){return this.bigIntVersionCheck(),this.primitiveN(this.useThisEndian("uint64"),t,e)}uint64be(t,e={}){return this.bigIntVersionCheck(),this.primitiveN("uint64be",t,e)}uint64le(t,e={}){return this.bigIntVersionCheck(),this.primitiveN("uint64le",t,e)}floatle(t,e={}){return this.primitiveN("floatle",t,e)}floatbe(t,e={}){return this.primitiveN("floatbe",t,e)}doublele(t,e={}){return this.primitiveN("doublele",t,e)}doublebe(t,e={}){return this.primitiveN("doublebe",t,e)}bitN(t,e,n){return n.length=t,this.setNextParser("bit",e,n)}bit1(t,e={}){return this.bitN(1,t,e)}bit2(t,e={}){return this.bitN(2,t,e)}bit3(t,e={}){return this.bitN(3,t,e)}bit4(t,e={}){return this.bitN(4,t,e)}bit5(t,e={}){return this.bitN(5,t,e)}bit6(t,e={}){return this.bitN(6,t,e)}bit7(t,e={}){return this.bitN(7,t,e)}bit8(t,e={}){return this.bitN(8,t,e)}bit9(t,e={}){return this.bitN(9,t,e)}bit10(t,e={}){return this.bitN(10,t,e)}bit11(t,e={}){return this.bitN(11,t,e)}bit12(t,e={}){return this.bitN(12,t,e)}bit13(t,e={}){return this.bitN(13,t,e)}bit14(t,e={}){return this.bitN(14,t,e)}bit15(t,e={}){return this.bitN(15,t,e)}bit16(t,e={}){return this.bitN(16,t,e)}bit17(t,e={}){return this.bitN(17,t,e)}bit18(t,e={}){return this.bitN(18,t,e)}bit19(t,e={}){return this.bitN(19,t,e)}bit20(t,e={}){return this.bitN(20,t,e)}bit21(t,e={}){return this.bitN(21,t,e)}bit22(t,e={}){return this.bitN(22,t,e)}bit23(t,e={}){return this.bitN(23,t,e)}bit24(t,e={}){return this.bitN(24,t,e)}bit25(t,e={}){return this.bitN(25,t,e)}bit26(t,e={}){return this.bitN(26,t,e)}bit27(t,e={}){return this.bitN(27,t,e)}bit28(t,e={}){return this.bitN(28,t,e)}bit29(t,e={}){return this.bitN(29,t,e)}bit30(t,e={}){return this.bitN(30,t,e)}bit31(t,e={}){return this.bitN(31,t,e)}bit32(t,e={}){return this.bitN(32,t,e)}namely(t){return pe.set(t,this),this.alias=t,this}skip(t,e={}){return this.seek(t,e)}seek(t,e={}){if(e.assert)throw new Error("assert option on seek is not allowed.");return this.setNextParser("seek","",{length:t})}string(t,e){if(!e.zeroTerminated&&!e.length&&!e.greedy)throw new Error("One of length, zeroTerminated, or greedy must be defined for string.");if((e.zeroTerminated||e.length)&&e.greedy)throw new Error("greedy is mutually exclusive with length and zeroTerminated for string.");if(e.stripNull&&!(e.length||e.greedy))throw new Error("length or greedy must be defined if stripNull is enabled.");return e.encoding=e.encoding||"utf8",this.setNextParser("string",t,e)}buffer(t,e){if(!e.length&&!e.readUntil)throw new Error("length or readUntil must be defined for buffer.");return this.setNextParser("buffer",t,e)}wrapped(t,e){if(typeof e!="object"&&typeof t=="object"&&(e=t,t=""),!e||!e.wrapper||!e.type)throw new Error("Both wrapper and type must be defined for wrapped.");if(!e.length&&!e.readUntil)throw new Error("length or readUntil must be defined for wrapped.");return this.setNextParser("wrapper",t,e)}array(t,e){if(!e.readUntil&&!e.length&&!e.lengthInBytes)throw new Error("One of readUntil, length and lengthInBytes must be defined for array.");if(!e.type)throw new Error("type is required for array.");if(typeof e.type=="string"&&!pe.has(e.type)&&!(e.type in de))throw new Error(`Array element type "${e.type}" is unkown.`);return this.setNextParser("array",t,e)}choice(t,e){if(typeof e!="object"&&typeof t=="object"&&(e=t,t=""),!e)throw new Error("tag and choices are are required for choice.");if(!e.tag)throw new Error("tag is requird for choice.");if(!e.choices)throw new Error("choices is required for choice.");for(let n in e.choices){let i=parseInt(n,10),o=e.choices[i];if(isNaN(i))throw new Error(`Choice key "${n}" is not a number.`);if(typeof o=="string"&&!pe.has(o)&&!(o in de))throw new Error(`Choice type "${o}" is unkown.`)}return this.setNextParser("choice",t,e)}nest(t,e){if(typeof e!="object"&&typeof t=="object"&&(e=t,t=""),!e||!e.type)throw new Error("type is required for nest.");if(!(e.type instanceof U)&&!pe.has(e.type))throw new Error("type must be a known parser name or a Parser object.");if(!(e.type instanceof U)&&!t)throw new Error("type must be a Parser object if the variable name is omitted.");return this.setNextParser("nest",t,e)}pointer(t,e){if(!e.offset)throw new Error("offset is required for pointer.");if(!e.type)throw new Error("type is required for pointer.");if(typeof e.type=="string"&&!(e.type in de)&&!pe.has(e.type))throw new Error(`Pointer type "${e.type}" is unkown.`);return this.setNextParser("pointer",t,e)}saveOffset(t,e={}){return this.setNextParser("saveOffset",t,e)}endianness(t){switch(t.toLowerCase()){case"little":this.endian="le";break;case"big":this.endian="be";break;default:throw new Error('endianness must be one of "little" or "big"')}return this}endianess(t){return this.endianness(t)}useContextVars(t=!0){return this.useContextVariables=t,this}create(t){if(!(t instanceof Function))throw new Error("Constructor must be a Function object.");return this.constructorFn=t,this}getContext(t){let e=new Dn(t,this.useContextVariables);return e.pushCode("var dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.alias?(this.addAliasedCode(e),e.pushCode(`return ${qe+this.alias}(0).result;`)):this.addRawCode(e),e}getCode(){let t="imports";return this.getContext(t).code}addRawCode(t){t.pushCode("var offset = 0;"),t.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),t.pushCode("vars.$parent = null;"),t.pushCode("vars.$root = vars;"),this.generate(t),this.resolveReferences(t),t.pushCode("delete vars.$parent;"),t.pushCode("delete vars.$root;"),t.pushCode("return vars;")}addAliasedCode(t){return t.pushCode(`function ${qe+this.alias}(offset, context) {`),t.pushCode(`var vars = ${this.constructorFn?"new constructorFn()":"{}"};`),t.pushCode("var ctx = Object.assign({$parent: null, $root: vars}, context || {});"),t.pushCode("vars = Object.assign(vars, ctx);"),this.generate(t),t.markResolved(this.alias),this.resolveReferences(t),t.pushCode("Object.keys(ctx).forEach(function (item) { delete vars[item]; });"),t.pushCode("return { offset: offset, result: vars };"),t.pushCode("}"),t}resolveReferences(t){let e=t.getUnresolvedReferences();t.markRequested(e),e.forEach(n=>{var i;(i=pe.get(n))===null||i===void 0||i.addAliasedCode(t)})}compile(){let t="imports",e=this.getContext(t);this.compiled=new Function(t,"TextDecoder",`return function (buffer, constructorFn) { ${e.code} };`)(e.imports,TextDecoder)}sizeOf(){let t=NaN;if(Object.keys(de).indexOf(this.type)>=0)t=de[this.type];else if(this.type==="string"&&typeof this.options.length=="number")t=this.options.length;else if(this.type==="buffer"&&typeof this.options.length=="number")t=this.options.length;else if(this.type==="array"&&typeof this.options.length=="number"){let e=NaN;typeof this.options.type=="string"?e=de[this.options.type]:this.options.type instanceof U&&(e=this.options.type.sizeOf()),t=this.options.length*e}else this.type==="seek"?t=this.options.length:this.type==="nest"?t=this.options.type.sizeOf():this.type||(t=0);return this.next&&(t+=this.next.sizeOf()),t}parse(t){return this.compiled||this.compile(),this.compiled(t,this.constructorFn)}setNextParser(t,e,n){let i=new U;return i.type=t,i.varName=e,i.options=n,i.endian=this.endian,this.head?this.head.next=i:this.next=i,this.head=i,this}generate(t){if(this.type){switch(this.type){case"uint8":case"uint16le":case"uint16be":case"uint32le":case"uint32be":case"int8":case"int16le":case"int16be":case"int32le":case"int32be":case"int64be":case"int64le":case"uint64be":case"uint64le":case"floatle":case"floatbe":case"doublele":case"doublebe":this.primitiveGenerateN(this.type,t);break;case"bit":this.generateBit(t);break;case"string":this.generateString(t);break;case"buffer":this.generateBuffer(t);break;case"seek":this.generateSeek(t);break;case"nest":this.generateNest(t);break;case"array":this.generateArray(t);break;case"choice":this.generateChoice(t);break;case"pointer":this.generatePointer(t);break;case"saveOffset":this.generateSaveOffset(t);break;case"wrapper":this.generateWrapper(t);break}this.type!=="bit"&&this.generateAssert(t)}let e=t.generateVariable(this.varName);return this.options.formatter&&this.type!=="bit"&&this.generateFormatter(t,e,this.options.formatter),this.generateNext(t)}generateAssert(t){if(!this.options.assert)return;let e=t.generateVariable(this.varName);switch(typeof this.options.assert){case"function":{let n=t.addImport(this.options.assert);t.pushCode(`if (!${n}.call(vars, ${e})) {`)}break;case"number":t.pushCode(`if (${this.options.assert} !== ${e}) {`);break;case"string":t.pushCode(`if (${JSON.stringify(this.options.assert)} !== ${e}) {`);break;default:throw new Error("assert option must be a string, number or a function.")}t.generateError(`"Assertion error: ${e} is " + ${JSON.stringify(this.options.assert.toString())}`),t.pushCode("}")}generateNext(t){return this.next&&(t=this.next.generate(t)),t}generateBit(t){let e=JSON.parse(JSON.stringify(this));if(e.options=this.options,e.generateAssert=this.generateAssert.bind(this),e.generateFormatter=this.generateFormatter.bind(this),e.varName=t.generateVariable(e.varName),t.bitFields.push(e),!this.next||this.next&&["bit","nest"].indexOf(this.next.type)<0){let n=t.generateTmpVariable();t.pushCode(`var ${n} = 0;`);let i=(u=0)=>{let h=0;for(let w=u;w<t.bitFields.length;w++){let c=t.bitFields[w].options.length;if(h+c>32)break;h+=c}return h},o=u=>(u<=8?(t.pushCode(`${n} = dataView.getUint8(offset);`),u=8):u<=16?(t.pushCode(`${n} = dataView.getUint16(offset);`),u=16):u<=24?(t.pushCode(`${n} = (dataView.getUint16(offset) << 8) | dataView.getUint8(offset + 2);`),u=24):(t.pushCode(`${n} = dataView.getUint32(offset);`),u=32),t.pushCode(`offset += ${u/8};`),u),a=0,s=this.endian==="be",l=0,f=0;t.bitFields.forEach((u,h)=>{let w=u.options.length;if(w>f){if(f){let _=-1>>>32-f;t.pushCode(`${u.varName} = (${n} & 0x${_.toString(16)}) << ${w-f};`),w-=f}a=0,f=l=o(i(h)-f)}let c=s?l-a-w:a,g=-1>>>32-w;t.pushCode(`${u.varName} ${w<u.options.length?"|=":"="} ${n} >> ${c} & 0x${g.toString(16)};`),u.options.length===32&&t.pushCode(`${u.varName} >>>= 0`),u.options.assert&&u.generateAssert(t),u.options.formatter&&u.generateFormatter(t,u.varName,u.options.formatter),a+=w,f-=w}),t.bitFields=[]}}generateSeek(t){let e=t.generateOption(this.options.length);t.pushCode(`offset += ${e};`)}generateString(t){let e=t.generateVariable(this.varName),n=t.generateTmpVariable(),i=this.options.encoding,o=i.toLowerCase()==="hex",a='b => b.toString(16).padStart(2, "0")';if(this.options.length&&this.options.zeroTerminated){let s=this.options.length;t.pushCode(`var ${n} = offset;`),t.pushCode(`while(dataView.getUint8(offset++) !== 0 && offset - ${n} < ${s});`);let l=`offset - ${n} < ${s} ? offset - 1 : offset`;t.pushCode(o?`${e} = Array.from(buffer.subarray(${n}, ${l}), ${a}).join('');`:`${e} = new TextDecoder('${i}').decode(buffer.subarray(${n}, ${l}));`)}else if(this.options.length){let s=t.generateOption(this.options.length);t.pushCode(o?`${e} = Array.from(buffer.subarray(offset, offset + ${s}), ${a}).join('');`:`${e} = new TextDecoder('${i}').decode(buffer.subarray(offset, offset + ${s}));`),t.pushCode(`offset += ${s};`)}else this.options.zeroTerminated?(t.pushCode(`var ${n} = offset;`),t.pushCode("while(dataView.getUint8(offset++) !== 0);"),t.pushCode(o?`${e} = Array.from(buffer.subarray(${n}, offset - 1), ${a}).join('');`:`${e} = new TextDecoder('${i}').decode(buffer.subarray(${n}, offset - 1));`)):this.options.greedy&&(t.pushCode(`var ${n} = offset;`),t.pushCode("while(buffer.length > offset++);"),t.pushCode(o?`${e} = Array.from(buffer.subarray(${n}, offset), ${a}).join('');`:`${e} = new TextDecoder('${i}').decode(buffer.subarray(${n}, offset));`));this.options.stripNull&&t.pushCode(`${e} = ${e}.replace(/\\x00+$/g, '')`)}generateBuffer(t){let e=t.generateVariable(this.varName);if(typeof this.options.readUntil=="function"){let n=this.options.readUntil,i=t.generateTmpVariable(),o=t.generateTmpVariable();t.pushCode(`var ${i} = offset;`),t.pushCode(`var ${o} = 0;`),t.pushCode("while (offset < buffer.length) {"),t.pushCode(`${o} = dataView.getUint8(offset);`);let a=t.addImport(n);t.pushCode(`if (${a}.call(${t.generateVariable()}, ${o}, buffer.subarray(offset))) break;`),t.pushCode("offset += 1;"),t.pushCode("}"),t.pushCode(`${e} = buffer.subarray(${i}, offset);`)}else if(this.options.readUntil==="eof")t.pushCode(`${e} = buffer.subarray(offset);`);else{let n=t.generateOption(this.options.length);t.pushCode(`${e} = buffer.subarray(offset, offset + ${n});`),t.pushCode(`offset += ${n};`)}this.options.clone&&t.pushCode(`${e} = buffer.constructor.from(${e});`)}generateArray(t){let e=t.generateOption(this.options.length),n=t.generateOption(this.options.lengthInBytes),i=this.options.type,o=t.generateTmpVariable(),a=t.generateVariable(this.varName),s=t.generateTmpVariable(),l=this.options.key,f=typeof l=="string";if(f?t.pushCode(`${a} = {};`):t.pushCode(`${a} = [];`),typeof this.options.readUntil=="function"?t.pushCode("do {"):this.options.readUntil==="eof"?t.pushCode(`for (var ${o} = 0; offset < buffer.length; ${o}++) {`):n!==void 0?t.pushCode(`for (var ${o} = offset + ${n}; offset < ${o}; ) {`):t.pushCode(`for (var ${o} = ${e}; ${o} > 0; ${o}--) {`),typeof i=="string")if(pe.get(i)){let u=t.generateTmpVariable();if(t.pushCode(`var ${u} = ${qe+i}(offset, {`),t.useContextVariables){let h=t.generateVariable();t.pushCode(`$parent: ${h},`),t.pushCode(`$root: ${h}.$root,`),!this.options.readUntil&&n===void 0&&t.pushCode(`$index: ${e} - ${o},`)}t.pushCode("});"),t.pushCode(`var ${s} = ${u}.result; offset = ${u}.offset;`),i!==this.alias&&t.addReference(i)}else{let u=Br[i],h=Or[i];t.pushCode(`var ${s} = dataView.get${u}(offset, ${h});`),t.pushCode(`offset += ${de[i]};`)}else if(i instanceof U){t.pushCode(`var ${s} = {};`);let u=t.generateVariable();t.pushScope(s),t.useContextVariables&&(t.pushCode(`${s}.$parent = ${u};`),t.pushCode(`${s}.$root = ${u}.$root;`),!this.options.readUntil&&n===void 0&&t.pushCode(`${s}.$index = ${e} - ${o};`)),i.generate(t),t.useContextVariables&&(t.pushCode(`delete ${s}.$parent;`),t.pushCode(`delete ${s}.$root;`),t.pushCode(`delete ${s}.$index;`)),t.popScope()}if(f?t.pushCode(`${a}[${s}.${l}] = ${s};`):t.pushCode(`${a}.push(${s});`),t.pushCode("}"),typeof this.options.readUntil=="function"){let u=this.options.readUntil,h=t.addImport(u);t.pushCode(`while (!${h}.call(${t.generateVariable()}, ${s}, buffer.subarray(offset)));`)}}generateChoiceCase(t,e,n){if(typeof n=="string"){let i=t.generateVariable(this.varName);if(pe.has(n)){let o=t.generateTmpVariable();t.pushCode(`var ${o} = ${qe+n}(offset, {`),t.useContextVariables&&(t.pushCode(`$parent: ${i}.$parent,`),t.pushCode(`$root: ${i}.$root,`)),t.pushCode("});"),t.pushCode(`${i} = ${o}.result; offset = ${o}.offset;`),n!==this.alias&&t.addReference(n)}else{let o=Br[n],a=Or[n];t.pushCode(`${i} = dataView.get${o}(offset, ${a});`),t.pushCode(`offset += ${de[n]}`)}}else n instanceof U&&(t.pushPath(e),n.generate(t),t.popPath(e))}generateChoice(t){let e=t.generateOption(this.options.tag),n=t.generateVariable(this.varName);if(this.varName&&(t.pushCode(`${n} = {};`),t.useContextVariables)){let i=t.generateVariable();t.pushCode(`${n}.$parent = ${i};`),t.pushCode(`${n}.$root = ${i}.$root;`)}t.pushCode(`switch(${e}) {`);for(let i in this.options.choices){let o=parseInt(i,10),a=this.options.choices[o];t.pushCode(`case ${o}:`),this.generateChoiceCase(t,this.varName,a),t.pushCode("break;")}t.pushCode("default:"),this.options.defaultChoice?this.generateChoiceCase(t,this.varName,this.options.defaultChoice):t.generateError(`"Met undefined tag value " + ${e} + " at choice"`),t.pushCode("}"),this.varName&&t.useContextVariables&&(t.pushCode(`delete ${n}.$parent;`),t.pushCode(`delete ${n}.$root;`))}generateNest(t){let e=t.generateVariable(this.varName);if(this.options.type instanceof U){if(this.varName&&(t.pushCode(`${e} = {};`),t.useContextVariables)){let n=t.generateVariable();t.pushCode(`${e}.$parent = ${n};`),t.pushCode(`${e}.$root = ${n}.$root;`)}t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName),this.varName&&t.useContextVariables&&t.useContextVariables&&(t.pushCode(`delete ${e}.$parent;`),t.pushCode(`delete ${e}.$root;`))}else if(pe.has(this.options.type)){let n=t.generateTmpVariable();if(t.pushCode(`var ${n} = ${qe+this.options.type}(offset, {`),t.useContextVariables){let i=t.generateVariable();t.pushCode(`$parent: ${i},`),t.pushCode(`$root: ${i}.$root,`)}t.pushCode("});"),t.pushCode(`${e} = ${n}.result; offset = ${n}.offset;`),this.options.type!==this.alias&&t.addReference(this.options.type)}}generateWrapper(t){let e=t.generateVariable(this.varName),n=t.generateTmpVariable();if(typeof this.options.readUntil=="function"){let l=this.options.readUntil,f=t.generateTmpVariable(),u=t.generateTmpVariable();t.pushCode(`var ${f} = offset;`),t.pushCode(`var ${u} = 0;`),t.pushCode("while (offset < buffer.length) {"),t.pushCode(`${u} = dataView.getUint8(offset);`);let h=t.addImport(l);t.pushCode(`if (${h}.call(${t.generateVariable()}, ${u}, buffer.subarray(offset))) break;`),t.pushCode("offset += 1;"),t.pushCode("}"),t.pushCode(`${n} = buffer.subarray(${f}, offset);`)}else if(this.options.readUntil==="eof")t.pushCode(`${n} = buffer.subarray(offset);`);else{let l=t.generateOption(this.options.length);t.pushCode(`${n} = buffer.subarray(offset, offset + ${l});`),t.pushCode(`offset += ${l};`)}this.options.clone&&t.pushCode(`${n} = buffer.constructor.from(${n});`);let i=t.generateTmpVariable(),o=t.generateTmpVariable(),a=t.generateTmpVariable(),s=t.addImport(this.options.wrapper);if(t.pushCode(`${n} = ${s}.call(this, ${n}).subarray(0);`),t.pushCode(`var ${i} = buffer;`),t.pushCode(`var ${o} = offset;`),t.pushCode(`var ${a} = dataView;`),t.pushCode(`buffer = ${n};`),t.pushCode("offset = 0;"),t.pushCode("dataView = new DataView(buffer.buffer, buffer.byteOffset, buffer.length);"),this.options.type instanceof U)this.varName&&t.pushCode(`${e} = {};`),t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName);else if(pe.has(this.options.type)){let l=t.generateTmpVariable();t.pushCode(`var ${l} = ${qe+this.options.type}(0);`),t.pushCode(`${e} = ${l}.result;`),this.options.type!==this.alias&&t.addReference(this.options.type)}t.pushCode(`buffer = ${i};`),t.pushCode(`dataView = ${a};`),t.pushCode(`offset = ${o};`)}generateFormatter(t,e,n){if(typeof n=="function"){let i=t.addImport(n);t.pushCode(`${e} = ${i}.call(${t.generateVariable()}, ${e});`)}}generatePointer(t){let e=this.options.type,n=t.generateOption(this.options.offset),i=t.generateTmpVariable(),o=t.generateVariable(this.varName);if(t.pushCode(`var ${i} = offset;`),t.pushCode(`offset = ${n};`),this.options.type instanceof U){if(t.pushCode(`${o} = {};`),t.useContextVariables){let a=t.generateVariable();t.pushCode(`${o}.$parent = ${a};`),t.pushCode(`${o}.$root = ${a}.$root;`)}t.pushPath(this.varName),this.options.type.generate(t),t.popPath(this.varName),t.useContextVariables&&(t.pushCode(`delete ${o}.$parent;`),t.pushCode(`delete ${o}.$root;`))}else if(pe.has(this.options.type)){let a=t.generateTmpVariable();if(t.pushCode(`var ${a} = ${qe+this.options.type}(offset, {`),t.useContextVariables){let s=t.generateVariable();t.pushCode(`$parent: ${s},`),t.pushCode(`$root: ${s}.$root,`)}t.pushCode("});"),t.pushCode(`${o} = ${a}.result; offset = ${a}.offset;`),this.options.type!==this.alias&&t.addReference(this.options.type)}else if(Object.keys(de).indexOf(this.options.type)>=0){let a=Br[e],s=Or[e];t.pushCode(`${o} = dataView.get${a}(offset, ${s});`),t.pushCode(`offset += ${de[e]};`)}t.pushCode(`offset = ${i};`)}generateSaveOffset(t){let e=t.generateVariable(this.varName);t.pushCode(`${e} = offset`)}};p();d();p();d();p();d();var zn=class{},Bt=class{constructor(){this.signals=new Set,this.abortController=new AbortController}addSignal(t=new zn){if(this.signal.aborted)throw new Error("cannot add a signal, already aborted!");this.signals.add(t),t.aborted?this.handleAborted(t):typeof t.addEventListener=="function"&&t.addEventListener("abort",()=>{this.handleAborted(t)})}handleAborted(t){this.signals.delete(t),this.signals.size===0&&this.abortController.abort()}get signal(){return this.abortController.signal}abort(){this.abortController.abort()}};p();d();var Ot=class{constructor(){this.callbacks=new Set}addCallback(t=()=>{}){this.callbacks.add(t),t(this.currentMessage)}callback(t){this.currentMessage=t;for(let e of this.callbacks)e(t)}};var me=class{constructor({fill:t,cache:e}){if(typeof t!="function")throw new TypeError("must pass a fill function");if(typeof e!="object")throw new TypeError("must pass a cache object");if(typeof e.get!="function"||typeof e.set!="function"||typeof e.delete!="function")throw new TypeError("cache must implement get(key), set(key, val), and and delete(key)");this.cache=e,this.fillCallback=t}static isAbortException(t){return t.name==="AbortError"||t.code==="ERR_ABORTED"||t.message==="AbortError: aborted"||t.message==="Error: aborted"}evict(t,e){this.cache.get(t)===e&&this.cache.delete(t)}fill(t,e,n,i){let o=new Bt,a=new Ot;a.addCallback(i);let s={aborter:o,promise:this.fillCallback(e,o.signal,l=>{a.callback(l)}),settled:!1,statusReporter:a,get aborted(){return this.aborter.signal.aborted}};s.aborter.addSignal(n),s.aborter.signal.addEventListener("abort",()=>{s.settled||this.evict(t,s)}),s.promise.then(()=>{s.settled=!0},()=>{s.settled=!0,this.evict(t,s)}).catch(l=>{throw console.error(l),l}),this.cache.set(t,s)}static checkSinglePromise(t,e){function n(){if(e!=null&&e.aborted)throw Object.assign(new Error("aborted"),{code:"ERR_ABORTED"})}return t.then(i=>(n(),i),i=>{throw n(),i})}has(t){return this.cache.has(t)}get(t,e,n,i){if(!n&&e instanceof AbortSignal)throw new TypeError("second get argument appears to be an AbortSignal, perhaps you meant to pass `null` for the fill data?");let o=this.cache.get(t);return o?o.aborted&&!o.settled?(this.evict(t,o),this.get(t,e,n,i)):o.settled?o.promise:(o.aborter.addSignal(n),o.statusReporter.addCallback(i),me.checkSinglePromise(o.promise,n)):(this.fill(t,e,n,i),me.checkSinglePromise(this.cache.get(t).promise,n))}delete(t){let e=this.cache.get(t);e&&(e.settled||e.aborter.abort(),this.cache.delete(t))}clear(){let t=this.cache.keys(),e=0;for(let n=t.next();!n.done;n=t.next())this.delete(n.value),e+=1;return e}};var Rs=It(Ln());p();d();var ve=class{constructor(t){this.ranges=t}get min(){return this.ranges[0].min}get max(){return this.ranges[this.ranges.length-1].max}contains(t){for(let e of this.ranges)if(e.min<=t&&e.max>=t)return!0;return!1}isContiguous(){return this.ranges.length>1}getRanges(){return this.ranges.map(t=>new ve([{min:t.min,max:t.max}]))}toString(){return this.ranges.map(t=>`[${t.min}-${t.max}]`).join(",")}union(t){let e=[...this.getRanges(),...t.getRanges()].sort((o,a)=>o.min<a.min?-1:o.min>a.min?1:o.max<a.max?-1:a.max>o.max?1:0),n=[],i=e[0];for(let o of e)o.min>i.max+1?(n.push(i),i=o):o.max>i.max&&(i=new ve([{min:i.min,max:o.max}]));return n.push(i),n.length===1?n[0]:new ve(n)}};p();d();p();d();function xt(r){let t=r.length;for(;--t>=0;)r[t]=0}var kl=0,Ha=1,Rl=2,Il=3,$l=258,ci=29,qt=256,Zt=qt+1+ci,gt=30,hi=19,ja=2*Zt+1,Je=15,Vn=16,Ul=7,pi=256,Wa=16,Ga=17,Ka=18,ri=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),Vr=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),Nl=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),Xa=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fl=512,Ie=new Array((Zt+2)*2);xt(Ie);var Mt=new Array(gt*2);xt(Mt);var Yt=new Array(Fl);xt(Yt);var Ht=new Array($l-Il+1);xt(Ht);var di=new Array(ci);xt(di);var Zr=new Array(gt);xt(Zr);function Zn(r,t,e,n,i){this.static_tree=r,this.extra_bits=t,this.extra_base=e,this.elems=n,this.max_length=i,this.has_stree=r&&r.length}var qa,Ja,Qa;function Yn(r,t){this.dyn_tree=r,this.max_code=0,this.stat_desc=t}var es=r=>r<256?Yt[r]:Yt[256+(r>>>7)],jt=(r,t)=>{r.pending_buf[r.pending++]=t&255,r.pending_buf[r.pending++]=t>>>8&255},J=(r,t,e)=>{r.bi_valid>Vn-e?(r.bi_buf|=t<<r.bi_valid&65535,jt(r,r.bi_buf),r.bi_buf=t>>Vn-r.bi_valid,r.bi_valid+=e-Vn):(r.bi_buf|=t<<r.bi_valid&65535,r.bi_valid+=e)},Ee=(r,t,e)=>{J(r,e[t*2],e[t*2+1])},ts=(r,t)=>{let e=0;do e|=r&1,r>>>=1,e<<=1;while(--t>0);return e>>>1},Bl=r=>{r.bi_valid===16?(jt(r,r.bi_buf),r.bi_buf=0,r.bi_valid=0):r.bi_valid>=8&&(r.pending_buf[r.pending++]=r.bi_buf&255,r.bi_buf>>=8,r.bi_valid-=8)},Ol=(r,t)=>{let e=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,a=t.stat_desc.extra_bits,s=t.stat_desc.extra_base,l=t.stat_desc.max_length,f,u,h,w,c,g,_=0;for(w=0;w<=Je;w++)r.bl_count[w]=0;for(e[r.heap[r.heap_max]*2+1]=0,f=r.heap_max+1;f<ja;f++)u=r.heap[f],w=e[e[u*2+1]*2+1]+1,w>l&&(w=l,_++),e[u*2+1]=w,!(u>n)&&(r.bl_count[w]++,c=0,u>=s&&(c=a[u-s]),g=e[u*2],r.opt_len+=g*(w+c),o&&(r.static_len+=g*(i[u*2+1]+c)));if(_!==0){do{for(w=l-1;r.bl_count[w]===0;)w--;r.bl_count[w]--,r.bl_count[w+1]+=2,r.bl_count[l]--,_-=2}while(_>0);for(w=l;w!==0;w--)for(u=r.bl_count[w];u!==0;)h=r.heap[--f],!(h>n)&&(e[h*2+1]!==w&&(r.opt_len+=(w-e[h*2+1])*e[h*2],e[h*2+1]=w),u--)}},rs=(r,t,e)=>{let n=new Array(Je+1),i=0,o,a;for(o=1;o<=Je;o++)i=i+e[o-1]<<1,n[o]=i;for(a=0;a<=t;a++){let s=r[a*2+1];s!==0&&(r[a*2]=ts(n[s]++,s))}},Pl=()=>{let r,t,e,n,i,o=new Array(Je+1);for(e=0,n=0;n<ci-1;n++)for(di[n]=e,r=0;r<1<<ri[n];r++)Ht[e++]=n;for(Ht[e-1]=n,i=0,n=0;n<16;n++)for(Zr[n]=i,r=0;r<1<<Vr[n];r++)Yt[i++]=n;for(i>>=7;n<gt;n++)for(Zr[n]=i<<7,r=0;r<1<<Vr[n]-7;r++)Yt[256+i++]=n;for(t=0;t<=Je;t++)o[t]=0;for(r=0;r<=143;)Ie[r*2+1]=8,r++,o[8]++;for(;r<=255;)Ie[r*2+1]=9,r++,o[9]++;for(;r<=279;)Ie[r*2+1]=7,r++,o[7]++;for(;r<=287;)Ie[r*2+1]=8,r++,o[8]++;for(rs(Ie,Zt+1,o),r=0;r<gt;r++)Mt[r*2+1]=5,Mt[r*2]=ts(r,5);qa=new Zn(Ie,ri,qt+1,Zt,Je),Ja=new Zn(Mt,Vr,0,gt,Je),Qa=new Zn(new Array(0),Nl,0,hi,Ul)},ns=r=>{let t;for(t=0;t<Zt;t++)r.dyn_ltree[t*2]=0;for(t=0;t<gt;t++)r.dyn_dtree[t*2]=0;for(t=0;t<hi;t++)r.bl_tree[t*2]=0;r.dyn_ltree[pi*2]=1,r.opt_len=r.static_len=0,r.sym_next=r.matches=0},is=r=>{r.bi_valid>8?jt(r,r.bi_buf):r.bi_valid>0&&(r.pending_buf[r.pending++]=r.bi_buf),r.bi_buf=0,r.bi_valid=0},sa=(r,t,e,n)=>{let i=t*2,o=e*2;return r[i]<r[o]||r[i]===r[o]&&n[t]<=n[e]},Hn=(r,t,e)=>{let n=r.heap[e],i=e<<1;for(;i<=r.heap_len&&(i<r.heap_len&&sa(t,r.heap[i+1],r.heap[i],r.depth)&&i++,!sa(t,n,r.heap[i],r.depth));)r.heap[e]=r.heap[i],e=i,i<<=1;r.heap[e]=n},fa=(r,t,e)=>{let n,i,o=0,a,s;if(r.sym_next!==0)do n=r.pending_buf[r.sym_buf+o++]&255,n+=(r.pending_buf[r.sym_buf+o++]&255)<<8,i=r.pending_buf[r.sym_buf+o++],n===0?Ee(r,i,t):(a=Ht[i],Ee(r,a+qt+1,t),s=ri[a],s!==0&&(i-=di[a],J(r,i,s)),n--,a=es(n),Ee(r,a,e),s=Vr[a],s!==0&&(n-=Zr[a],J(r,n,s)));while(o<r.sym_next);Ee(r,pi,t)},ni=(r,t)=>{let e=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems,a,s,l=-1,f;for(r.heap_len=0,r.heap_max=ja,a=0;a<o;a++)e[a*2]!==0?(r.heap[++r.heap_len]=l=a,r.depth[a]=0):e[a*2+1]=0;for(;r.heap_len<2;)f=r.heap[++r.heap_len]=l<2?++l:0,e[f*2]=1,r.depth[f]=0,r.opt_len--,i&&(r.static_len-=n[f*2+1]);for(t.max_code=l,a=r.heap_len>>1;a>=1;a--)Hn(r,e,a);f=o;do a=r.heap[1],r.heap[1]=r.heap[r.heap_len--],Hn(r,e,1),s=r.heap[1],r.heap[--r.heap_max]=a,r.heap[--r.heap_max]=s,e[f*2]=e[a*2]+e[s*2],r.depth[f]=(r.depth[a]>=r.depth[s]?r.depth[a]:r.depth[s])+1,e[a*2+1]=e[s*2+1]=f,r.heap[1]=f++,Hn(r,e,1);while(r.heap_len>=2);r.heap[--r.heap_max]=r.heap[1],Ol(r,t),rs(e,l,r.bl_count)},ua=(r,t,e)=>{let n,i=-1,o,a=t[0*2+1],s=0,l=7,f=4;for(a===0&&(l=138,f=3),t[(e+1)*2+1]=65535,n=0;n<=e;n++)o=a,a=t[(n+1)*2+1],!(++s<l&&o===a)&&(s<f?r.bl_tree[o*2]+=s:o!==0?(o!==i&&r.bl_tree[o*2]++,r.bl_tree[Wa*2]++):s<=10?r.bl_tree[Ga*2]++:r.bl_tree[Ka*2]++,s=0,i=o,a===0?(l=138,f=3):o===a?(l=6,f=3):(l=7,f=4))},la=(r,t,e)=>{let n,i=-1,o,a=t[0*2+1],s=0,l=7,f=4;for(a===0&&(l=138,f=3),n=0;n<=e;n++)if(o=a,a=t[(n+1)*2+1],!(++s<l&&o===a)){if(s<f)do Ee(r,o,r.bl_tree);while(--s!==0);else o!==0?(o!==i&&(Ee(r,o,r.bl_tree),s--),Ee(r,Wa,r.bl_tree),J(r,s-3,2)):s<=10?(Ee(r,Ga,r.bl_tree),J(r,s-3,3)):(Ee(r,Ka,r.bl_tree),J(r,s-11,7));s=0,i=o,a===0?(l=138,f=3):o===a?(l=6,f=3):(l=7,f=4)}},Dl=r=>{let t;for(ua(r,r.dyn_ltree,r.l_desc.max_code),ua(r,r.dyn_dtree,r.d_desc.max_code),ni(r,r.bl_desc),t=hi-1;t>=3&&r.bl_tree[Xa[t]*2+1]===0;t--);return r.opt_len+=3*(t+1)+5+5+4,t},zl=(r,t,e,n)=>{let i;for(J(r,t-257,5),J(r,e-1,5),J(r,n-4,4),i=0;i<n;i++)J(r,r.bl_tree[Xa[i]*2+1],3);la(r,r.dyn_ltree,t-1),la(r,r.dyn_dtree,e-1)},Ml=r=>{let t=4093624447,e;for(e=0;e<=31;e++,t>>>=1)if(t&1&&r.dyn_ltree[e*2]!==0)return 0;if(r.dyn_ltree[9*2]!==0||r.dyn_ltree[10*2]!==0||r.dyn_ltree[13*2]!==0)return 1;for(e=32;e<qt;e++)if(r.dyn_ltree[e*2]!==0)return 1;return 0},ca=!1,Ll=r=>{ca||(Pl(),ca=!0),r.l_desc=new Yn(r.dyn_ltree,qa),r.d_desc=new Yn(r.dyn_dtree,Ja),r.bl_desc=new Yn(r.bl_tree,Qa),r.bi_buf=0,r.bi_valid=0,ns(r)},os=(r,t,e,n)=>{J(r,(kl<<1)+(n?1:0),3),is(r),jt(r,e),jt(r,~e),e&&r.pending_buf.set(r.window.subarray(t,t+e),r.pending),r.pending+=e},Vl=r=>{J(r,Ha<<1,3),Ee(r,pi,Ie),Bl(r)},Zl=(r,t,e,n)=>{let i,o,a=0;r.level>0?(r.strm.data_type===2&&(r.strm.data_type=Ml(r)),ni(r,r.l_desc),ni(r,r.d_desc),a=Dl(r),i=r.opt_len+3+7>>>3,o=r.static_len+3+7>>>3,o<=i&&(i=o)):i=o=e+5,e+4<=i&&t!==-1?os(r,t,e,n):r.strategy===4||o===i?(J(r,(Ha<<1)+(n?1:0),3),fa(r,Ie,Mt)):(J(r,(Rl<<1)+(n?1:0),3),zl(r,r.l_desc.max_code+1,r.d_desc.max_code+1,a+1),fa(r,r.dyn_ltree,r.dyn_dtree)),ns(r),n&&is(r)},Yl=(r,t,e)=>(r.pending_buf[r.sym_buf+r.sym_next++]=t,r.pending_buf[r.sym_buf+r.sym_next++]=t>>8,r.pending_buf[r.sym_buf+r.sym_next++]=e,t===0?r.dyn_ltree[e*2]++:(r.matches++,t--,r.dyn_ltree[(Ht[e]+qt+1)*2]++,r.dyn_dtree[es(t)*2]++),r.sym_next===r.sym_end),Hl=Ll,jl=os,Wl=Zl,Gl=Yl,Kl=Vl,Xl={_tr_init:Hl,_tr_stored_block:jl,_tr_flush_block:Wl,_tr_tally:Gl,_tr_align:Kl},ql=(r,t,e,n)=>{let i=r&65535|0,o=r>>>16&65535|0,a=0;for(;e!==0;){a=e>2e3?2e3:e,e-=a;do i=i+t[n++]|0,o=o+i|0;while(--a);i%=65521,o%=65521}return i|o<<16|0},Wt=ql,Jl=()=>{let r,t=[];for(var e=0;e<256;e++){r=e;for(var n=0;n<8;n++)r=r&1?3988292384^r>>>1:r>>>1;t[e]=r}return t},Ql=new Uint32Array(Jl()),ec=(r,t,e,n)=>{let i=Ql,o=n+e;r^=-1;for(let a=n;a<o;a++)r=r>>>8^i[(r^t[a])&255];return r^-1},V=ec,tt={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},vt={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8},{_tr_init:tc,_tr_stored_block:ii,_tr_flush_block:rc,_tr_tally:Ze,_tr_align:nc}=Xl,{Z_NO_FLUSH:Ye,Z_PARTIAL_FLUSH:ic,Z_FULL_FLUSH:oc,Z_FINISH:ae,Z_BLOCK:ha,Z_OK:Y,Z_STREAM_END:pa,Z_STREAM_ERROR:Te,Z_DATA_ERROR:ac,Z_BUF_ERROR:jn,Z_DEFAULT_COMPRESSION:sc,Z_FILTERED:fc,Z_HUFFMAN_ONLY:Pr,Z_RLE:uc,Z_FIXED:lc,Z_DEFAULT_STRATEGY:cc,Z_UNKNOWN:hc,Z_DEFLATED:jr}=vt,pc=9,dc=15,mc=8,wc=29,gc=256,oi=gc+1+wc,_c=30,bc=19,xc=2*oi+1,vc=15,F=3,Ve=258,Ae=Ve+F+1,yc=32,_t=42,mi=57,ai=69,si=73,fi=91,ui=103,Qe=113,Dt=666,K=1,yt=2,rt=3,Et=4,Ec=3,et=(r,t)=>(r.msg=tt[t],t),da=r=>r*2-(r>4?9:0),Le=r=>{let t=r.length;for(;--t>=0;)r[t]=0},Tc=r=>{let t,e,n,i=r.w_size;t=r.hash_size,n=t;do e=r.head[--n],r.head[n]=e>=i?e-i:0;while(--t);t=i,n=t;do e=r.prev[--n],r.prev[n]=e>=i?e-i:0;while(--t)},Ac=(r,t,e)=>(t<<r.hash_shift^e)&r.hash_mask,He=Ac,te=r=>{let t=r.state,e=t.pending;e>r.avail_out&&(e=r.avail_out),e!==0&&(r.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+e),r.next_out),r.next_out+=e,t.pending_out+=e,r.total_out+=e,r.avail_out-=e,t.pending-=e,t.pending===0&&(t.pending_out=0))},re=(r,t)=>{rc(r,r.block_start>=0?r.block_start:-1,r.strstart-r.block_start,t),r.block_start=r.strstart,te(r.strm)},O=(r,t)=>{r.pending_buf[r.pending++]=t},Pt=(r,t)=>{r.pending_buf[r.pending++]=t>>>8&255,r.pending_buf[r.pending++]=t&255},li=(r,t,e,n)=>{let i=r.avail_in;return i>n&&(i=n),i===0?0:(r.avail_in-=i,t.set(r.input.subarray(r.next_in,r.next_in+i),e),r.state.wrap===1?r.adler=Wt(r.adler,t,i,e):r.state.wrap===2&&(r.adler=V(r.adler,t,i,e)),r.next_in+=i,r.total_in+=i,i)},as=(r,t)=>{let e=r.max_chain_length,n=r.strstart,i,o,a=r.prev_length,s=r.nice_match,l=r.strstart>r.w_size-Ae?r.strstart-(r.w_size-Ae):0,f=r.window,u=r.w_mask,h=r.prev,w=r.strstart+Ve,c=f[n+a-1],g=f[n+a];r.prev_length>=r.good_match&&(e>>=2),s>r.lookahead&&(s=r.lookahead);do if(i=t,!(f[i+a]!==g||f[i+a-1]!==c||f[i]!==f[n]||f[++i]!==f[n+1])){n+=2,i++;do;while(f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&f[++n]===f[++i]&&n<w);if(o=Ve-(w-n),n=w-Ve,o>a){if(r.match_start=t,a=o,o>=s)break;c=f[n+a-1],g=f[n+a]}}while((t=h[t&u])>l&&--e!==0);return a<=r.lookahead?a:r.lookahead},bt=r=>{let t=r.w_size,e,n,i;do{if(n=r.window_size-r.lookahead-r.strstart,r.strstart>=t+(t-Ae)&&(r.window.set(r.window.subarray(t,t+t-n),0),r.match_start-=t,r.strstart-=t,r.block_start-=t,r.insert>r.strstart&&(r.insert=r.strstart),Tc(r),n+=t),r.strm.avail_in===0)break;if(e=li(r.strm,r.window,r.strstart+r.lookahead,n),r.lookahead+=e,r.lookahead+r.insert>=F)for(i=r.strstart-r.insert,r.ins_h=r.window[i],r.ins_h=He(r,r.ins_h,r.window[i+1]);r.insert&&(r.ins_h=He(r,r.ins_h,r.window[i+F-1]),r.prev[i&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=i,i++,r.insert--,!(r.lookahead+r.insert<F)););}while(r.lookahead<Ae&&r.strm.avail_in!==0)},ss=(r,t)=>{let e=r.pending_buf_size-5>r.w_size?r.w_size:r.pending_buf_size-5,n,i,o,a=0,s=r.strm.avail_in;do{if(n=65535,o=r.bi_valid+42>>3,r.strm.avail_out<o||(o=r.strm.avail_out-o,i=r.strstart-r.block_start,n>i+r.strm.avail_in&&(n=i+r.strm.avail_in),n>o&&(n=o),n<e&&(n===0&&t!==ae||t===Ye||n!==i+r.strm.avail_in)))break;a=t===ae&&n===i+r.strm.avail_in?1:0,ii(r,0,0,a),r.pending_buf[r.pending-4]=n,r.pending_buf[r.pending-3]=n>>8,r.pending_buf[r.pending-2]=~n,r.pending_buf[r.pending-1]=~n>>8,te(r.strm),i&&(i>n&&(i=n),r.strm.output.set(r.window.subarray(r.block_start,r.block_start+i),r.strm.next_out),r.strm.next_out+=i,r.strm.avail_out-=i,r.strm.total_out+=i,r.block_start+=i,n-=i),n&&(li(r.strm,r.strm.output,r.strm.next_out,n),r.strm.next_out+=n,r.strm.avail_out-=n,r.strm.total_out+=n)}while(a===0);return s-=r.strm.avail_in,s&&(s>=r.w_size?(r.matches=2,r.window.set(r.strm.input.subarray(r.strm.next_in-r.w_size,r.strm.next_in),0),r.strstart=r.w_size,r.insert=r.strstart):(r.window_size-r.strstart<=s&&(r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,r.insert>r.strstart&&(r.insert=r.strstart)),r.window.set(r.strm.input.subarray(r.strm.next_in-s,r.strm.next_in),r.strstart),r.strstart+=s,r.insert+=s>r.w_size-r.insert?r.w_size-r.insert:s),r.block_start=r.strstart),r.high_water<r.strstart&&(r.high_water=r.strstart),a?Et:t!==Ye&&t!==ae&&r.strm.avail_in===0&&r.strstart===r.block_start?yt:(o=r.window_size-r.strstart,r.strm.avail_in>o&&r.block_start>=r.w_size&&(r.block_start-=r.w_size,r.strstart-=r.w_size,r.window.set(r.window.subarray(r.w_size,r.w_size+r.strstart),0),r.matches<2&&r.matches++,o+=r.w_size,r.insert>r.strstart&&(r.insert=r.strstart)),o>r.strm.avail_in&&(o=r.strm.avail_in),o&&(li(r.strm,r.window,r.strstart,o),r.strstart+=o,r.insert+=o>r.w_size-r.insert?r.w_size-r.insert:o),r.high_water<r.strstart&&(r.high_water=r.strstart),o=r.bi_valid+42>>3,o=r.pending_buf_size-o>65535?65535:r.pending_buf_size-o,e=o>r.w_size?r.w_size:o,i=r.strstart-r.block_start,(i>=e||(i||t===ae)&&t!==Ye&&r.strm.avail_in===0&&i<=o)&&(n=i>o?o:i,a=t===ae&&r.strm.avail_in===0&&n===i?1:0,ii(r,r.block_start,n,a),r.block_start+=n,te(r.strm)),a?rt:K)},Wn=(r,t)=>{let e,n;for(;;){if(r.lookahead<Ae){if(bt(r),r.lookahead<Ae&&t===Ye)return K;if(r.lookahead===0)break}if(e=0,r.lookahead>=F&&(r.ins_h=He(r,r.ins_h,r.window[r.strstart+F-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),e!==0&&r.strstart-e<=r.w_size-Ae&&(r.match_length=as(r,e)),r.match_length>=F)if(n=Ze(r,r.strstart-r.match_start,r.match_length-F),r.lookahead-=r.match_length,r.match_length<=r.max_lazy_match&&r.lookahead>=F){r.match_length--;do r.strstart++,r.ins_h=He(r,r.ins_h,r.window[r.strstart+F-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart;while(--r.match_length!==0);r.strstart++}else r.strstart+=r.match_length,r.match_length=0,r.ins_h=r.window[r.strstart],r.ins_h=He(r,r.ins_h,r.window[r.strstart+1]);else n=Ze(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++;if(n&&(re(r,!1),r.strm.avail_out===0))return K}return r.insert=r.strstart<F-1?r.strstart:F-1,t===ae?(re(r,!0),r.strm.avail_out===0?rt:Et):r.sym_next&&(re(r,!1),r.strm.avail_out===0)?K:yt},mt=(r,t)=>{let e,n,i;for(;;){if(r.lookahead<Ae){if(bt(r),r.lookahead<Ae&&t===Ye)return K;if(r.lookahead===0)break}if(e=0,r.lookahead>=F&&(r.ins_h=He(r,r.ins_h,r.window[r.strstart+F-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart),r.prev_length=r.match_length,r.prev_match=r.match_start,r.match_length=F-1,e!==0&&r.prev_length<r.max_lazy_match&&r.strstart-e<=r.w_size-Ae&&(r.match_length=as(r,e),r.match_length<=5&&(r.strategy===fc||r.match_length===F&&r.strstart-r.match_start>4096)&&(r.match_length=F-1)),r.prev_length>=F&&r.match_length<=r.prev_length){i=r.strstart+r.lookahead-F,n=Ze(r,r.strstart-1-r.prev_match,r.prev_length-F),r.lookahead-=r.prev_length-1,r.prev_length-=2;do++r.strstart<=i&&(r.ins_h=He(r,r.ins_h,r.window[r.strstart+F-1]),e=r.prev[r.strstart&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=r.strstart);while(--r.prev_length!==0);if(r.match_available=0,r.match_length=F-1,r.strstart++,n&&(re(r,!1),r.strm.avail_out===0))return K}else if(r.match_available){if(n=Ze(r,0,r.window[r.strstart-1]),n&&re(r,!1),r.strstart++,r.lookahead--,r.strm.avail_out===0)return K}else r.match_available=1,r.strstart++,r.lookahead--}return r.match_available&&(n=Ze(r,0,r.window[r.strstart-1]),r.match_available=0),r.insert=r.strstart<F-1?r.strstart:F-1,t===ae?(re(r,!0),r.strm.avail_out===0?rt:Et):r.sym_next&&(re(r,!1),r.strm.avail_out===0)?K:yt},Sc=(r,t)=>{let e,n,i,o,a=r.window;for(;;){if(r.lookahead<=Ve){if(bt(r),r.lookahead<=Ve&&t===Ye)return K;if(r.lookahead===0)break}if(r.match_length=0,r.lookahead>=F&&r.strstart>0&&(i=r.strstart-1,n=a[i],n===a[++i]&&n===a[++i]&&n===a[++i])){o=r.strstart+Ve;do;while(n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&n===a[++i]&&i<o);r.match_length=Ve-(o-i),r.match_length>r.lookahead&&(r.match_length=r.lookahead)}if(r.match_length>=F?(e=Ze(r,1,r.match_length-F),r.lookahead-=r.match_length,r.strstart+=r.match_length,r.match_length=0):(e=Ze(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++),e&&(re(r,!1),r.strm.avail_out===0))return K}return r.insert=0,t===ae?(re(r,!0),r.strm.avail_out===0?rt:Et):r.sym_next&&(re(r,!1),r.strm.avail_out===0)?K:yt},Cc=(r,t)=>{let e;for(;;){if(r.lookahead===0&&(bt(r),r.lookahead===0)){if(t===Ye)return K;break}if(r.match_length=0,e=Ze(r,0,r.window[r.strstart]),r.lookahead--,r.strstart++,e&&(re(r,!1),r.strm.avail_out===0))return K}return r.insert=0,t===ae?(re(r,!0),r.strm.avail_out===0?rt:Et):r.sym_next&&(re(r,!1),r.strm.avail_out===0)?K:yt};function ye(r,t,e,n,i){this.good_length=r,this.max_lazy=t,this.nice_length=e,this.max_chain=n,this.func=i}var zt=[new ye(0,0,0,0,ss),new ye(4,4,8,4,Wn),new ye(4,5,16,8,Wn),new ye(4,6,32,32,Wn),new ye(4,4,16,16,mt),new ye(8,16,32,32,mt),new ye(8,16,128,128,mt),new ye(8,32,128,256,mt),new ye(32,128,258,1024,mt),new ye(32,258,258,4096,mt)],kc=r=>{r.window_size=2*r.w_size,Le(r.head),r.max_lazy_match=zt[r.level].max_lazy,r.good_match=zt[r.level].good_length,r.nice_match=zt[r.level].nice_length,r.max_chain_length=zt[r.level].max_chain,r.strstart=0,r.block_start=0,r.lookahead=0,r.insert=0,r.match_length=r.prev_length=F-1,r.match_available=0,r.ins_h=0};function Rc(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=jr,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(xc*2),this.dyn_dtree=new Uint16Array((2*_c+1)*2),this.bl_tree=new Uint16Array((2*bc+1)*2),Le(this.dyn_ltree),Le(this.dyn_dtree),Le(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(vc+1),this.heap=new Uint16Array(2*oi+1),Le(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(2*oi+1),Le(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}var Jt=r=>{if(!r)return 1;let t=r.state;return!t||t.strm!==r||t.status!==_t&&t.status!==mi&&t.status!==ai&&t.status!==si&&t.status!==fi&&t.status!==ui&&t.status!==Qe&&t.status!==Dt?1:0},fs=r=>{if(Jt(r))return et(r,Te);r.total_in=r.total_out=0,r.data_type=hc;let t=r.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap===2?mi:t.wrap?_t:Qe,r.adler=t.wrap===2?0:1,t.last_flush=-2,tc(t),Y},us=r=>{let t=fs(r);return t===Y&&kc(r.state),t},Ic=(r,t)=>Jt(r)||r.state.wrap!==2?Te:(r.state.gzhead=t,Y),ls=(r,t,e,n,i,o)=>{if(!r)return Te;let a=1;if(t===sc&&(t=6),n<0?(a=0,n=-n):n>15&&(a=2,n-=16),i<1||i>pc||e!==jr||n<8||n>15||t<0||t>9||o<0||o>lc||n===8&&a!==1)return et(r,Te);n===8&&(n=9);let s=new Rc;return r.state=s,s.strm=r,s.status=_t,s.wrap=a,s.gzhead=null,s.w_bits=n,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=i+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+F-1)/F),s.window=new Uint8Array(s.w_size*2),s.head=new Uint16Array(s.hash_size),s.prev=new Uint16Array(s.w_size),s.lit_bufsize=1<<i+6,s.pending_buf_size=s.lit_bufsize*4,s.pending_buf=new Uint8Array(s.pending_buf_size),s.sym_buf=s.lit_bufsize,s.sym_end=(s.lit_bufsize-1)*3,s.level=t,s.strategy=o,s.method=e,us(r)},$c=(r,t)=>ls(r,t,jr,dc,mc,cc),Uc=(r,t)=>{if(Jt(r)||t>ha||t<0)return r?et(r,Te):Te;let e=r.state;if(!r.output||r.avail_in!==0&&!r.input||e.status===Dt&&t!==ae)return et(r,r.avail_out===0?jn:Te);let n=e.last_flush;if(e.last_flush=t,e.pending!==0){if(te(r),r.avail_out===0)return e.last_flush=-1,Y}else if(r.avail_in===0&&da(t)<=da(n)&&t!==ae)return et(r,jn);if(e.status===Dt&&r.avail_in!==0)return et(r,jn);if(e.status===_t&&e.wrap===0&&(e.status=Qe),e.status===_t){let i=jr+(e.w_bits-8<<4)<<8,o=-1;if(e.strategy>=Pr||e.level<2?o=0:e.level<6?o=1:e.level===6?o=2:o=3,i|=o<<6,e.strstart!==0&&(i|=yc),i+=31-i%31,Pt(e,i),e.strstart!==0&&(Pt(e,r.adler>>>16),Pt(e,r.adler&65535)),r.adler=1,e.status=Qe,te(r),e.pending!==0)return e.last_flush=-1,Y}if(e.status===mi){if(r.adler=0,O(e,31),O(e,139),O(e,8),e.gzhead)O(e,(e.gzhead.text?1:0)+(e.gzhead.hcrc?2:0)+(e.gzhead.extra?4:0)+(e.gzhead.name?8:0)+(e.gzhead.comment?16:0)),O(e,e.gzhead.time&255),O(e,e.gzhead.time>>8&255),O(e,e.gzhead.time>>16&255),O(e,e.gzhead.time>>24&255),O(e,e.level===9?2:e.strategy>=Pr||e.level<2?4:0),O(e,e.gzhead.os&255),e.gzhead.extra&&e.gzhead.extra.length&&(O(e,e.gzhead.extra.length&255),O(e,e.gzhead.extra.length>>8&255)),e.gzhead.hcrc&&(r.adler=V(r.adler,e.pending_buf,e.pending,0)),e.gzindex=0,e.status=ai;else if(O(e,0),O(e,0),O(e,0),O(e,0),O(e,0),O(e,e.level===9?2:e.strategy>=Pr||e.level<2?4:0),O(e,Ec),e.status=Qe,te(r),e.pending!==0)return e.last_flush=-1,Y}if(e.status===ai){if(e.gzhead.extra){let i=e.pending,o=(e.gzhead.extra.length&65535)-e.gzindex;for(;e.pending+o>e.pending_buf_size;){let s=e.pending_buf_size-e.pending;if(e.pending_buf.set(e.gzhead.extra.subarray(e.gzindex,e.gzindex+s),e.pending),e.pending=e.pending_buf_size,e.gzhead.hcrc&&e.pending>i&&(r.adler=V(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex+=s,te(r),e.pending!==0)return e.last_flush=-1,Y;i=0,o-=s}let a=new Uint8Array(e.gzhead.extra);e.pending_buf.set(a.subarray(e.gzindex,e.gzindex+o),e.pending),e.pending+=o,e.gzhead.hcrc&&e.pending>i&&(r.adler=V(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=si}if(e.status===si){if(e.gzhead.name){let i=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(r.adler=V(r.adler,e.pending_buf,e.pending-i,i)),te(r),e.pending!==0)return e.last_flush=-1,Y;i=0}e.gzindex<e.gzhead.name.length?o=e.gzhead.name.charCodeAt(e.gzindex++)&255:o=0,O(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>i&&(r.adler=V(r.adler,e.pending_buf,e.pending-i,i)),e.gzindex=0}e.status=fi}if(e.status===fi){if(e.gzhead.comment){let i=e.pending,o;do{if(e.pending===e.pending_buf_size){if(e.gzhead.hcrc&&e.pending>i&&(r.adler=V(r.adler,e.pending_buf,e.pending-i,i)),te(r),e.pending!==0)return e.last_flush=-1,Y;i=0}e.gzindex<e.gzhead.comment.length?o=e.gzhead.comment.charCodeAt(e.gzindex++)&255:o=0,O(e,o)}while(o!==0);e.gzhead.hcrc&&e.pending>i&&(r.adler=V(r.adler,e.pending_buf,e.pending-i,i))}e.status=ui}if(e.status===ui){if(e.gzhead.hcrc){if(e.pending+2>e.pending_buf_size&&(te(r),e.pending!==0))return e.last_flush=-1,Y;O(e,r.adler&255),O(e,r.adler>>8&255),r.adler=0}if(e.status=Qe,te(r),e.pending!==0)return e.last_flush=-1,Y}if(r.avail_in!==0||e.lookahead!==0||t!==Ye&&e.status!==Dt){let i=e.level===0?ss(e,t):e.strategy===Pr?Cc(e,t):e.strategy===uc?Sc(e,t):zt[e.level].func(e,t);if((i===rt||i===Et)&&(e.status=Dt),i===K||i===rt)return r.avail_out===0&&(e.last_flush=-1),Y;if(i===yt&&(t===ic?nc(e):t!==ha&&(ii(e,0,0,!1),t===oc&&(Le(e.head),e.lookahead===0&&(e.strstart=0,e.block_start=0,e.insert=0))),te(r),r.avail_out===0))return e.last_flush=-1,Y}return t!==ae?Y:e.wrap<=0?pa:(e.wrap===2?(O(e,r.adler&255),O(e,r.adler>>8&255),O(e,r.adler>>16&255),O(e,r.adler>>24&255),O(e,r.total_in&255),O(e,r.total_in>>8&255),O(e,r.total_in>>16&255),O(e,r.total_in>>24&255)):(Pt(e,r.adler>>>16),Pt(e,r.adler&65535)),te(r),e.wrap>0&&(e.wrap=-e.wrap),e.pending!==0?Y:pa)},Nc=r=>{if(Jt(r))return Te;let t=r.state.status;return r.state=null,t===Qe?et(r,ac):Y},Fc=(r,t)=>{let e=t.length;if(Jt(r))return Te;let n=r.state,i=n.wrap;if(i===2||i===1&&n.status!==_t||n.lookahead)return Te;if(i===1&&(r.adler=Wt(r.adler,t,e,0)),n.wrap=0,e>=n.w_size){i===0&&(Le(n.head),n.strstart=0,n.block_start=0,n.insert=0);let l=new Uint8Array(n.w_size);l.set(t.subarray(e-n.w_size,e),0),t=l,e=n.w_size}let o=r.avail_in,a=r.next_in,s=r.input;for(r.avail_in=e,r.next_in=0,r.input=t,bt(n);n.lookahead>=F;){let l=n.strstart,f=n.lookahead-(F-1);do n.ins_h=He(n,n.ins_h,n.window[l+F-1]),n.prev[l&n.w_mask]=n.head[n.ins_h],n.head[n.ins_h]=l,l++;while(--f);n.strstart=l,n.lookahead=F-1,bt(n)}return n.strstart+=n.lookahead,n.block_start=n.strstart,n.insert=n.lookahead,n.lookahead=0,n.match_length=n.prev_length=F-1,n.match_available=0,r.next_in=a,r.input=s,r.avail_in=o,n.wrap=i,Y},Bc=$c,Oc=ls,Pc=us,Dc=fs,zc=Ic,Mc=Uc,Lc=Nc,Vc=Fc,Zc="pako deflate (from Nodeca project)",Lt={deflateInit:Bc,deflateInit2:Oc,deflateReset:Pc,deflateResetKeep:Dc,deflateSetHeader:zc,deflate:Mc,deflateEnd:Lc,deflateSetDictionary:Vc,deflateInfo:Zc},Yc=(r,t)=>Object.prototype.hasOwnProperty.call(r,t),Hc=function(r){let t=Array.prototype.slice.call(arguments,1);for(;t.length;){let e=t.shift();if(!!e){if(typeof e!="object")throw new TypeError(e+"must be non-object");for(let n in e)Yc(e,n)&&(r[n]=e[n])}}return r},jc=r=>{let t=0;for(let n=0,i=r.length;n<i;n++)t+=r[n].length;let e=new Uint8Array(t);for(let n=0,i=0,o=r.length;n<o;n++){let a=r[n];e.set(a,i),i+=a.length}return e},Wr={assign:Hc,flattenChunks:jc},cs=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(r){cs=!1}var Gt=new Uint8Array(256);for(let r=0;r<256;r++)Gt[r]=r>=252?6:r>=248?5:r>=240?4:r>=224?3:r>=192?2:1;Gt[254]=Gt[254]=1;var Wc=r=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(r);let t,e,n,i,o,a=r.length,s=0;for(i=0;i<a;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),s+=e<128?1:e<2048?2:e<65536?3:4;for(t=new Uint8Array(s),o=0,i=0;o<s;i++)e=r.charCodeAt(i),(e&64512)===55296&&i+1<a&&(n=r.charCodeAt(i+1),(n&64512)===56320&&(e=65536+(e-55296<<10)+(n-56320),i++)),e<128?t[o++]=e:e<2048?(t[o++]=192|e>>>6,t[o++]=128|e&63):e<65536?(t[o++]=224|e>>>12,t[o++]=128|e>>>6&63,t[o++]=128|e&63):(t[o++]=240|e>>>18,t[o++]=128|e>>>12&63,t[o++]=128|e>>>6&63,t[o++]=128|e&63);return t},Gc=(r,t)=>{if(t<65534&&r.subarray&&cs)return String.fromCharCode.apply(null,r.length===t?r:r.subarray(0,t));let e="";for(let n=0;n<t;n++)e+=String.fromCharCode(r[n]);return e},Kc=(r,t)=>{let e=t||r.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(r.subarray(0,t));let n,i,o=new Array(e*2);for(i=0,n=0;n<e;){let a=r[n++];if(a<128){o[i++]=a;continue}let s=Gt[a];if(s>4){o[i++]=65533,n+=s-1;continue}for(a&=s===2?31:s===3?15:7;s>1&&n<e;)a=a<<6|r[n++]&63,s--;if(s>1){o[i++]=65533;continue}a<65536?o[i++]=a:(a-=65536,o[i++]=55296|a>>10&1023,o[i++]=56320|a&1023)}return Gc(o,i)},Xc=(r,t)=>{t=t||r.length,t>r.length&&(t=r.length);let e=t-1;for(;e>=0&&(r[e]&192)===128;)e--;return e<0||e===0?t:e+Gt[r[e]]>t?e:t},Kt={string2buf:Wc,buf2string:Kc,utf8border:Xc};function qc(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var hs=qc,ps=Object.prototype.toString,{Z_NO_FLUSH:Jc,Z_SYNC_FLUSH:Qc,Z_FULL_FLUSH:eh,Z_FINISH:th,Z_OK:Yr,Z_STREAM_END:rh,Z_DEFAULT_COMPRESSION:nh,Z_DEFAULT_STRATEGY:ih,Z_DEFLATED:oh}=vt;function Qt(r){this.options=Wr.assign({level:nh,method:oh,chunkSize:16384,windowBits:15,memLevel:8,strategy:ih},r||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hs,this.strm.avail_out=0;let e=Lt.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(e!==Yr)throw new Error(tt[e]);if(t.header&&Lt.deflateSetHeader(this.strm,t.header),t.dictionary){let n;if(typeof t.dictionary=="string"?n=Kt.string2buf(t.dictionary):ps.call(t.dictionary)==="[object ArrayBuffer]"?n=new Uint8Array(t.dictionary):n=t.dictionary,e=Lt.deflateSetDictionary(this.strm,n),e!==Yr)throw new Error(tt[e]);this._dict_set=!0}}Qt.prototype.push=function(r,t){let e=this.strm,n=this.options.chunkSize,i,o;if(this.ended)return!1;for(t===~~t?o=t:o=t===!0?th:Jc,typeof r=="string"?e.input=Kt.string2buf(r):ps.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){if(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),(o===Qc||o===eh)&&e.avail_out<=6){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(i=Lt.deflate(e,o),i===rh)return e.next_out>0&&this.onData(e.output.subarray(0,e.next_out)),i=Lt.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===Yr;if(e.avail_out===0){this.onData(e.output);continue}if(o>0&&e.next_out>0){this.onData(e.output.subarray(0,e.next_out)),e.avail_out=0;continue}if(e.avail_in===0)break}return!0};Qt.prototype.onData=function(r){this.chunks.push(r)};Qt.prototype.onEnd=function(r){r===Yr&&(this.result=Wr.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function wi(r,t){let e=new Qt(t);if(e.push(r,!0),e.err)throw e.msg||tt[e.err];return e.result}function ah(r,t){return t=t||{},t.raw=!0,wi(r,t)}function sh(r,t){return t=t||{},t.gzip=!0,wi(r,t)}var fh=Qt,uh=wi,lh=ah,ch=sh,hh=vt,ph={Deflate:fh,deflate:uh,deflateRaw:lh,gzip:ch,constants:hh},Dr=16209,dh=16191,mh=function(t,e){let n,i,o,a,s,l,f,u,h,w,c,g,_,T,E,C,A,v,k,I,y,S,R,$,N=t.state;n=t.next_in,R=t.input,i=n+(t.avail_in-5),o=t.next_out,$=t.output,a=o-(e-t.avail_out),s=o+(t.avail_out-257),l=N.dmax,f=N.wsize,u=N.whave,h=N.wnext,w=N.window,c=N.hold,g=N.bits,_=N.lencode,T=N.distcode,E=(1<<N.lenbits)-1,C=(1<<N.distbits)-1;e:do{g<15&&(c+=R[n++]<<g,g+=8,c+=R[n++]<<g,g+=8),A=_[c&E];t:for(;;){if(v=A>>>24,c>>>=v,g-=v,v=A>>>16&255,v===0)$[o++]=A&65535;else if(v&16){k=A&65535,v&=15,v&&(g<v&&(c+=R[n++]<<g,g+=8),k+=c&(1<<v)-1,c>>>=v,g-=v),g<15&&(c+=R[n++]<<g,g+=8,c+=R[n++]<<g,g+=8),A=T[c&C];r:for(;;){if(v=A>>>24,c>>>=v,g-=v,v=A>>>16&255,v&16){if(I=A&65535,v&=15,g<v&&(c+=R[n++]<<g,g+=8,g<v&&(c+=R[n++]<<g,g+=8)),I+=c&(1<<v)-1,I>l){t.msg="invalid distance too far back",N.mode=Dr;break e}if(c>>>=v,g-=v,v=o-a,I>v){if(v=I-v,v>u&&N.sane){t.msg="invalid distance too far back",N.mode=Dr;break e}if(y=0,S=w,h===0){if(y+=f-v,v<k){k-=v;do $[o++]=w[y++];while(--v);y=o-I,S=$}}else if(h<v){if(y+=f+h-v,v-=h,v<k){k-=v;do $[o++]=w[y++];while(--v);if(y=0,h<k){v=h,k-=v;do $[o++]=w[y++];while(--v);y=o-I,S=$}}}else if(y+=h-v,v<k){k-=v;do $[o++]=w[y++];while(--v);y=o-I,S=$}for(;k>2;)$[o++]=S[y++],$[o++]=S[y++],$[o++]=S[y++],k-=3;k&&($[o++]=S[y++],k>1&&($[o++]=S[y++]))}else{y=o-I;do $[o++]=$[y++],$[o++]=$[y++],$[o++]=$[y++],k-=3;while(k>2);k&&($[o++]=$[y++],k>1&&($[o++]=$[y++]))}}else if((v&64)===0){A=T[(A&65535)+(c&(1<<v)-1)];continue r}else{t.msg="invalid distance code",N.mode=Dr;break e}break}}else if((v&64)===0){A=_[(A&65535)+(c&(1<<v)-1)];continue t}else if(v&32){N.mode=dh;break e}else{t.msg="invalid literal/length code",N.mode=Dr;break e}break}}while(n<i&&o<s);k=g>>3,n-=k,g-=k<<3,c&=(1<<g)-1,t.next_in=n,t.next_out=o,t.avail_in=n<i?5+(i-n):5-(n-i),t.avail_out=o<s?257+(s-o):257-(o-s),N.hold=c,N.bits=g},wt=15,ma=852,wa=592,ga=0,Gn=1,_a=2,wh=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),gh=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),_h=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),bh=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),xh=(r,t,e,n,i,o,a,s)=>{let l=s.bits,f=0,u=0,h=0,w=0,c=0,g=0,_=0,T=0,E=0,C=0,A,v,k,I,y,S=null,R,$=new Uint16Array(wt+1),N=new Uint16Array(wt+1),ce=null,ht,Fe,Be;for(f=0;f<=wt;f++)$[f]=0;for(u=0;u<n;u++)$[t[e+u]]++;for(c=l,w=wt;w>=1&&$[w]===0;w--);if(c>w&&(c=w),w===0)return i[o++]=1<<24|64<<16|0,i[o++]=1<<24|64<<16|0,s.bits=1,0;for(h=1;h<w&&$[h]===0;h++);for(c<h&&(c=h),T=1,f=1;f<=wt;f++)if(T<<=1,T-=$[f],T<0)return-1;if(T>0&&(r===ga||w!==1))return-1;for(N[1]=0,f=1;f<wt;f++)N[f+1]=N[f]+$[f];for(u=0;u<n;u++)t[e+u]!==0&&(a[N[t[e+u]]++]=u);if(r===ga?(S=ce=a,R=20):r===Gn?(S=wh,ce=gh,R=257):(S=_h,ce=bh,R=0),C=0,u=0,f=h,y=o,g=c,_=0,k=-1,E=1<<c,I=E-1,r===Gn&&E>ma||r===_a&&E>wa)return 1;for(;;){ht=f-_,a[u]+1<R?(Fe=0,Be=a[u]):a[u]>=R?(Fe=ce[a[u]-R],Be=S[a[u]-R]):(Fe=32+64,Be=0),A=1<<f-_,v=1<<g,h=v;do v-=A,i[y+(C>>_)+v]=ht<<24|Fe<<16|Be|0;while(v!==0);for(A=1<<f-1;C&A;)A>>=1;if(A!==0?(C&=A-1,C+=A):C=0,u++,--$[f]===0){if(f===w)break;f=t[e+a[u]]}if(f>c&&(C&I)!==k){for(_===0&&(_=c),y+=h,g=f-_,T=1<<g;g+_<w&&(T-=$[g+_],!(T<=0));)g++,T<<=1;if(E+=1<<g,r===Gn&&E>ma||r===_a&&E>wa)return 1;k=C&I,i[k]=c<<24|g<<16|y-o|0}}return C!==0&&(i[y+C]=f-_<<24|64<<16|0),s.bits=c,0},Vt=xh,vh=0,ds=1,ms=2,{Z_FINISH:ba,Z_BLOCK:yh,Z_TREES:zr,Z_OK:nt,Z_STREAM_END:Eh,Z_NEED_DICT:Th,Z_STREAM_ERROR:se,Z_DATA_ERROR:ws,Z_MEM_ERROR:gs,Z_BUF_ERROR:Ah,Z_DEFLATED:xa}=vt,Gr=16180,va=16181,ya=16182,Ea=16183,Ta=16184,Aa=16185,Sa=16186,Ca=16187,ka=16188,Ra=16189,Hr=16190,Re=16191,Kn=16192,Ia=16193,Xn=16194,$a=16195,Ua=16196,Na=16197,Fa=16198,Mr=16199,Lr=16200,Ba=16201,Oa=16202,Pa=16203,Da=16204,za=16205,qn=16206,Ma=16207,La=16208,P=16209,_s=16210,bs=16211,Sh=852,Ch=592,kh=15,Rh=kh,Va=r=>(r>>>24&255)+(r>>>8&65280)+((r&65280)<<8)+((r&255)<<24);function Ih(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}var it=r=>{if(!r)return 1;let t=r.state;return!t||t.strm!==r||t.mode<Gr||t.mode>bs?1:0},xs=r=>{if(it(r))return se;let t=r.state;return r.total_in=r.total_out=t.total=0,r.msg="",t.wrap&&(r.adler=t.wrap&1),t.mode=Gr,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(Sh),t.distcode=t.distdyn=new Int32Array(Ch),t.sane=1,t.back=-1,nt},vs=r=>{if(it(r))return se;let t=r.state;return t.wsize=0,t.whave=0,t.wnext=0,xs(r)},ys=(r,t)=>{let e;if(it(r))return se;let n=r.state;return t<0?(e=0,t=-t):(e=(t>>4)+5,t<48&&(t&=15)),t&&(t<8||t>15)?se:(n.window!==null&&n.wbits!==t&&(n.window=null),n.wrap=e,n.wbits=t,vs(r))},Es=(r,t)=>{if(!r)return se;let e=new Ih;r.state=e,e.strm=r,e.window=null,e.mode=Gr;let n=ys(r,t);return n!==nt&&(r.state=null),n},$h=r=>Es(r,Rh),Za=!0,Jn,Qn,Uh=r=>{if(Za){Jn=new Int32Array(512),Qn=new Int32Array(32);let t=0;for(;t<144;)r.lens[t++]=8;for(;t<256;)r.lens[t++]=9;for(;t<280;)r.lens[t++]=7;for(;t<288;)r.lens[t++]=8;for(Vt(ds,r.lens,0,288,Jn,0,r.work,{bits:9}),t=0;t<32;)r.lens[t++]=5;Vt(ms,r.lens,0,32,Qn,0,r.work,{bits:5}),Za=!1}r.lencode=Jn,r.lenbits=9,r.distcode=Qn,r.distbits=5},Ts=(r,t,e,n)=>{let i,o=r.state;return o.window===null&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),n>=o.wsize?(o.window.set(t.subarray(e-o.wsize,e),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>n&&(i=n),o.window.set(t.subarray(e-n,e-n+i),o.wnext),n-=i,n?(o.window.set(t.subarray(e-n,e),0),o.wnext=n,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0},Nh=(r,t)=>{let e,n,i,o,a,s,l,f,u,h,w,c,g,_,T=0,E,C,A,v,k,I,y,S,R=new Uint8Array(4),$,N,ce=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(it(r)||!r.output||!r.input&&r.avail_in!==0)return se;e=r.state,e.mode===Re&&(e.mode=Kn),a=r.next_out,i=r.output,l=r.avail_out,o=r.next_in,n=r.input,s=r.avail_in,f=e.hold,u=e.bits,h=s,w=l,S=nt;e:for(;;)switch(e.mode){case Gr:if(e.wrap===0){e.mode=Kn;break}for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.wrap&2&&f===35615){e.wbits===0&&(e.wbits=15),e.check=0,R[0]=f&255,R[1]=f>>>8&255,e.check=V(e.check,R,2,0),f=0,u=0,e.mode=va;break}if(e.head&&(e.head.done=!1),!(e.wrap&1)||(((f&255)<<8)+(f>>8))%31){r.msg="incorrect header check",e.mode=P;break}if((f&15)!==xa){r.msg="unknown compression method",e.mode=P;break}if(f>>>=4,u-=4,y=(f&15)+8,e.wbits===0&&(e.wbits=y),y>15||y>e.wbits){r.msg="invalid window size",e.mode=P;break}e.dmax=1<<e.wbits,e.flags=0,r.adler=e.check=1,e.mode=f&512?Ra:Re,f=0,u=0;break;case va:for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.flags=f,(e.flags&255)!==xa){r.msg="unknown compression method",e.mode=P;break}if(e.flags&57344){r.msg="unknown header flags set",e.mode=P;break}e.head&&(e.head.text=f>>8&1),e.flags&512&&e.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,e.check=V(e.check,R,2,0)),f=0,u=0,e.mode=ya;case ya:for(;u<32;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.head&&(e.head.time=f),e.flags&512&&e.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,R[2]=f>>>16&255,R[3]=f>>>24&255,e.check=V(e.check,R,4,0)),f=0,u=0,e.mode=Ea;case Ea:for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.head&&(e.head.xflags=f&255,e.head.os=f>>8),e.flags&512&&e.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,e.check=V(e.check,R,2,0)),f=0,u=0,e.mode=Ta;case Ta:if(e.flags&1024){for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.length=f,e.head&&(e.head.extra_len=f),e.flags&512&&e.wrap&4&&(R[0]=f&255,R[1]=f>>>8&255,e.check=V(e.check,R,2,0)),f=0,u=0}else e.head&&(e.head.extra=null);e.mode=Aa;case Aa:if(e.flags&1024&&(c=e.length,c>s&&(c=s),c&&(e.head&&(y=e.head.extra_len-e.length,e.head.extra||(e.head.extra=new Uint8Array(e.head.extra_len)),e.head.extra.set(n.subarray(o,o+c),y)),e.flags&512&&e.wrap&4&&(e.check=V(e.check,n,c,o)),s-=c,o+=c,e.length-=c),e.length))break e;e.length=0,e.mode=Sa;case Sa:if(e.flags&2048){if(s===0)break e;c=0;do y=n[o+c++],e.head&&y&&e.length<65536&&(e.head.name+=String.fromCharCode(y));while(y&&c<s);if(e.flags&512&&e.wrap&4&&(e.check=V(e.check,n,c,o)),s-=c,o+=c,y)break e}else e.head&&(e.head.name=null);e.length=0,e.mode=Ca;case Ca:if(e.flags&4096){if(s===0)break e;c=0;do y=n[o+c++],e.head&&y&&e.length<65536&&(e.head.comment+=String.fromCharCode(y));while(y&&c<s);if(e.flags&512&&e.wrap&4&&(e.check=V(e.check,n,c,o)),s-=c,o+=c,y)break e}else e.head&&(e.head.comment=null);e.mode=ka;case ka:if(e.flags&512){for(;u<16;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.wrap&4&&f!==(e.check&65535)){r.msg="header crc mismatch",e.mode=P;break}f=0,u=0}e.head&&(e.head.hcrc=e.flags>>9&1,e.head.done=!0),r.adler=e.check=0,e.mode=Re;break;case Ra:for(;u<32;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}r.adler=e.check=Va(f),f=0,u=0,e.mode=Hr;case Hr:if(e.havedict===0)return r.next_out=a,r.avail_out=l,r.next_in=o,r.avail_in=s,e.hold=f,e.bits=u,Th;r.adler=e.check=1,e.mode=Re;case Re:if(t===yh||t===zr)break e;case Kn:if(e.last){f>>>=u&7,u-=u&7,e.mode=qn;break}for(;u<3;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}switch(e.last=f&1,f>>>=1,u-=1,f&3){case 0:e.mode=Ia;break;case 1:if(Uh(e),e.mode=Mr,t===zr){f>>>=2,u-=2;break e}break;case 2:e.mode=Ua;break;case 3:r.msg="invalid block type",e.mode=P}f>>>=2,u-=2;break;case Ia:for(f>>>=u&7,u-=u&7;u<32;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if((f&65535)!==(f>>>16^65535)){r.msg="invalid stored block lengths",e.mode=P;break}if(e.length=f&65535,f=0,u=0,e.mode=Xn,t===zr)break e;case Xn:e.mode=$a;case $a:if(c=e.length,c){if(c>s&&(c=s),c>l&&(c=l),c===0)break e;i.set(n.subarray(o,o+c),a),s-=c,o+=c,l-=c,a+=c,e.length-=c;break}e.mode=Re;break;case Ua:for(;u<14;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.nlen=(f&31)+257,f>>>=5,u-=5,e.ndist=(f&31)+1,f>>>=5,u-=5,e.ncode=(f&15)+4,f>>>=4,u-=4,e.nlen>286||e.ndist>30){r.msg="too many length or distance symbols",e.mode=P;break}e.have=0,e.mode=Na;case Na:for(;e.have<e.ncode;){for(;u<3;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.lens[ce[e.have++]]=f&7,f>>>=3,u-=3}for(;e.have<19;)e.lens[ce[e.have++]]=0;if(e.lencode=e.lendyn,e.lenbits=7,$={bits:e.lenbits},S=Vt(vh,e.lens,0,19,e.lencode,0,e.work,$),e.lenbits=$.bits,S){r.msg="invalid code lengths set",e.mode=P;break}e.have=0,e.mode=Fa;case Fa:for(;e.have<e.nlen+e.ndist;){for(;T=e.lencode[f&(1<<e.lenbits)-1],E=T>>>24,C=T>>>16&255,A=T&65535,!(E<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(A<16)f>>>=E,u-=E,e.lens[e.have++]=A;else{if(A===16){for(N=E+2;u<N;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(f>>>=E,u-=E,e.have===0){r.msg="invalid bit length repeat",e.mode=P;break}y=e.lens[e.have-1],c=3+(f&3),f>>>=2,u-=2}else if(A===17){for(N=E+3;u<N;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}f>>>=E,u-=E,y=0,c=3+(f&7),f>>>=3,u-=3}else{for(N=E+7;u<N;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}f>>>=E,u-=E,y=0,c=11+(f&127),f>>>=7,u-=7}if(e.have+c>e.nlen+e.ndist){r.msg="invalid bit length repeat",e.mode=P;break}for(;c--;)e.lens[e.have++]=y}}if(e.mode===P)break;if(e.lens[256]===0){r.msg="invalid code -- missing end-of-block",e.mode=P;break}if(e.lenbits=9,$={bits:e.lenbits},S=Vt(ds,e.lens,0,e.nlen,e.lencode,0,e.work,$),e.lenbits=$.bits,S){r.msg="invalid literal/lengths set",e.mode=P;break}if(e.distbits=6,e.distcode=e.distdyn,$={bits:e.distbits},S=Vt(ms,e.lens,e.nlen,e.ndist,e.distcode,0,e.work,$),e.distbits=$.bits,S){r.msg="invalid distances set",e.mode=P;break}if(e.mode=Mr,t===zr)break e;case Mr:e.mode=Lr;case Lr:if(s>=6&&l>=258){r.next_out=a,r.avail_out=l,r.next_in=o,r.avail_in=s,e.hold=f,e.bits=u,mh(r,w),a=r.next_out,i=r.output,l=r.avail_out,o=r.next_in,n=r.input,s=r.avail_in,f=e.hold,u=e.bits,e.mode===Re&&(e.back=-1);break}for(e.back=0;T=e.lencode[f&(1<<e.lenbits)-1],E=T>>>24,C=T>>>16&255,A=T&65535,!(E<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(C&&(C&240)===0){for(v=E,k=C,I=A;T=e.lencode[I+((f&(1<<v+k)-1)>>v)],E=T>>>24,C=T>>>16&255,A=T&65535,!(v+E<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}f>>>=v,u-=v,e.back+=v}if(f>>>=E,u-=E,e.back+=E,e.length=A,C===0){e.mode=za;break}if(C&32){e.back=-1,e.mode=Re;break}if(C&64){r.msg="invalid literal/length code",e.mode=P;break}e.extra=C&15,e.mode=Ba;case Ba:if(e.extra){for(N=e.extra;u<N;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.length+=f&(1<<e.extra)-1,f>>>=e.extra,u-=e.extra,e.back+=e.extra}e.was=e.length,e.mode=Oa;case Oa:for(;T=e.distcode[f&(1<<e.distbits)-1],E=T>>>24,C=T>>>16&255,A=T&65535,!(E<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if((C&240)===0){for(v=E,k=C,I=A;T=e.distcode[I+((f&(1<<v+k)-1)>>v)],E=T>>>24,C=T>>>16&255,A=T&65535,!(v+E<=u);){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}f>>>=v,u-=v,e.back+=v}if(f>>>=E,u-=E,e.back+=E,C&64){r.msg="invalid distance code",e.mode=P;break}e.offset=A,e.extra=C&15,e.mode=Pa;case Pa:if(e.extra){for(N=e.extra;u<N;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}e.offset+=f&(1<<e.extra)-1,f>>>=e.extra,u-=e.extra,e.back+=e.extra}if(e.offset>e.dmax){r.msg="invalid distance too far back",e.mode=P;break}e.mode=Da;case Da:if(l===0)break e;if(c=w-l,e.offset>c){if(c=e.offset-c,c>e.whave&&e.sane){r.msg="invalid distance too far back",e.mode=P;break}c>e.wnext?(c-=e.wnext,g=e.wsize-c):g=e.wnext-c,c>e.length&&(c=e.length),_=e.window}else _=i,g=a-e.offset,c=e.length;c>l&&(c=l),l-=c,e.length-=c;do i[a++]=_[g++];while(--c);e.length===0&&(e.mode=Lr);break;case za:if(l===0)break e;i[a++]=e.length,l--,e.mode=Lr;break;case qn:if(e.wrap){for(;u<32;){if(s===0)break e;s--,f|=n[o++]<<u,u+=8}if(w-=l,r.total_out+=w,e.total+=w,e.wrap&4&&w&&(r.adler=e.check=e.flags?V(e.check,i,w,a-w):Wt(e.check,i,w,a-w)),w=l,e.wrap&4&&(e.flags?f:Va(f))!==e.check){r.msg="incorrect data check",e.mode=P;break}f=0,u=0}e.mode=Ma;case Ma:if(e.wrap&&e.flags){for(;u<32;){if(s===0)break e;s--,f+=n[o++]<<u,u+=8}if(e.wrap&4&&f!==(e.total&4294967295)){r.msg="incorrect length check",e.mode=P;break}f=0,u=0}e.mode=La;case La:S=Eh;break e;case P:S=ws;break e;case _s:return gs;case bs:default:return se}return r.next_out=a,r.avail_out=l,r.next_in=o,r.avail_in=s,e.hold=f,e.bits=u,(e.wsize||w!==r.avail_out&&e.mode<P&&(e.mode<qn||t!==ba))&&Ts(r,r.output,r.next_out,w-r.avail_out),h-=r.avail_in,w-=r.avail_out,r.total_in+=h,r.total_out+=w,e.total+=w,e.wrap&4&&w&&(r.adler=e.check=e.flags?V(e.check,i,w,r.next_out-w):Wt(e.check,i,w,r.next_out-w)),r.data_type=e.bits+(e.last?64:0)+(e.mode===Re?128:0)+(e.mode===Mr||e.mode===Xn?256:0),(h===0&&w===0||t===ba)&&S===nt&&(S=Ah),S},Fh=r=>{if(it(r))return se;let t=r.state;return t.window&&(t.window=null),r.state=null,nt},Bh=(r,t)=>{if(it(r))return se;let e=r.state;return(e.wrap&2)===0?se:(e.head=t,t.done=!1,nt)},Oh=(r,t)=>{let e=t.length,n,i,o;return it(r)||(n=r.state,n.wrap!==0&&n.mode!==Hr)?se:n.mode===Hr&&(i=1,i=Wt(i,t,e,0),i!==n.check)?ws:(o=Ts(r,t,e,e),o?(n.mode=_s,gs):(n.havedict=1,nt))},Ph=vs,Dh=ys,zh=xs,Mh=$h,Lh=Es,Vh=Nh,Zh=Fh,Yh=Bh,Hh=Oh,jh="pako inflate (from Nodeca project)",$e={inflateReset:Ph,inflateReset2:Dh,inflateResetKeep:zh,inflateInit:Mh,inflateInit2:Lh,inflate:Vh,inflateEnd:Zh,inflateGetHeader:Yh,inflateSetDictionary:Hh,inflateInfo:jh};function Wh(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var Gh=Wh,As=Object.prototype.toString,{Z_NO_FLUSH:Kh,Z_FINISH:Xh,Z_OK:Xt,Z_STREAM_END:ei,Z_NEED_DICT:ti,Z_STREAM_ERROR:qh,Z_DATA_ERROR:Ya,Z_MEM_ERROR:Jh}=vt;function er(r){this.options=Wr.assign({chunkSize:1024*64,windowBits:15,to:""},r||{});let t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,t.windowBits===0&&(t.windowBits=-15)),t.windowBits>=0&&t.windowBits<16&&!(r&&r.windowBits)&&(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&(t.windowBits&15)===0&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new hs,this.strm.avail_out=0;let e=$e.inflateInit2(this.strm,t.windowBits);if(e!==Xt)throw new Error(tt[e]);if(this.header=new Gh,$e.inflateGetHeader(this.strm,this.header),t.dictionary&&(typeof t.dictionary=="string"?t.dictionary=Kt.string2buf(t.dictionary):As.call(t.dictionary)==="[object ArrayBuffer]"&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(e=$e.inflateSetDictionary(this.strm,t.dictionary),e!==Xt)))throw new Error(tt[e])}er.prototype.push=function(r,t){let e=this.strm,n=this.options.chunkSize,i=this.options.dictionary,o,a,s;if(this.ended)return!1;for(t===~~t?a=t:a=t===!0?Xh:Kh,As.call(r)==="[object ArrayBuffer]"?e.input=new Uint8Array(r):e.input=r,e.next_in=0,e.avail_in=e.input.length;;){for(e.avail_out===0&&(e.output=new Uint8Array(n),e.next_out=0,e.avail_out=n),o=$e.inflate(e,a),o===ti&&i&&(o=$e.inflateSetDictionary(e,i),o===Xt?o=$e.inflate(e,a):o===Ya&&(o=ti));e.avail_in>0&&o===ei&&e.state.wrap>0&&r[e.next_in]!==0;)$e.inflateReset(e),o=$e.inflate(e,a);switch(o){case qh:case Ya:case ti:case Jh:return this.onEnd(o),this.ended=!0,!1}if(s=e.avail_out,e.next_out&&(e.avail_out===0||o===ei))if(this.options.to==="string"){let l=Kt.utf8border(e.output,e.next_out),f=e.next_out-l,u=Kt.buf2string(e.output,l);e.next_out=f,e.avail_out=n-f,f&&e.output.set(e.output.subarray(l,l+f),0),this.onData(u)}else this.onData(e.output.length===e.next_out?e.output:e.output.subarray(0,e.next_out));if(!(o===Xt&&s===0)){if(o===ei)return o=$e.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(e.avail_in===0)break}}return!0};er.prototype.onData=function(r){this.chunks.push(r)};er.prototype.onEnd=function(r){r===Xt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Wr.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg};function gi(r,t){let e=new er(t);if(e.push(r),e.err)throw e.msg||tt[e.err];return e.result}function Qh(r,t){return t=t||{},t.raw=!0,gi(r,t)}var ep=er,tp=gi,rp=Qh,np=gi,ip=vt,op={Inflate:ep,inflate:tp,inflateRaw:rp,ungzip:np,constants:ip},{Deflate:bd,deflate:xd,deflateRaw:vd,gzip:yd}=ph,{Inflate:Ed,inflate:Td,inflateRaw:ap,ungzip:Ad}=op;var Ss=ap;function Cs(r){return Ss(r.subarray(2))}p();d();var _i=class extends Error{constructor(t){super(t),this.code="ERR_ABORTED"}};function ks(r){r.sort((i,o)=>Number(i.offset)-Number(o.offset));let t=[],e,n;for(let i of r)e&&n&&Number(i.offset)-n<=2e3?(e.length=BigInt(Number(e.length)+Number(i.length)-n+Number(i.offset)),e.blocks.push(i)):t.push(e={blocks:[i],length:i.length,offset:i.offset}),n=Number(e.offset)+Number(e.length);return t}function tr(r){if(!!r&&r.aborted)if(typeof DOMException=="undefined"){let t=new _i("aborted");throw t.code="ERR_ABORTED",t}else throw new DOMException("aborted","AbortError")}var sp=1,fp=2,up=3;function bi(r,t,e,n){return r<n&&t>=e}function lp(r){let t=r?"big":"little",e=new U().endianess(t).uint32("chromId").uint32("start").uint32("end").uint32("validCnt").floatle("minScore").floatle("maxScore").floatle("sumData").floatle("sumSqData").saveOffset("offset"),n=new U().endianess(t).uint8("isLeaf").skip(1).uint16("cnt").choice({tag:"isLeaf",choices:{1:new U().endianess(t).array("blocksToFetch",{length:"cnt",type:new U().endianess(t).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").uint64("blockSize").saveOffset("offset")}),0:new U().array("recurOffsets",{length:"cnt",type:new U().endianess(t).uint32("startChrom").uint32("startBase").uint32("endChrom").uint32("endBase").uint64("blockOffset").saveOffset("offset")})}}),i=new U().endianess(t).uint32("chromId").int32("start").int32("end").string("rest",{zeroTerminated:!0}).saveOffset("offset");return{bigWigParser:new U().endianess(t).skip(4).int32("blockStart").skip(4).uint32("itemStep").uint32("itemSpan").uint8("blockType").skip(1).uint16("itemCount").choice({tag:"blockType",choices:{[up]:new U().array("items",{length:"itemCount",type:new U().floatle("score")}),[fp]:new U().array("items",{length:"itemCount",type:new U().endianess(t).int32("start").floatle("score")}),[sp]:new U().array("items",{length:"itemCount",type:new U().endianess(t).int32("start").int32("end").floatle("score")})}}),bigBedParser:i,summaryParser:e,leafParser:n}}var rr=class{constructor(t,e,n,i,o,a){if(this.bbi=t,this.refsByName=e,this.cirTreeOffset=n,this.isBigEndian=i,this.isCompressed=o,this.blockType=a,this.featureCache=new me({cache:new Rs.default({maxSize:1e3}),fill:async(l,f)=>{let u=Number(l.length),h=Number(l.offset),{buffer:w}=await this.bbi.read(x.alloc(u),0,u,h,{signal:f});return w}}),!(n>=0))throw new Error("invalid cirTreeOffset!");let s=lp(i);this.leafParser=s.leafParser,this.bigBedParser=s.bigBedParser}async readWigData(t,e,n,i,o){try{let{refsByName:a,bbi:s,cirTreeOffset:l,isBigEndian:f}=this,u=a[t];u===void 0&&i.complete();let h={chrId:u,start:e,end:n};this.cirTreePromise||(this.cirTreePromise=s.read(x.alloc(48),0,48,Number(l),o));let{buffer:w}=await this.cirTreePromise,c=f?w.readUInt32BE(4):w.readUInt32LE(4),g=[],_=0,T=(v,k,I)=>{try{let y=v.subarray(k),S=this.leafParser.parse(y);if(S.blocksToFetch&&(g=g.concat(S.blocksToFetch.filter(R=>E(R)).map(R=>({offset:R.blockOffset,length:R.blockSize})))),S.recurOffsets){let R=S.recurOffsets.filter($=>E($)).map($=>Number($.blockOffset));R.length>0&&A(R,I+1)}}catch(y){i.error(y)}},E=v=>{let{startChrom:k,startBase:I,endChrom:y,endBase:S}=v;return(k<u||k===u&&I<=n)&&(y>u||y===u&&S>=e)},C=async(v,k,I)=>{try{let y=k.max-k.min,S=k.min,R=await this.featureCache.get(`${y}_${S}`,{length:y,offset:S},o==null?void 0:o.signal);for(let $ of v)k.contains($)&&(T(R,$-S,I),_-=1,_===0&&this.readFeatures(i,g,{...o,request:h}).catch(N=>i.error(N)))}catch(y){i.error(y)}},A=(v,k)=>{try{_+=v.length;let I=4+Number(c)*32,y=new ve([{min:v[0],max:v[0]+I}]);for(let S=1;S<v.length;S+=1){let R=new ve([{min:v[S],max:v[S]+I}]);y=y.union(R)}y.getRanges().map(S=>C(v,S,k))}catch(I){i.error(I)}};return A([Number(l)+48],1)}catch(a){i.error(a)}}parseSummaryBlock(t,e,n){let i=[],o=e,a=new DataView(t.buffer,t.byteOffset,t.length);for(;o<t.byteLength;){let s=a.getUint32(o,!0);o+=4;let l=a.getUint32(o,!0);o+=4;let f=a.getUint32(o,!0);o+=4;let u=a.getUint32(o,!0);o+=4;let h=a.getFloat32(o,!0);o+=4;let w=a.getFloat32(o,!0);o+=4;let c=a.getFloat32(o,!0);o+=4,o+=4,(!n||s===n.chrId&&bi(l,f,n.start,n.end))&&i.push({start:l,end:f,maxScore:w,minScore:h,summary:!0,score:c/(u||1)})}return i}parseBigBedBlock(t,e,n,i){let o=[],a=e;for(;a<t.byteLength;){let s=this.bigBedParser.parse(t.subarray(a));s.uniqueId=`bb-${n+a}`,o.push(s),a+=s.offset}return i?o.filter(s=>bi(s.start,s.end,i.start,i.end)):o}parseBigWigBlock(t,e,n){let i=t.subarray(e),o=new DataView(i.buffer,i.byteOffset,i.length),a=0;a+=4;let s=o.getInt32(a,!0);a+=8;let l=o.getUint32(a,!0);a+=4;let f=o.getUint32(a,!0);a+=4;let u=o.getUint8(a);a+=2;let h=o.getUint16(a,!0);a+=2;let w=new Array(h);switch(u){case 1:{for(let c=0;c<h;c++){let g=o.getInt32(a,!0);a+=4;let _=o.getInt32(a,!0);a+=4;let T=o.getFloat32(a,!0);a+=4,w[c]={start:g,end:_,score:T}}break}case 2:{for(let c=0;c<h;c++){let g=o.getInt32(a,!0);a+=4;let _=o.getFloat32(a,!0);a+=4,w[c]={score:_,start:g,end:g+f}}break}case 3:{for(let c=0;c<h;c++){let g=o.getFloat32(a,!0);a+=4;let _=s+c*l;w[c]={score:g,start:_,end:_+f}}break}}return n?w.filter(c=>bi(c.start,c.end,n.start,n.end)):w}async readFeatures(t,e,n={}){try{let{blockType:i,isCompressed:o}=this,{signal:a,request:s}=n,l=ks(e);tr(a),await Promise.all(l.map(async f=>{tr(a);let{length:u,offset:h}=f,w=await this.featureCache.get(`${u}_${h}`,f,a);for(let c of f.blocks){tr(a);let g=Number(c.offset)-Number(f.offset),_=w;switch(o&&(_=Cs(w.subarray(g)),g=0),tr(a),i){case"summary":{t.next(this.parseSummaryBlock(_,g,s));break}case"bigwig":{t.next(this.parseBigWigBlock(_,g,s));break}case"bigbed":{t.next(this.parseBigBedBlock(_,g,Number(c.offset)*(1<<8),s));break}default:console.warn(`Don't know what to do with ${i}`)}}})),t.complete()}catch(i){t.error(i)}}};p();d();p();d();var cp=It(xi());p();d();function Is(r){return(typeof r=="object"&&r!==null&&"message"in r?r.message:`${r}`).replace(/\.$/,"")}var Ue=class{async getBufferFromResponse(t){let e=await t.arrayBuffer();return x.from(e)}constructor(t,e={}){this.baseOverrides={},this.url=t;let n=e.fetch||globalThis.fetch.bind(globalThis);if(!n)throw new TypeError("no fetch function supplied, and none found in global environment");e.overrides&&(this.baseOverrides=e.overrides),this.fetchImplementation=n}async fetch(t,e){let n;try{n=await this.fetchImplementation(t,e)}catch(i){if(`${i}`.includes("Failed to fetch")){console.warn(`generic-filehandle: refetching ${t} to attempt to work around chrome CORS header caching bug`);try{n=await this.fetchImplementation(t,{...e,cache:"reload"})}catch(o){throw new Error(`${Is(o)} fetching ${t}`,{cause:o})}}else throw new Error(`${Is(i)} fetching ${t}`,{cause:i})}return n}async read(t,e=0,n,i=0,o={}){let{headers:a={},signal:s,overrides:l={}}=o;n<1/0?a.range=`bytes=${i}-${i+n}`:n===1/0&&i!==0&&(a.range=`bytes=${i}-`);let f=await this.fetch(this.url,{...this.baseOverrides,...l,headers:{...a,...l.headers,...this.baseOverrides.headers},method:"GET",redirect:"follow",mode:"cors",signal:s});if(!f.ok)throw new Error(`HTTP ${f.status} fetching ${this.url}`);if(f.status===200&&i===0||f.status===206){let u=await this.getBufferFromResponse(f),h=u.copy(t,e,0,Math.min(n,u.length)),w=f.headers.get("content-range"),c=/\/(\d+)$/.exec(w||"");return c!=null&&c[1]&&(this._stat={size:parseInt(c[1],10)}),{bytesRead:h,buffer:t}}throw f.status===200?new Error(`${this.url} fetch returned status 200, expected 206`):new Error(`HTTP ${f.status} fetching ${this.url}`)}async readFile(t={}){let e,n;typeof t=="string"?(e=t,n={}):(e=t.encoding,n=t,delete n.encoding);let{headers:i={},signal:o,overrides:a={}}=n,s=await this.fetch(this.url,{headers:i,method:"GET",redirect:"follow",mode:"cors",signal:o,...this.baseOverrides,...a});if(s.status!==200)throw new Error(`HTTP ${s.status} fetching ${this.url}`);if(e==="utf8")return s.text();if(e)throw new Error(`unsupported encoding: ${e}`);return this.getBufferFromResponse(s)}async stat(){if(!this._stat){let t=x.allocUnsafe(10);if(await this.read(t,0,10,0),!this._stat)throw new Error(`unable to determine size of file at ${this.url}`)}return this._stat}async close(){}};p();d();p();d();var vi=It(xi());p();d();p();d();p();d();p();d();var yi=function(r,t){return yi=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])},yi(r,t)};function nr(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");yi(r,t);function e(){this.constructor=r}r.prototype=t===null?Object.create(t):(e.prototype=t.prototype,new e)}function $s(r,t,e,n){function i(o){return o instanceof e?o:new e(function(a){a(o)})}return new(e||(e=Promise))(function(o,a){function s(u){try{f(n.next(u))}catch(h){a(h)}}function l(u){try{f(n.throw(u))}catch(h){a(h)}}function f(u){u.done?o(u.value):i(u.value).then(s,l)}f((n=n.apply(r,t||[])).next())})}function Kr(r,t){var e={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=s(0),a.throw=s(1),a.return=s(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function s(f){return function(u){return l([f,u])}}function l(f){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,f[0]&&(e=0)),e;)try{if(n=1,i&&(o=f[0]&2?i.return:f[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,f[1])).done)return o;switch(i=0,o&&(f=[f[0]&2,o.value]),f[0]){case 0:case 1:o=f;break;case 4:return e.label++,{value:f[1],done:!1};case 5:e.label++,i=f[1],f=[0];continue;case 7:f=e.ops.pop(),e.trys.pop();continue;default:if(o=e.trys,!(o=o.length>0&&o[o.length-1])&&(f[0]===6||f[0]===2)){e=0;continue}if(f[0]===3&&(!o||f[1]>o[0]&&f[1]<o[3])){e.label=f[1];break}if(f[0]===6&&e.label<o[1]){e.label=o[1],o=f;break}if(o&&e.label<o[2]){e.label=o[2],e.ops.push(f);break}o[2]&&e.ops.pop(),e.trys.pop();continue}f=t.call(r,e)}catch(u){f=[6,u],i=0}finally{n=o=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function ot(r){var t=typeof Symbol=="function"&&Symbol.iterator,e=t&&r[t],n=0;if(e)return e.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&n>=r.length&&(r=void 0),{value:r&&r[n++],done:!r}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Tt(r,t){var e=typeof Symbol=="function"&&r[Symbol.iterator];if(!e)return r;var n=e.call(r),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)o.push(i.value)}catch(s){a={error:s}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(a)throw a.error}}return o}function At(r,t,e){if(e||arguments.length===2)for(var n=0,i=t.length,o;n<i;n++)(o||!(n in t))&&(o||(o=Array.prototype.slice.call(t,0,n)),o[n]=t[n]);return r.concat(o||Array.prototype.slice.call(t))}function at(r){return this instanceof at?(this.v=r,this):new at(r)}function Us(r,t,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e.apply(r,t||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(c){return function(g){return Promise.resolve(g).then(c,h)}}function s(c,g){n[c]&&(i[c]=function(_){return new Promise(function(T,E){o.push([c,_,T,E])>1||l(c,_)})},g&&(i[c]=g(i[c])))}function l(c,g){try{f(n[c](g))}catch(_){w(o[0][3],_)}}function f(c){c.value instanceof at?Promise.resolve(c.value.v).then(u,h):w(o[0][2],c)}function u(c){l("next",c)}function h(c){l("throw",c)}function w(c,g){c(g),o.shift(),o.length&&l(o[0][0],o[0][1])}}function Ns(r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=r[Symbol.asyncIterator],e;return t?t.call(r):(r=typeof ot=="function"?ot(r):r[Symbol.iterator](),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(o){e[o]=r[o]&&function(a){return new Promise(function(s,l){a=r[o](a),i(s,l,a.done,a.value)})}}function i(o,a,s,l){Promise.resolve(l).then(function(f){o({value:f,done:s})},a)}}p();d();function B(r){return typeof r=="function"}p();d();p();d();p();d();function Xr(r){var t=function(n){Error.call(n),n.stack=new Error().stack},e=r(t);return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}var qr=Xr(function(r){return function(e){r(this),this.message=e?e.length+` errors occurred during unsubscription:
`+e.map(function(n,i){return i+1+") "+n.toString()}).join(`
  `):"",this.name="UnsubscriptionError",this.errors=e}});p();d();function Ei(r,t){if(r){var e=r.indexOf(t);0<=e&&r.splice(e,1)}}var Jr=function(){function r(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return r.prototype.unsubscribe=function(){var t,e,n,i,o;if(!this.closed){this.closed=!0;var a=this._parentage;if(a)if(this._parentage=null,Array.isArray(a))try{for(var s=ot(a),l=s.next();!l.done;l=s.next()){var f=l.value;f.remove(this)}}catch(_){t={error:_}}finally{try{l&&!l.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else a.remove(this);var u=this.initialTeardown;if(B(u))try{u()}catch(_){o=_ instanceof qr?_.errors:[_]}var h=this._finalizers;if(h){this._finalizers=null;try{for(var w=ot(h),c=w.next();!c.done;c=w.next()){var g=c.value;try{Fs(g)}catch(_){o=o!=null?o:[],_ instanceof qr?o=At(At([],Tt(o)),Tt(_.errors)):o.push(_)}}}catch(_){n={error:_}}finally{try{c&&!c.done&&(i=w.return)&&i.call(w)}finally{if(n)throw n.error}}}if(o)throw new qr(o)}},r.prototype.add=function(t){var e;if(t&&t!==this)if(this.closed)Fs(t);else{if(t instanceof r){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=(e=this._finalizers)!==null&&e!==void 0?e:[]).push(t)}},r.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},r.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},r.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&Ei(e,t)},r.prototype.remove=function(t){var e=this._finalizers;e&&Ei(e,t),t instanceof r&&t._removeParent(this)},r.EMPTY=function(){var t=new r;return t.closed=!0,t}(),r}();var om=Jr.EMPTY;function Qr(r){return r instanceof Jr||r&&"closed"in r&&B(r.remove)&&B(r.add)&&B(r.unsubscribe)}function Fs(r){B(r)?r():r.unsubscribe()}p();d();var we={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};p();d();p();d();var St={setTimeout:function(r,t){for(var e=[],n=2;n<arguments.length;n++)e[n-2]=arguments[n];var i=St.delegate;return i!=null&&i.setTimeout?i.setTimeout.apply(i,At([r,t],Tt(e))):setTimeout.apply(void 0,At([r,t],Tt(e)))},clearTimeout:function(r){var t=St.delegate;return((t==null?void 0:t.clearTimeout)||clearTimeout)(r)},delegate:void 0};function en(r){St.setTimeout(function(){var t=we.onUnhandledError;if(t)t(r);else throw r})}p();d();function Ti(){}p();d();var Bs=function(){return Ai("C",void 0,void 0)}();function Os(r){return Ai("E",void 0,r)}function Ps(r){return Ai("N",r,void 0)}function Ai(r,t,e){return{kind:r,value:t,error:e}}p();d();var st=null;function Ds(r){if(we.useDeprecatedSynchronousErrorHandling){var t=!st;if(t&&(st={errorThrown:!1,error:null}),r(),t){var e=st,n=e.errorThrown,i=e.error;if(st=null,n)throw i}}else r()}function zs(r){we.useDeprecatedSynchronousErrorHandling&&st&&(st.errorThrown=!0,st.error=r)}var ir=function(r){nr(t,r);function t(e){var n=r.call(this)||this;return n.isStopped=!1,e?(n.destination=e,Qr(e)&&e.add(n)):n.destination=mp,n}return t.create=function(e,n,i){return new Ct(e,n,i)},t.prototype.next=function(e){this.isStopped?Ci(Ps(e),this):this._next(e)},t.prototype.error=function(e){this.isStopped?Ci(Os(e),this):(this.isStopped=!0,this._error(e))},t.prototype.complete=function(){this.isStopped?Ci(Bs,this):(this.isStopped=!0,this._complete())},t.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,r.prototype.unsubscribe.call(this),this.destination=null)},t.prototype._next=function(e){this.destination.next(e)},t.prototype._error=function(e){try{this.destination.error(e)}finally{this.unsubscribe()}},t.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},t}(Jr);var hp=Function.prototype.bind;function Si(r,t){return hp.call(r,t)}var pp=function(){function r(t){this.partialObserver=t}return r.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(n){tn(n)}},r.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(n){tn(n)}else tn(t)},r.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(e){tn(e)}},r}(),Ct=function(r){nr(t,r);function t(e,n,i){var o=r.call(this)||this,a;if(B(e)||!e)a={next:e!=null?e:void 0,error:n!=null?n:void 0,complete:i!=null?i:void 0};else{var s;o&&we.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=function(){return o.unsubscribe()},a={next:e.next&&Si(e.next,s),error:e.error&&Si(e.error,s),complete:e.complete&&Si(e.complete,s)}):a=e}return o.destination=new pp(a),o}return t}(ir);function tn(r){we.useDeprecatedSynchronousErrorHandling?zs(r):en(r)}function dp(r){throw r}function Ci(r,t){var e=we.onStoppedNotification;e&&St.setTimeout(function(){return e(r,t)})}var mp={closed:!0,next:Ti,error:dp,complete:Ti};p();d();var kt=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();p();d();p();d();function rn(r){return r}function Ms(r){return r.length===0?rn:r.length===1?r[0]:function(e){return r.reduce(function(n,i){return i(n)},e)}}var D=function(){function r(t){t&&(this._subscribe=t)}return r.prototype.lift=function(t){var e=new r;return e.source=this,e.operator=t,e},r.prototype.subscribe=function(t,e,n){var i=this,o=gp(t)?t:new Ct(t,e,n);return Ds(function(){var a=i,s=a.operator,l=a.source;o.add(s?s.call(o,l):l?i._subscribe(o):i._trySubscribe(o))}),o},r.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},r.prototype.forEach=function(t,e){var n=this;return e=Ls(e),new e(function(i,o){var a=new Ct({next:function(s){try{t(s)}catch(l){o(l),a.unsubscribe()}},error:o,complete:i});n.subscribe(a)})},r.prototype._subscribe=function(t){var e;return(e=this.source)===null||e===void 0?void 0:e.subscribe(t)},r.prototype[kt]=function(){return this},r.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Ms(t)(this)},r.prototype.toPromise=function(t){var e=this;return t=Ls(t),new t(function(n,i){var o;e.subscribe(function(a){return o=a},function(a){return i(a)},function(){return n(o)})})},r.create=function(t){return new r(t)},r}();function Ls(r){var t;return(t=r!=null?r:we.Promise)!==null&&t!==void 0?t:Promise}function wp(r){return r&&B(r.next)&&B(r.error)&&B(r.complete)}function gp(r){return r&&r instanceof ir||wp(r)&&Qr(r)}p();d();function _p(r){return B(r==null?void 0:r.lift)}function fe(r){return function(t){if(_p(t))return t.lift(function(e){try{return r(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}p();d();function Ne(r,t,e,n,i){return new bp(r,t,e,n,i)}var bp=function(r){nr(t,r);function t(e,n,i,o,a,s){var l=r.call(this,e)||this;return l.onFinalize=a,l.shouldUnsubscribe=s,l._next=n?function(f){try{n(f)}catch(u){e.error(u)}}:r.prototype._next,l._error=o?function(f){try{o(f)}catch(u){e.error(u)}finally{this.unsubscribe()}}:r.prototype._error,l._complete=i?function(){try{i()}catch(f){e.error(f)}finally{this.unsubscribe()}}:r.prototype._complete,l}return t.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;r.prototype.unsubscribe.call(this),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}},t}(ir);p();d();var Vs=new D(function(r){return r.complete()});p();d();p();d();function Zs(r){return r&&B(r.schedule)}function Ys(r){return r[r.length-1]}function Hs(r){return Zs(Ys(r))?r.pop():void 0}function js(r,t){return typeof Ys(r)=="number"?r.pop():t}p();d();p();d();p();d();p();d();p();d();var nn=function(r){return r&&typeof r.length=="number"&&typeof r!="function"};p();d();function on(r){return B(r==null?void 0:r.then)}p();d();function an(r){return B(r[kt])}p();d();function sn(r){return Symbol.asyncIterator&&B(r==null?void 0:r[Symbol.asyncIterator])}p();d();function fn(r){return new TypeError("You provided "+(r!==null&&typeof r=="object"?"an invalid object":"'"+r+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}p();d();p();d();function xp(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var un=xp();function ln(r){return B(r==null?void 0:r[un])}p();d();function cn(r){return Us(this,arguments,function(){var e,n,i,o;return Kr(this,function(a){switch(a.label){case 0:e=r.getReader(),a.label=1;case 1:a.trys.push([1,,9,10]),a.label=2;case 2:return[4,at(e.read())];case 3:return n=a.sent(),i=n.value,o=n.done,o?[4,at(void 0)]:[3,5];case 4:return[2,a.sent()];case 5:return[4,at(i)];case 6:return[4,a.sent()];case 7:return a.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function hn(r){return B(r==null?void 0:r.getReader)}function ue(r){if(r instanceof D)return r;if(r!=null){if(an(r))return vp(r);if(nn(r))return yp(r);if(on(r))return Ep(r);if(sn(r))return Ws(r);if(ln(r))return Tp(r);if(hn(r))return Ap(r)}throw fn(r)}function vp(r){return new D(function(t){var e=r[kt]();if(B(e.subscribe))return e.subscribe(t);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function yp(r){return new D(function(t){for(var e=0;e<r.length&&!t.closed;e++)t.next(r[e]);t.complete()})}function Ep(r){return new D(function(t){r.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,en)})}function Tp(r){return new D(function(t){var e,n;try{for(var i=ot(r),o=i.next();!o.done;o=i.next()){var a=o.value;if(t.next(a),t.closed)return}}catch(s){e={error:s}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}t.complete()})}function Ws(r){return new D(function(t){Sp(r,t).catch(function(e){return t.error(e)})})}function Ap(r){return Ws(cn(r))}function Sp(r,t){var e,n,i,o;return $s(this,void 0,void 0,function(){var a,s;return Kr(this,function(l){switch(l.label){case 0:l.trys.push([0,5,6,11]),e=Ns(r),l.label=1;case 1:return[4,e.next()];case 2:if(n=l.sent(),!!n.done)return[3,4];if(a=n.value,t.next(a),t.closed)return[2];l.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return s=l.sent(),i={error:s},[3,11];case 6:return l.trys.push([6,,9,10]),n&&!n.done&&(o=e.return)?[4,o.call(e)]:[3,8];case 7:l.sent(),l.label=8;case 8:return[3,10];case 9:if(i)throw i.error;return[7];case 10:return[7];case 11:return t.complete(),[2]}})})}p();d();p();d();function le(r,t,e,n,i){n===void 0&&(n=0),i===void 0&&(i=!1);var o=t.schedule(function(){e(),i?r.add(this.schedule(null,n)):this.unsubscribe()},n);if(r.add(o),!i)return o}function pn(r,t){return t===void 0&&(t=0),fe(function(e,n){e.subscribe(Ne(n,function(i){return le(n,r,function(){return n.next(i)},t)},function(){return le(n,r,function(){return n.complete()},t)},function(i){return le(n,r,function(){return n.error(i)},t)}))})}p();d();function dn(r,t){return t===void 0&&(t=0),fe(function(e,n){n.add(r.schedule(function(){return e.subscribe(n)},t))})}function Gs(r,t){return ue(r).pipe(dn(t),pn(t))}p();d();function Ks(r,t){return ue(r).pipe(dn(t),pn(t))}p();d();function Xs(r,t){return new D(function(e){var n=0;return t.schedule(function(){n===r.length?e.complete():(e.next(r[n++]),e.closed||this.schedule())})})}p();d();function qs(r,t){return new D(function(e){var n;return le(e,t,function(){n=r[un](),le(e,t,function(){var i,o,a;try{i=n.next(),o=i.value,a=i.done}catch(s){e.error(s);return}a?e.complete():e.next(o)},0,!0)}),function(){return B(n==null?void 0:n.return)&&n.return()}})}p();d();function mn(r,t){if(!r)throw new Error("Iterable cannot be null");return new D(function(e){le(e,t,function(){var n=r[Symbol.asyncIterator]();le(e,t,function(){n.next().then(function(i){i.done?e.complete():e.next(i.value)})},0,!0)})})}p();d();function Js(r,t){return mn(cn(r),t)}function Qs(r,t){if(r!=null){if(an(r))return Gs(r,t);if(nn(r))return Xs(r,t);if(on(r))return Ks(r,t);if(sn(r))return mn(r,t);if(ln(r))return qs(r,t);if(hn(r))return Js(r,t)}throw fn(r)}function ef(r,t){return t?Qs(r,t):ue(r)}p();d();var tf=Xr(function(r){return function(){r(this),this.name="EmptyError",this.message="no elements in sequence"}});p();d();function or(r,t){var e=typeof t=="object";return new Promise(function(n,i){var o=new Ct({next:function(a){n(a),o.unsubscribe()},error:i,complete:function(){e?n(t.defaultValue):i(new tf)}});r.subscribe(o)})}p();d();function ar(r,t){return fe(function(e,n){var i=0;e.subscribe(Ne(n,function(o){n.next(r.call(t,o,i++))}))})}p();d();p();d();p();d();function rf(r,t,e,n,i,o,a,s){var l=[],f=0,u=0,h=!1,w=function(){h&&!l.length&&!f&&t.complete()},c=function(_){return f<n?g(_):l.push(_)},g=function(_){o&&t.next(_),f++;var T=!1;ue(e(_,u++)).subscribe(Ne(t,function(E){i==null||i(E),o?c(E):t.next(E)},function(){T=!0},void 0,function(){if(T)try{f--;for(var E=function(){var C=l.shift();a?le(t,a,function(){return g(C)}):g(C)};l.length&&f<n;)E();w()}catch(C){t.error(C)}}))};return r.subscribe(Ne(t,c,function(){h=!0,w()})),function(){s==null||s()}}function ki(r,t,e){return e===void 0&&(e=1/0),B(t)?ki(function(n,i){return ar(function(o,a){return t(n,o,i,a)})(ue(r(n,i)))},e):(typeof t=="number"&&(e=t),fe(function(n,i){return rf(n,i,r,e)}))}function nf(r){return r===void 0&&(r=1/0),ki(rn,r)}p();d();function Ri(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=Hs(r),n=js(r,1/0),i=r;return i.length?i.length===1?ue(i[0]):nf(n)(ef(i,e)):Vs}p();d();p();d();p();d();function of(r,t,e,n,i){return function(o,a){var s=e,l=t,f=0;o.subscribe(Ne(a,function(u){var h=f++;l=s?r(l,u,h):(s=!0,u),n&&a.next(l)},i&&function(){s&&a.next(l),a.complete()}))}}function sr(r,t){return fe(of(r,t,arguments.length>=2,!1,!0))}var Cp=function(r,t){return r.push(t),r};function Ii(){return fe(function(r,t){sr(Cp,[])(r).subscribe(t)})}p();d();var af=-2003829722,$i=-2021002517;function kp(r){return new TextDecoder().decode(r)}function sf(r){let t=r?"big":"little",e=new U().endianess(t).int32("magic").uint16("version").uint16("numZoomLevels").uint64("chromTreeOffset").uint64("unzoomedDataOffset").uint64("unzoomedIndexOffset").uint16("fieldCount").uint16("definedFieldCount").uint64("asOffset").uint64("totalSummaryOffset").uint32("uncompressBufSize").uint64("extHeaderOffset").array("zoomLevels",{length:"numZoomLevels",type:new U().endianess(t).uint32("reductionLevel").uint32("reserved").uint64("dataOffset").uint64("indexOffset")}),n=new U().endianess(t).uint64("basesCovered").doublele("scoreMin").doublele("scoreMax").doublele("scoreSum").doublele("scoreSumSquares"),i=new U().endianess(t).uint32("magic").uint32("blockSize").uint32("keySize").uint32("valSize").uint64("itemCount"),o=new U().endianess(t).uint8("isLeafNode").skip(1).uint16("cnt").saveOffset("offset");return{chromTreeParser:i,totalSummaryParser:n,headerParser:e,isLeafNode:o}}var fr=class{getHeader(t){return this.headerP||(this.headerP=this._getHeader(t).catch(e=>{throw this.headerP=void 0,e})),this.headerP}constructor(t){let{filehandle:e,renameRefSeqs:n=a=>a,path:i,url:o}=t;if(this.renameRefSeqs=n,e)this.bbi=e;else if(o)this.bbi=new Ue(o);else if(i)this.bbi=new vi.default(i);else throw new Error("no file given")}async _getHeader(t){let e=await this._getMainHeader(t),n=await this._readChromTree(e,t);return{...e,...n}}async _getMainHeader(t,e=2e3){let{buffer:n}=await this.bbi.read(x.alloc(e),0,e,0,t),i=this._isBigEndian(n),o=sf(i),a=o.headerParser.parse(n),{magic:s,asOffset:l,totalSummaryOffset:f}=a;if(a.fileType=s===$i?"bigbed":"bigwig",l>e||f>e)return this._getMainHeader(t,e*2);if(l){let u=Number(a.asOffset);a.autoSql=kp(n.subarray(u,n.indexOf(0,u)))}if(a.totalSummaryOffset>e-8*5)return this._getMainHeader(t,e*2);if(a.totalSummaryOffset){let u=n.subarray(Number(a.totalSummaryOffset)),h=o.totalSummaryParser.parse(u);a.totalSummary={...h,basesCovered:Number(h.basesCovered)}}return{...a,isBigEndian:i}}_isBigEndian(t){let e=t.readInt32LE(0);if(e===af||e===$i)return!1;if(e=t.readInt32BE(0),e===af||e===$i)return!0;throw new Error("not a BigWig/BigBed file")}async _readChromTree(t,e){let n=t.isBigEndian,i=n?"big":"little",o=[],a={},s=Number(t.unzoomedDataOffset),l=Number(t.chromTreeOffset);for(;s%4!==0;)s+=1;let f=s-l,{buffer:u}=await this.bbi.read(x.alloc(f),0,f,Number(l),e),h=sf(n),{keySize:w}=h.chromTreeParser.parse(u),c=new U().endianess(i).string("key",{stripNull:!0,length:w}).uint32("refId").uint32("refSize").saveOffset("offset"),g=new U().endianess(i).skip(w).uint64("childOffset").saveOffset("offset"),_=32,T=async E=>{let C=E;if(C>=u.length)throw new Error("reading beyond end of buffer");let A=h.isLeafNode.parse(u.subarray(C)),{isLeafNode:v,cnt:k}=A;if(C+=A.offset,v)for(let I=0;I<k;I+=1){let y=c.parse(u.subarray(C));C+=y.offset;let{key:S,refId:R,refSize:$}=y,N={name:S,id:R,length:$};a[this.renameRefSeqs(S)]=R,o[R]=N}else{let I=[];for(let y=0;y<k;y+=1){let S=g.parse(u.subarray(C)),{childOffset:R}=S;C+=S.offset,I.push(T(Number(R)-Number(l)))}await Promise.all(I)}};return await T(_),{refsByName:a,refsByNumber:o}}async getUnzoomedView(t){let{unzoomedIndexOffset:e,refsByName:n,uncompressBufSize:i,isBigEndian:o,fileType:a}=await this.getHeader(t);return new rr(this.bbi,n,e,o,i>0,a)}async getFeatureStream(t,e,n,i){await this.getHeader(i);let o=this.renameRefSeqs(t),a,{basesPerSpan:s,scale:l}=i||{};return s?a=await this.getView(1/s,i):l?a=await this.getView(l,i):a=await this.getView(1,i),new D(f=>{a.readWigData(o,e,n,f,i).catch(u=>f.error(u))})}async getFeatures(t,e,n,i){let o=await this.getFeatureStream(t,e,n,i);return(await or(o.pipe(Ii()))).flat()}};p();d();var ff=It(Ln());function Rp(r){return r.filter(t=>!!t)}var ur=class extends fr{constructor(){super(...arguments),this.readIndicesCache=new me({cache:new ff.default({maxSize:1}),fill:(t,e)=>this._readIndices({...t,signal:e})})}readIndices(t={}){let{signal:e,...n}=t;return this.readIndicesCache.get(JSON.stringify(n),t,e)}async getView(t,e){return this.getUnzoomedView(e)}async _readIndices(t){let{extHeaderOffset:e,isBigEndian:n}=await this.getHeader(t),{buffer:i}=await this.bbi.read(x.alloc(64),0,64,Number(e)),o=n?"big":"little",a=new U().endianess(o).uint16("size").uint16("count").uint64("offset").parse(i),{count:s,offset:l}=a;if(s===0)return[];let f=20,u=f*s,{buffer:h}=await this.bbi.read(x.alloc(u),0,u,Number(l)),w=new U().endianess(o).int16("type").int16("fieldcount").uint64("offset").skip(4).int16("field"),c=[];for(let g=0;g<s;g+=1)c.push(w.parse(h.subarray(g*f)));return c}async searchExtraIndexBlocks(t,e={}){let{isBigEndian:n}=await this.getHeader(e),i=await this.readIndices(e);if(i.length===0)return[];let o=i.map(async a=>{let{offset:s,field:l}=a,{buffer:f}=await this.bbi.read(x.alloc(32),0,32,Number(s),e),u=n?"big":"little",h=new U().endianess(u).int32("magic").int32("blockSize").int32("keySize").int32("valSize").uint64("itemCount"),{blockSize:w,keySize:c,valSize:g}=h.parse(f),_=new U().endianess(u).int8("nodeType").skip(1).int16("cnt").choice({tag:"nodeType",choices:{0:new U().array("leafkeys",{length:"cnt",type:new U().endianess(u).string("key",{length:c,stripNull:!0}).uint64("offset")}),1:new U().array("keys",{length:"cnt",type:new U().endianess(u).string("key",{length:c,stripNull:!0}).uint64("offset").uint32("length").uint32("reserved")})}}),T=async C=>{let A=Number(C),v=4+w*(c+g),{buffer:k}=await this.bbi.read(x.alloc(v),0,v,A,e),I=_.parse(k);if(I.leafkeys){let y;for(let{key:S,offset:R}of I.leafkeys){if(t.localeCompare(S)<0&&y)return T(y);y=R}return T(y)}for(let y of I.keys)if(y.key===t)return{...y,field:l}},E=32;return T(Number(s)+E)});return Rp(await Promise.all(o))}async searchExtraIndex(t,e={}){let n=await this.searchExtraIndexBlocks(t,e);if(n.length===0)return[];let i=await this.getUnzoomedView(e),o=n.map(s=>new D(l=>{i.readFeatures(l,[s],e).catch(f=>l.error(f))}).pipe(sr((l,f)=>l.concat(f)),ar(l=>{for(let f of l)f.field=s.field;return l})));return(await or(Ri(...o))).filter(s=>{var l;return((l=s.rest)===null||l===void 0?void 0:l.split("	")[(s.field||0)-3])===t})}};p();d();p();d();var uf={},Ui={},Ni=34,lr=10,Fi=13;function cf(r){return new Function("d","return {"+r.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function Ip(r,t){var e=cf(r);return function(n,i){return t(e(n),i,r)}}function lf(r){var t=Object.create(null),e=[];return r.forEach(function(n){for(var i in n)i in t||e.push(t[i]=i)}),e}function Q(r,t){var e=r+"",n=e.length;return n<t?new Array(t-n+1).join(0)+e:e}function $p(r){return r<0?"-"+Q(-r,6):r>9999?"+"+Q(r,6):Q(r,4)}function Up(r){var t=r.getUTCHours(),e=r.getUTCMinutes(),n=r.getUTCSeconds(),i=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":$p(r.getUTCFullYear(),4)+"-"+Q(r.getUTCMonth()+1,2)+"-"+Q(r.getUTCDate(),2)+(i?"T"+Q(t,2)+":"+Q(e,2)+":"+Q(n,2)+"."+Q(i,3)+"Z":n?"T"+Q(t,2)+":"+Q(e,2)+":"+Q(n,2)+"Z":e||t?"T"+Q(t,2)+":"+Q(e,2)+"Z":"")}function hf(r){var t=new RegExp('["'+r+`
\r]`),e=r.charCodeAt(0);function n(h,w){var c,g,_=i(h,function(T,E){if(c)return c(T,E-1);g=T,c=w?Ip(T,w):cf(T)});return _.columns=g||[],_}function i(h,w){var c=[],g=h.length,_=0,T=0,E,C=g<=0,A=!1;h.charCodeAt(g-1)===lr&&--g,h.charCodeAt(g-1)===Fi&&--g;function v(){if(C)return Ui;if(A)return A=!1,uf;var I,y=_,S;if(h.charCodeAt(y)===Ni){for(;_++<g&&h.charCodeAt(_)!==Ni||h.charCodeAt(++_)===Ni;);return(I=_)>=g?C=!0:(S=h.charCodeAt(_++))===lr?A=!0:S===Fi&&(A=!0,h.charCodeAt(_)===lr&&++_),h.slice(y+1,I-1).replace(/""/g,'"')}for(;_<g;){if((S=h.charCodeAt(I=_++))===lr)A=!0;else if(S===Fi)A=!0,h.charCodeAt(_)===lr&&++_;else if(S!==e)continue;return h.slice(y,I)}return C=!0,h.slice(y,g)}for(;(E=v())!==Ui;){for(var k=[];E!==uf&&E!==Ui;)k.push(E),E=v();w&&(k=w(k,T++))==null||c.push(k)}return c}function o(h,w){return h.map(function(c){return w.map(function(g){return u(c[g])}).join(r)})}function a(h,w){return w==null&&(w=lf(h)),[w.map(u).join(r)].concat(o(h,w)).join(`
`)}function s(h,w){return w==null&&(w=lf(h)),o(h,w).join(`
`)}function l(h){return h.map(f).join(`
`)}function f(h){return h.map(u).join(r)}function u(h){return h==null?"":h instanceof Date?Up(h):t.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:n,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:f,formatValue:u}}p();d();var ft=hf("	"),Np=ft.parse,Bi=ft.parseRows,Fp=ft.format,Bp=ft.formatBody,Op=ft.formatRows,Pp=ft.formatRow,Dp=ft.formatValue;p();d();p();d();p();d();p();d();p();d();var ne="$";function wn(){}wn.prototype=pf.prototype={constructor:wn,has:function(r){return ne+r in this},get:function(r){return this[ne+r]},set:function(r,t){return this[ne+r]=t,this},remove:function(r){var t=ne+r;return t in this&&delete this[t]},clear:function(){for(var r in this)r[0]===ne&&delete this[r]},keys:function(){var r=[];for(var t in this)t[0]===ne&&r.push(t.slice(1));return r},values:function(){var r=[];for(var t in this)t[0]===ne&&r.push(this[t]);return r},entries:function(){var r=[];for(var t in this)t[0]===ne&&r.push({key:t.slice(1),value:this[t]});return r},size:function(){var r=0;for(var t in this)t[0]===ne&&++r;return r},empty:function(){for(var r in this)if(r[0]===ne)return!1;return!0},each:function(r){for(var t in this)t[0]===ne&&r(this[t],t.slice(1),this)}};function pf(r,t){var e=new wn;if(r instanceof wn)r.each(function(s,l){e.set(l,s)});else if(Array.isArray(r)){var n=-1,i=r.length,o;if(t==null)for(;++n<i;)e.set(n,r[n]);else for(;++n<i;)e.set(t(o=r[n],n,r),o)}else if(r)for(var a in r)e.set(a,r[a]);return e}var Rt=pf;p();d();function gn(){}var ut=Rt.prototype;gn.prototype=zp.prototype={constructor:gn,has:ut.has,add:function(r){return r+="",this[ne+r]=r,this},remove:ut.remove,clear:ut.clear,values:ut.keys,size:ut.size,empty:ut.empty,each:ut.each};function zp(r,t){var e=new gn;if(r instanceof gn)r.each(function(o){e.add(o)});else if(r){var n=-1,i=r.length;if(t==null)for(;++n<i;)e.add(r[n]);else for(;++n<i;)e.add(t(r[n],n,r))}return e}p();d();p();d();p();d();p();d();p();d();var Mp={value:function(){}};function mf(){for(var r=0,t=arguments.length,e={},n;r<t;++r){if(!(n=arguments[r]+"")||n in e||/[\s.]/.test(n))throw new Error("illegal type: "+n);e[n]=[]}return new _n(e)}function _n(r){this._=r}function Lp(r,t){return r.trim().split(/^|\s+/).map(function(e){var n="",i=e.indexOf(".");if(i>=0&&(n=e.slice(i+1),e=e.slice(0,i)),e&&!t.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:n}})}_n.prototype=mf.prototype={constructor:_n,on:function(r,t){var e=this._,n=Lp(r+"",e),i,o=-1,a=n.length;if(arguments.length<2){for(;++o<a;)if((i=(r=n[o]).type)&&(i=Vp(e[i],r.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(r=n[o]).type)e[i]=df(e[i],r.name,t);else if(t==null)for(i in e)e[i]=df(e[i],r.name,null);return this},copy:function(){var r={},t=this._;for(var e in t)r[e]=t[e].slice();return new _n(r)},call:function(r,t){if((i=arguments.length-2)>0)for(var e=new Array(i),n=0,i,o;n<i;++n)e[n]=arguments[n+2];if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(o=this._[r],n=0,i=o.length;n<i;++n)o[n].value.apply(t,e)},apply:function(r,t,e){if(!this._.hasOwnProperty(r))throw new Error("unknown type: "+r);for(var n=this._[r],i=0,o=n.length;i<o;++i)n[i].value.apply(t,e)}};function Vp(r,t){for(var e=0,n=r.length,i;e<n;++e)if((i=r[e]).name===t)return i.value}function df(r,t,e){for(var n=0,i=r.length;n<i;++n)if(r[n].name===t){r[n]=Mp,r=r.slice(0,n).concat(r.slice(n+1));break}return e!=null&&r.push({name:t,value:e}),r}var Oi=mf;function cr(r,t){var e,n=Oi("beforesend","progress","load","error"),i,o=Rt(),a=new XMLHttpRequest,s=null,l=null,f,u,h=0;typeof XDomainRequest!="undefined"&&!("withCredentials"in a)&&/^(http(s)?:)?\/\//.test(r)&&(a=new XDomainRequest),"onload"in a?a.onload=a.onerror=a.ontimeout=w:a.onreadystatechange=function(c){a.readyState>3&&w(c)};function w(c){var g=a.status,_;if(!g&&Yp(a)||g>=200&&g<300||g===304){if(f)try{_=f.call(e,a)}catch(T){n.call("error",e,T);return}else _=a;n.call("load",e,_)}else n.call("error",e,c)}if(a.onprogress=function(c){n.call("progress",e,c)},e={header:function(c,g){return c=(c+"").toLowerCase(),arguments.length<2?o.get(c):(g==null?o.remove(c):o.set(c,g+""),e)},mimeType:function(c){return arguments.length?(i=c==null?null:c+"",e):i},responseType:function(c){return arguments.length?(u=c,e):u},timeout:function(c){return arguments.length?(h=+c,e):h},user:function(c){return arguments.length<1?s:(s=c==null?null:c+"",e)},password:function(c){return arguments.length<1?l:(l=c==null?null:c+"",e)},response:function(c){return f=c,e},get:function(c,g){return e.send("GET",c,g)},post:function(c,g){return e.send("POST",c,g)},send:function(c,g,_){return a.open(c,r,!0,s,l),i!=null&&!o.has("accept")&&o.set("accept",i+",*/*"),a.setRequestHeader&&o.each(function(T,E){a.setRequestHeader(E,T)}),i!=null&&a.overrideMimeType&&a.overrideMimeType(i),u!=null&&(a.responseType=u),h>0&&(a.timeout=h),_==null&&typeof g=="function"&&(_=g,g=null),_!=null&&_.length===1&&(_=Zp(_)),_!=null&&e.on("error",_).on("load",function(T){_(null,T)}),n.call("beforesend",e,a),a.send(g==null?null:g),e},abort:function(){return a.abort(),e},on:function(){var c=n.on.apply(n,arguments);return c===n?e:c}},t!=null){if(typeof t!="function")throw new Error("invalid callback: "+t);return e.get(t)}return e}function Zp(r){return function(t,e){r(t==null?e:null)}}function Yp(r){var t=r.responseType;return t&&t!=="text"?r.response:r.responseText}p();d();p();d();function je(r,t){return function(e,n){var i=cr(e).mimeType(r).response(t);if(n!=null){if(typeof n!="function")throw new Error("invalid callback: "+n);return i.get(n)}return i}}var Hp=je("text/html",function(r){return document.createRange().createContextualFragment(r.responseText)});p();d();var jp=je("application/json",function(r){return JSON.parse(r.responseText)});p();d();var Pi=je("text/plain",function(r){return r.responseText});p();d();var Wp=je("application/xml",function(r){var t=r.responseXML;if(!t)throw new Error("parse error");return t});p();d();p();d();p();d();var wf={},Di={},zi=34,hr=10,Mi=13;function _f(r){return new Function("d","return {"+r.map(function(t,e){return JSON.stringify(t)+": d["+e+'] || ""'}).join(",")+"}")}function Gp(r,t){var e=_f(r);return function(n,i){return t(e(n),i,r)}}function gf(r){var t=Object.create(null),e=[];return r.forEach(function(n){for(var i in n)i in t||e.push(t[i]=i)}),e}function ee(r,t){var e=r+"",n=e.length;return n<t?new Array(t-n+1).join(0)+e:e}function Kp(r){return r<0?"-"+ee(-r,6):r>9999?"+"+ee(r,6):ee(r,4)}function Xp(r){var t=r.getUTCHours(),e=r.getUTCMinutes(),n=r.getUTCSeconds(),i=r.getUTCMilliseconds();return isNaN(r)?"Invalid Date":Kp(r.getUTCFullYear(),4)+"-"+ee(r.getUTCMonth()+1,2)+"-"+ee(r.getUTCDate(),2)+(i?"T"+ee(t,2)+":"+ee(e,2)+":"+ee(n,2)+"."+ee(i,3)+"Z":n?"T"+ee(t,2)+":"+ee(e,2)+":"+ee(n,2)+"Z":e||t?"T"+ee(t,2)+":"+ee(e,2)+"Z":"")}function bn(r){var t=new RegExp('["'+r+`
\r]`),e=r.charCodeAt(0);function n(h,w){var c,g,_=i(h,function(T,E){if(c)return c(T,E-1);g=T,c=w?Gp(T,w):_f(T)});return _.columns=g||[],_}function i(h,w){var c=[],g=h.length,_=0,T=0,E,C=g<=0,A=!1;h.charCodeAt(g-1)===hr&&--g,h.charCodeAt(g-1)===Mi&&--g;function v(){if(C)return Di;if(A)return A=!1,wf;var I,y=_,S;if(h.charCodeAt(y)===zi){for(;_++<g&&h.charCodeAt(_)!==zi||h.charCodeAt(++_)===zi;);return(I=_)>=g?C=!0:(S=h.charCodeAt(_++))===hr?A=!0:S===Mi&&(A=!0,h.charCodeAt(_)===hr&&++_),h.slice(y+1,I-1).replace(/""/g,'"')}for(;_<g;){if((S=h.charCodeAt(I=_++))===hr)A=!0;else if(S===Mi)A=!0,h.charCodeAt(_)===hr&&++_;else if(S!==e)continue;return h.slice(y,I)}return C=!0,h.slice(y,g)}for(;(E=v())!==Di;){for(var k=[];E!==wf&&E!==Di;)k.push(E),E=v();w&&(k=w(k,T++))==null||c.push(k)}return c}function o(h,w){return h.map(function(c){return w.map(function(g){return u(c[g])}).join(r)})}function a(h,w){return w==null&&(w=gf(h)),[w.map(u).join(r)].concat(o(h,w)).join(`
`)}function s(h,w){return w==null&&(w=gf(h)),o(h,w).join(`
`)}function l(h){return h.map(f).join(`
`)}function f(h){return h.map(u).join(r)}function u(h){return h==null?"":h instanceof Date?Xp(h):t.test(h+="")?'"'+h.replace(/"/g,'""')+'"':h}return{parse:n,parseRows:i,format:a,formatBody:s,formatRows:l,formatRow:f,formatValue:u}}p();d();var lt=bn(","),Li=lt.parse,qp=lt.parseRows,Jp=lt.format,Qp=lt.formatBody,e0=lt.formatRows,t0=lt.formatRow,r0=lt.formatValue;p();d();var ct=bn("	"),Vi=ct.parse,n0=ct.parseRows,i0=ct.format,o0=ct.formatBody,a0=ct.formatRows,s0=ct.formatRow,f0=ct.formatValue;p();d();function xn(r,t){return function(e,n,i){arguments.length<3&&(i=n,n=null);var o=cr(e).mimeType(r);return o.row=function(a){return arguments.length?o.response(u0(t,n=a)):n},o.row(n),i?o.get(i):o}}function u0(r,t){return function(e){return r(e.responseText,t)}}var l0=xn("text/csv",Li);p();d();var c0=xn("text/tab-separated-values",Vi);var xf=(r,t,e)=>e.chrPositions[r].pos+t;function h0(r){let t=[],e={},n={},i=0;for(let o=0;o<r.length;o++){let a=Number(r[o][1]);i+=a;let s={id:o,chr:r[o][0],pos:i-a};t.push(s),n[s.chr]=s,e[r[o][0]]=a}return{chrToAbs:([o,a])=>xf(o,a,{chrPositions:n}),cumPositions:t,chrPositions:n,totalLength:i,chromLengths:e}}function p0(r,t){let e={};return e.absToChr=n=>e.chrPositions?absToChr(n,e):null,e.chrToAbs=([n,i]=[])=>e.chrPositions?xf(n,i,e):null,Pi(r,(n,i)=>{if(n)t&&t(null);else{let o=Bi(i),a=h0(o);Object.keys(a).forEach(s=>{e[s]=a[s]}),t&&t(e)}})}var vf=function(t,...e){if(!new.target)throw new Error('Uncaught TypeError: Class constructor cannot be invoked without "new"');class n{constructor(o){this.dataConfig=o,this.trackUid=bf.default.nice(),this.bigBedFile=null,this.TILE_SIZE=1024,this.errorTxt="",this.dataPromises=[],this.dataPromises.push(this.loadChromsizes(o)),this.dataPromises.push(this.loadBigBed(o))}loadChromsizes(o){return o.chromSizesUrl?new Promise(a=>{p0(o.chromSizesUrl,s=>{this.chromSizes=s,a()})}):(console.error('Please enter a "chromSizesUrl" field to the data config'),null)}async loadBigBed(o){return o.url?(this.bigBedFile=new ur({filehandle:new Ue(o.url)}),this.bigBedFile):(console.error('Please enter a "url" field to the data config'),null)}tilesetInfo(o){return this.tilesetInfoLoading=!0,Promise.all(this.dataPromises).then(()=>{this.tilesetInfoLoading=!1;let a={},s=this.chromSizes.totalLength;return a={tile_size:this.TILE_SIZE,max_zoom:Math.ceil(Math.log(s/this.TILE_SIZE)/Math.log(2)),max_width:2**Math.ceil(Math.log(s)/Math.log(2)),min_pos:[0],max_pos:[s]},o&&o(a),a}).catch(a=>{this.tilesetInfoLoading=!1,console.error(a),o&&o({error:`Error parsing tabix: ${a}`})})}async fetchTilesDebounced(o,a){let s={},l=[],f=[];for(let u of a){let h=u.split("."),w=parseInt(h[0],10),c=parseInt(h[1],10);if(Number.isNaN(c)||Number.isNaN(w)){console.warn("Invalid tile zoom or position:",w,c);continue}l.push(u),f.push(await this.tile(w,c))}for(let u=0;u<f.length;u++){let h=l[u];s[h]=f[u],s[h].tilePositionId=h}return o(s),s}tile(o,a){return this.tilesetInfo().then(async s=>{let l=+s.max_width/2**+o,f=[],u={tilePos:[a],tileId:o+"."+a,zoomLevel:o},w=s.min_pos[0]+a*l,c=s.min_pos[0]+(a+1)*l,{chromLengths:g,cumPositions:_}=this.chromSizes,T=[];for(let E=0;E<_.length;E++){let C=_[E].chr,A=_[E].pos,v=_[E].pos+g[C],k,I;if(A<=w&&w<v)if(c>v){k=w-A,I=v-A;let S=(await this.bigBedFile.getFeatures(C,k,I)).map(R=>{let{start:$,end:N,rest:ce,uniqueId:ht}=R,Fe=[C,$,N],Be=ce.split("	"),he=[...Fe,...Be],vn=he.length>=5?parseFloat(he[4],10):0;T.push({xStart:A+parseInt(he[1],10),xEnd:A+parseInt(he[2],10),chrOffset:A,importance:vn,uid:ht,fields:he})});w=v}else{k=Math.floor(w-A),I=Math.ceil(c-A);let S=(await this.bigBedFile.getFeatures(C,k,I)).map(R=>{let{start:$,end:N,rest:ce,uniqueId:ht}=R,Fe=[C,$,N],Be=ce.split("	"),he=[...Fe,...Be],vn=he.length>=5?parseFloat(he[4],10):0;T.push({xStart:A+parseInt(he[1],10),xEnd:A+parseInt(he[2],10),chrOffset:A,importance:vn,uid:ht,fields:he})});break}}return T})}}return new n(...e)};vf.config={type:"bigbed"};var d0=vf;export{d0 as BigBedDataFetcher};
/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */
/*! pako 2.1.0 https://github.com/nodeca/pako @license (MIT AND Zlib) */
//# sourceMappingURL=index.min.js.map
